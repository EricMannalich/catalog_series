/*! For license information please see main.js.LICENSE.txt */
!function(){var g,e,I={6751:function(g,e,I){"use strict";I.d(e,{Z:function(){return tg}});var t=function(){function g(g){var e=this;this._insertTag=function(g){var I;I=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(g,I),e.tags.push(g)},this.isSpeedy=void 0===g.speedy||g.speedy,this.tags=[],this.ctr=0,this.nonce=g.nonce,this.key=g.key,this.container=g.container,this.prepend=g.prepend,this.insertionPoint=g.insertionPoint,this.before=null}var e=g.prototype;return e.hydrate=function(g){g.forEach(this._insertTag)},e.insert=function(g){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(g){var e=document.createElement("style");return e.setAttribute("data-emotion",g.key),void 0!==g.nonce&&e.setAttribute("nonce",g.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var I=function(g){if(g.sheet)return g.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===g)return document.styleSheets[e]}(e);try{I.insertRule(g,I.cssRules.length)}catch(g){}}else e.appendChild(document.createTextNode(g));this.ctr++},e.flush=function(){this.tags.forEach((function(g){return g.parentNode&&g.parentNode.removeChild(g)})),this.tags=[],this.ctr=0},g}(),n=Math.abs,l=String.fromCharCode,C=Object.assign;function o(g){return g.trim()}function a(g,e,I){return g.replace(e,I)}function r(g,e){return g.indexOf(e)}function i(g,e){return 0|g.charCodeAt(e)}function c(g,e,I){return g.slice(e,I)}function A(g){return g.length}function d(g){return g.length}function s(g,e){return e.push(g),g}var u=1,m=1,b=0,Z=0,p=0,G="";function h(g,e,I,t,n,l,C){return{value:g,root:e,parent:I,type:t,props:n,children:l,line:u,column:m,length:C,return:""}}function y(g,e){return C(h("",null,null,"",null,null,0),g,{length:-g.length},e)}function B(){return p=Z>0?i(G,--Z):0,m--,10===p&&(m=1,u--),p}function S(){return p=Z<b?i(G,Z++):0,m++,10===p&&(m=1,u++),p}function W(){return i(G,Z)}function V(){return Z}function R(g,e){return c(G,g,e)}function v(g){switch(g){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f(g){return u=m=1,b=A(G=g),Z=0,[]}function X(g){return G="",g}function k(g){return o(R(Z-1,H(91===g?g+2:40===g?g+1:g)))}function J(g){for(;(p=W())&&p<33;)S();return v(g)>2||v(p)>3?"":" "}function Y(g,e){for(;--e&&S()&&!(p<48||p>102||p>57&&p<65||p>70&&p<97););return R(g,V()+(e<6&&32==W()&&32==S()))}function H(g){for(;S();)switch(p){case g:return Z;case 34:case 39:34!==g&&39!==g&&H(p);break;case 40:41===g&&H(g);break;case 92:S()}return Z}function w(g,e){for(;S()&&g+p!==57&&(g+p!==84||47!==W()););return"/*"+R(e,Z-1)+"*"+l(47===g?g:S())}function N(g){for(;!v(W());)S();return R(g,Z)}var F="-ms-",K="-moz-",x="-webkit-",z="comm",M="rule",E="decl",L="@keyframes";function U(g,e){for(var I="",t=d(g),n=0;n<t;n++)I+=e(g[n],n,g,e)||"";return I}function Q(g,e,I,t){switch(g.type){case"@layer":if(g.children.length)break;case"@import":case E:return g.return=g.return||g.value;case z:return"";case L:return g.return=g.value+"{"+U(g.children,t)+"}";case M:g.value=g.props.join(",")}return A(I=U(g.children,t))?g.return=g.value+"{"+I+"}":""}function T(g){return X(D("",null,null,null,[""],g=f(g),0,[0],g))}function D(g,e,I,t,n,C,o,c,d){for(var u=0,m=0,b=o,Z=0,p=0,G=0,h=1,y=1,R=1,v=0,f="",X=n,H=C,F=t,K=f;y;)switch(G=v,v=S()){case 40:if(108!=G&&58==i(K,b-1)){-1!=r(K+=a(k(v),"&","&\f"),"&\f")&&(R=-1);break}case 34:case 39:case 91:K+=k(v);break;case 9:case 10:case 13:case 32:K+=J(G);break;case 92:K+=Y(V()-1,7);continue;case 47:switch(W()){case 42:case 47:s(P(w(S(),V()),e,I),d);break;default:K+="/"}break;case 123*h:c[u++]=A(K)*R;case 125*h:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+m:-1==R&&(K=a(K,/\f/g,"")),p>0&&A(K)-b&&s(p>32?O(K+";",t,I,b-1):O(a(K," ","")+";",t,I,b-2),d);break;case 59:K+=";";default:if(s(F=j(K,e,I,u,m,n,c,f,X=[],H=[],b),C),123===v)if(0===m)D(K,e,F,F,X,C,b,c,H);else switch(99===Z&&110===i(K,3)?100:Z){case 100:case 108:case 109:case 115:D(g,F,F,t&&s(j(g,F,F,0,0,n,c,f,n,X=[],b),H),n,H,b,c,t?X:H);break;default:D(K,F,F,F,[""],H,0,c,H)}}u=m=p=0,h=R=1,f=K="",b=o;break;case 58:b=1+A(K),p=G;default:if(h<1)if(123==v)--h;else if(125==v&&0==h++&&125==B())continue;switch(K+=l(v),v*h){case 38:R=m>0?1:(K+="\f",-1);break;case 44:c[u++]=(A(K)-1)*R,R=1;break;case 64:45===W()&&(K+=k(S())),Z=W(),m=b=A(f=K+=N(V())),v++;break;case 45:45===G&&2==A(K)&&(h=0)}}return C}function j(g,e,I,t,l,C,r,i,A,s,u){for(var m=l-1,b=0===l?C:[""],Z=d(b),p=0,G=0,y=0;p<t;++p)for(var B=0,S=c(g,m+1,m=n(G=r[p])),W=g;B<Z;++B)(W=o(G>0?b[B]+" "+S:a(S,/&\f/g,b[B])))&&(A[y++]=W);return h(g,e,I,0===l?M:i,A,s,u)}function P(g,e,I){return h(g,e,I,z,l(p),c(g,2,-2),0)}function O(g,e,I,t){return h(g,e,I,E,c(g,0,t),c(g,t+1,-1),t)}var q=function(g,e,I){for(var t=0,n=0;t=n,n=W(),38===t&&12===n&&(e[I]=1),!v(n);)S();return R(g,Z)},$=new WeakMap,_=function(g){if("rule"===g.type&&g.parent&&!(g.length<1)){for(var e=g.value,I=g.parent,t=g.column===I.column&&g.line===I.line;"rule"!==I.type;)if(!(I=I.parent))return;if((1!==g.props.length||58===e.charCodeAt(0)||$.get(I))&&!t){$.set(g,!0);for(var n=[],C=function(g,e){return X(function(g,e){var I=-1,t=44;do{switch(v(t)){case 0:38===t&&12===W()&&(e[I]=1),g[I]+=q(Z-1,e,I);break;case 2:g[I]+=k(t);break;case 4:if(44===t){g[++I]=58===W()?"&\f":"",e[I]=g[I].length;break}default:g[I]+=l(t)}}while(t=S());return g}(f(g),e))}(e,n),o=I.props,a=0,r=0;a<C.length;a++)for(var i=0;i<o.length;i++,r++)g.props[r]=n[a]?C[a].replace(/&\f/g,o[i]):o[i]+" "+C[a]}}},gg=function(g){if("decl"===g.type){var e=g.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(g.return="",g.value="")}};function eg(g,e){switch(function(g,e){return 45^i(g,0)?(((e<<2^i(g,0))<<2^i(g,1))<<2^i(g,2))<<2^i(g,3):0}(g,e)){case 5103:return x+"print-"+g+g;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return x+g+g;case 5349:case 4246:case 4810:case 6968:case 2756:return x+g+K+g+F+g+g;case 6828:case 4268:return x+g+F+g+g;case 6165:return x+g+F+"flex-"+g+g;case 5187:return x+g+a(g,/(\w+).+(:[^]+)/,x+"box-$1$2"+F+"flex-$1$2")+g;case 5443:return x+g+F+"flex-item-"+a(g,/flex-|-self/,"")+g;case 4675:return x+g+F+"flex-line-pack"+a(g,/align-content|flex-|-self/,"")+g;case 5548:return x+g+F+a(g,"shrink","negative")+g;case 5292:return x+g+F+a(g,"basis","preferred-size")+g;case 6060:return x+"box-"+a(g,"-grow","")+x+g+F+a(g,"grow","positive")+g;case 4554:return x+a(g,/([^-])(transform)/g,"$1"+x+"$2")+g;case 6187:return a(a(a(g,/(zoom-|grab)/,x+"$1"),/(image-set)/,x+"$1"),g,"")+g;case 5495:case 3959:return a(g,/(image-set\([^]*)/,x+"$1$`$1");case 4968:return a(a(g,/(.+:)(flex-)?(.*)/,x+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+x+g+g;case 4095:case 3583:case 4068:case 2532:return a(g,/(.+)-inline(.+)/,x+"$1$2")+g;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(A(g)-1-e>6)switch(i(g,e+1)){case 109:if(45!==i(g,e+4))break;case 102:return a(g,/(.+:)(.+)-([^]+)/,"$1"+x+"$2-$3$1"+K+(108==i(g,e+3)?"$3":"$2-$3"))+g;case 115:return~r(g,"stretch")?eg(a(g,"stretch","fill-available"),e)+g:g}break;case 4949:if(115!==i(g,e+1))break;case 6444:switch(i(g,A(g)-3-(~r(g,"!important")&&10))){case 107:return a(g,":",":"+x)+g;case 101:return a(g,/(.+:)([^;!]+)(;|!.+)?/,"$1"+x+(45===i(g,14)?"inline-":"")+"box$3$1"+x+"$2$3$1"+F+"$2box$3")+g}break;case 5936:switch(i(g,e+11)){case 114:return x+g+F+a(g,/[svh]\w+-[tblr]{2}/,"tb")+g;case 108:return x+g+F+a(g,/[svh]\w+-[tblr]{2}/,"tb-rl")+g;case 45:return x+g+F+a(g,/[svh]\w+-[tblr]{2}/,"lr")+g}return x+g+F+g+g}return g}var Ig=[function(g,e,I,t){if(g.length>-1&&!g.return)switch(g.type){case E:g.return=eg(g.value,g.length);break;case L:return U([y(g,{value:a(g.value,"@","@"+x)})],t);case M:if(g.length)return function(g,e){return g.map(e).join("")}(g.props,(function(e){switch(function(g,e){return(g=/(::plac\w+|:read-\w+)/.exec(g))?g[0]:g}(e)){case":read-only":case":read-write":return U([y(g,{props:[a(e,/:(read-\w+)/,":-moz-$1")]})],t);case"::placeholder":return U([y(g,{props:[a(e,/:(plac\w+)/,":"+x+"input-$1")]}),y(g,{props:[a(e,/:(plac\w+)/,":-moz-$1")]}),y(g,{props:[a(e,/:(plac\w+)/,F+"input-$1")]})],t)}return""}))}}],tg=function(g){var e=g.key;if("css"===e){var I=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(I,(function(g){-1!==g.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(g),g.setAttribute("data-s",""))}))}var n,l,C=g.stylisPlugins||Ig,o={},a=[];n=g.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(g){for(var e=g.getAttribute("data-emotion").split(" "),I=1;I<e.length;I++)o[e[I]]=!0;a.push(g)}));var r,i,c,A,s=[Q,(A=function(g){r.insert(g)},function(g){g.root||(g=g.return)&&A(g)})],u=(i=[_,gg].concat(C,s),c=d(i),function(g,e,I,t){for(var n="",l=0;l<c;l++)n+=i[l](g,e,I,t)||"";return n});l=function(g,e,I,t){r=I,U(T(g?g+"{"+e.styles+"}":e.styles),u),t&&(m.inserted[e.name]=!0)};var m={key:e,sheet:new t({key:e,container:n,nonce:g.nonce,speedy:g.speedy,prepend:g.prepend,insertionPoint:g.insertionPoint}),nonce:g.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m}},5042:function(g,e,I){"use strict";function t(g){var e=Object.create(null);return function(I){return void 0===e[I]&&(e[I]=g(I)),e[I]}}I.d(e,{Z:function(){return t}})},5260:function(g,e,I){"use strict";I.d(e,{T:function(){return a},i:function(){return l},w:function(){return o}});var t=I(7294),n=I(6751),l=(I(6797),I(7278),!0),C=t.createContext("undefined"!=typeof HTMLElement?(0,n.Z)({key:"css"}):null);C.Provider;var o=function(g){return(0,t.forwardRef)((function(e,I){var n=(0,t.useContext)(C);return g(e,n,I)}))};l||(o=function(g){return function(e){var I=(0,t.useContext)(C);return null===I?(I=(0,n.Z)({key:"css"}),t.createElement(C.Provider,{value:I},g(e,I))):g(e,I)}});var a=t.createContext({})},6797:function(g,e,I){"use strict";I.d(e,{O:function(){return s}});var t={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},n=I(5042),l=/[A-Z]|^ms/g,C=/_EMO_([^_]+?)_([^]*?)_EMO_/g,o=function(g){return 45===g.charCodeAt(1)},a=function(g){return null!=g&&"boolean"!=typeof g},r=(0,n.Z)((function(g){return o(g)?g:g.replace(l,"-$&").toLowerCase()})),i=function(g,e){switch(g){case"animation":case"animationName":if("string"==typeof e)return e.replace(C,(function(g,e,I){return A={name:e,styles:I,next:A},e}))}return 1===t[g]||o(g)||"number"!=typeof e||0===e?e:e+"px"};function c(g,e,I){if(null==I)return"";if(void 0!==I.__emotion_styles)return I;switch(typeof I){case"boolean":return"";case"object":if(1===I.anim)return A={name:I.name,styles:I.styles,next:A},I.name;if(void 0!==I.styles){var t=I.next;if(void 0!==t)for(;void 0!==t;)A={name:t.name,styles:t.styles,next:A},t=t.next;return I.styles+";"}return function(g,e,I){var t="";if(Array.isArray(I))for(var n=0;n<I.length;n++)t+=c(g,e,I[n])+";";else for(var l in I){var C=I[l];if("object"!=typeof C)null!=e&&void 0!==e[C]?t+=l+"{"+e[C]+"}":a(C)&&(t+=r(l)+":"+i(l,C)+";");else if(!Array.isArray(C)||"string"!=typeof C[0]||null!=e&&void 0!==e[C[0]]){var o=c(g,e,C);switch(l){case"animation":case"animationName":t+=r(l)+":"+o+";";break;default:t+=l+"{"+o+"}"}}else for(var A=0;A<C.length;A++)a(C[A])&&(t+=r(l)+":"+i(l,C[A])+";")}return t}(g,e,I);case"function":if(void 0!==g){var n=A,l=I(g);return A=n,c(g,e,l)}}if(null==e)return I;var C=e[I];return void 0!==C?C:I}var A,d=/label:\s*([^\s;\n{]+)\s*(;|$)/g,s=function(g,e,I){if(1===g.length&&"object"==typeof g[0]&&null!==g[0]&&void 0!==g[0].styles)return g[0];var t=!0,n="";A=void 0;var l=g[0];null==l||void 0===l.raw?(t=!1,n+=c(I,e,l)):n+=l[0];for(var C=1;C<g.length;C++)n+=c(I,e,g[C]),t&&(n+=l[C]);d.lastIndex=0;for(var o,a="";null!==(o=d.exec(n));)a+="-"+o[1];var r=function(g){for(var e,I=0,t=0,n=g.length;n>=4;++t,n-=4)e=1540483477*(65535&(e=255&g.charCodeAt(t)|(255&g.charCodeAt(++t))<<8|(255&g.charCodeAt(++t))<<16|(255&g.charCodeAt(++t))<<24))+(59797*(e>>>16)<<16),I=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&I)+(59797*(I>>>16)<<16);switch(n){case 3:I^=(255&g.charCodeAt(t+2))<<16;case 2:I^=(255&g.charCodeAt(t+1))<<8;case 1:I=1540483477*(65535&(I^=255&g.charCodeAt(t)))+(59797*(I>>>16)<<16)}return(((I=1540483477*(65535&(I^=I>>>13))+(59797*(I>>>16)<<16))^I>>>15)>>>0).toString(36)}(n)+a;return{name:r,styles:n,next:A}}},7278:function(g,e,I){"use strict";var t;I.d(e,{L:function(){return C},j:function(){return o}});var n=I(7294),l=!!(t||(t=I.t(n,2))).useInsertionEffect&&(t||(t=I.t(n,2))).useInsertionEffect,C=l||function(g){return g()},o=l||n.useLayoutEffect},444:function(g,e,I){"use strict";function t(g,e,I){var t="";return I.split(" ").forEach((function(I){void 0!==g[I]?e.push(g[I]+";"):t+=I+" "})),t}I.d(e,{My:function(){return l},fp:function(){return t},hC:function(){return n}});var n=function(g,e,I){var t=g.key+"-"+e.name;!1===I&&void 0===g.registered[t]&&(g.registered[t]=e.styles)},l=function(g,e,I){n(g,e,I);var t=g.key+"-"+e.name;if(void 0===g.inserted[e.name]){var l=e;do{g.insert(e===l?"."+t:"",l,g.sheet,!0),l=l.next}while(void 0!==l)}}},7327:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)([(0,l.jsx)("path",{d:"M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68c1.12 2.36 3.53 4 6.32 4 3.87 0 7-3.13 7-7s-3.13-7-7-7zm0 12c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"0"),(0,l.jsx)("path",{d:"M16.5 12H15v5l3.6 2.1.8-1.2-2.9-1.7z"},"1")],"AutoDelete");e.Z=C},9879:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"}),"Brightness4");e.Z=C},7289:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"}),"Brightness7");e.Z=C},9572:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");e.Z=C},6215:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");e.Z=C},7447:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M3 2h18v2H3zm0 18h18v2H3zm0-6h18v2H3zm0-6h18v2H3z"}),"DensitySmall");e.Z=C},8162:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");e.Z=C},1241:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z"}),"FilterAltOff");e.Z=C},219:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNone");e.Z=C},4613:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace");e.Z=C},1775:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8 2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"}),"PhotoSizeSelectLarge");e.Z=C},8394:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"}),"QrCodeScanner");e.Z=C},6818:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");e.Z=C},2761:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");e.Z=C},4957:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");e.Z=C},1334:function(g,e,I){"use strict";var t=I(4836);e.Z=void 0;var n=t(I(4938)),l=I(5893),C=(0,n.default)((0,l.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");e.Z=C},4938:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=I(4298)},4518:function(g,e){"use strict";e.Z={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},265:function(g,e){"use strict";e.Z={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},3023:function(g,e){"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},6607:function(g,e,I){"use strict";I(3023)},3527:function(g,e,I){"use strict";I.d(e,{Z:function(){return J}});var t=I(7462),n=I(3366),l=I(1387),C=I(9766),o=I(6268),a=I(8010),r=I(6523),i=I(1796),c={black:"#000",white:"#fff"},A={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d=I(4518),s=I(265),u={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Z={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const p=["mode","contrastThreshold","tonalOffset"],G={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:c.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},h={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(g,e,I,t){const n=t.light||t,l=t.dark||1.5*t;g[e]||(g.hasOwnProperty(I)?g[e]=g[I]:"light"===e?g.light=(0,i.$n)(g.main,n):"dark"===e&&(g.dark=(0,i._j)(g.main,l)))}const B=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],S={textTransform:"uppercase"},W='"Roboto", "Helvetica", "Arial", sans-serif';function V(g,e){const I="function"==typeof e?e(g):e,{fontFamily:l=W,fontSize:o=14,fontWeightLight:a=300,fontWeightRegular:r=400,fontWeightMedium:i=500,fontWeightBold:c=700,htmlFontSize:A=16,allVariants:d,pxToRem:s}=I,u=(0,n.Z)(I,B),m=o/14,b=s||(g=>g/A*m+"rem"),Z=(g,e,I,n,C)=>{return(0,t.Z)({fontFamily:l,fontWeight:g,fontSize:b(e),lineHeight:I},l===W?{letterSpacing:(o=n/e,Math.round(1e5*o)/1e5+"em")}:{},C,d);var o},p={h1:Z(a,96,1.167,-1.5),h2:Z(a,60,1.2,-.5),h3:Z(r,48,1.167,0),h4:Z(r,34,1.235,.25),h5:Z(r,24,1.334,0),h6:Z(i,20,1.6,.15),subtitle1:Z(r,16,1.75,.15),subtitle2:Z(i,14,1.57,.1),body1:Z(r,16,1.5,.15),body2:Z(r,14,1.43,.15),button:Z(i,14,1.75,.4,S),caption:Z(r,12,1.66,.4),overline:Z(r,12,2.66,1,S),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,C.Z)((0,t.Z)({htmlFontSize:A,pxToRem:b,fontFamily:l,fontSize:o,fontWeightLight:a,fontWeightRegular:r,fontWeightMedium:i,fontWeightBold:c},p),u,{clone:!1})}function R(...g){return[`${g[0]}px ${g[1]}px ${g[2]}px ${g[3]}px rgba(0,0,0,0.2)`,`${g[4]}px ${g[5]}px ${g[6]}px ${g[7]}px rgba(0,0,0,0.14)`,`${g[8]}px ${g[9]}px ${g[10]}px ${g[11]}px rgba(0,0,0,0.12)`].join(",")}var v=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],f=I(6067),X={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const k=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];var J=function(g={},...e){const{mixins:I={},palette:B={},transitions:S={},typography:W={}}=g,R=(0,n.Z)(g,k);if(g.vars)throw new Error((0,l.Z)(18));const J=function(g){const{mode:e="light",contrastThreshold:I=3,tonalOffset:o=.2}=g,a=(0,n.Z)(g,p),r=g.primary||function(g="light"){return"dark"===g?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(e),B=g.secondary||function(g="light"){return"dark"===g?{main:d.Z[200],light:d.Z[50],dark:d.Z[400]}:{main:d.Z[500],light:d.Z[300],dark:d.Z[700]}}(e),S=g.error||function(g="light"){return"dark"===g?{main:s.Z[500],light:s.Z[300],dark:s.Z[700]}:{main:s.Z[700],light:s.Z[400],dark:s.Z[800]}}(e),W=g.info||function(g="light"){return"dark"===g?{main:b[400],light:b[300],dark:b[700]}:{main:b[700],light:b[500],dark:b[900]}}(e),V=g.success||function(g="light"){return"dark"===g?{main:Z[400],light:Z[300],dark:Z[700]}:{main:Z[800],light:Z[500],dark:Z[900]}}(e),R=g.warning||function(g="light"){return"dark"===g?{main:u[400],light:u[300],dark:u[700]}:{main:"#ed6c02",light:u[500],dark:u[900]}}(e);function v(g){return(0,i.mi)(g,h.text.primary)>=I?h.text.primary:G.text.primary}const f=({color:g,name:e,mainShade:I=500,lightShade:n=300,darkShade:C=700})=>{if(!(g=(0,t.Z)({},g)).main&&g[I]&&(g.main=g[I]),!g.hasOwnProperty("main"))throw new Error((0,l.Z)(11,e?` (${e})`:"",I));if("string"!=typeof g.main)throw new Error((0,l.Z)(12,e?` (${e})`:"",JSON.stringify(g.main)));return y(g,"light",n,o),y(g,"dark",C,o),g.contrastText||(g.contrastText=v(g.main)),g},X={dark:h,light:G};return(0,C.Z)((0,t.Z)({common:(0,t.Z)({},c),mode:e,primary:f({color:r,name:"primary"}),secondary:f({color:B,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:S,name:"error"}),warning:f({color:R,name:"warning"}),info:f({color:W,name:"info"}),success:f({color:V,name:"success"}),grey:A,contrastThreshold:I,getContrastText:v,augmentColor:f,tonalOffset:o},X[e]),a)}(B),Y=(0,o.Z)(g);let H=(0,C.Z)(Y,{mixins:(w=Y.breakpoints,N=I,(0,t.Z)({toolbar:{minHeight:56,[w.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[w.up("sm")]:{minHeight:64}}},N)),palette:J,shadows:v.slice(),typography:V(J,W),transitions:(0,f.ZP)(S),zIndex:(0,t.Z)({},X)});var w,N;return H=(0,C.Z)(H,R),H=e.reduce(((g,e)=>(0,C.Z)(g,e)),H),H.unstable_sxConfig=(0,t.Z)({},a.Z,null==R?void 0:R.unstable_sxConfig),H.unstable_sx=function(g){return(0,r.Z)({sx:g,theme:this})},H}},6067:function(g,e,I){"use strict";I.d(e,{ZP:function(){return i},x9:function(){return o}});var t=I(3366),n=I(7462);const l=["duration","easing","delay"],C={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(g){return`${Math.round(g)}ms`}function r(g){if(!g)return 0;const e=g/36;return Math.round(10*(4+15*e**.25+e/5))}function i(g){const e=(0,n.Z)({},C,g.easing),I=(0,n.Z)({},o,g.duration);return(0,n.Z)({getAutoHeightDuration:r,create:(g=["all"],n={})=>{const{duration:C=I.standard,easing:o=e.easeInOut,delay:r=0}=n;return(0,t.Z)(n,l),(Array.isArray(g)?g:[g]).map((g=>`${g} ${"string"==typeof C?C:a(C)} ${o} ${"string"==typeof r?r:a(r)}`)).join(",")}},g,{easing:e,duration:I})}},247:function(g,e,I){"use strict";const t=(0,I(3527).Z)();e.Z=t},606:function(g,e){"use strict";e.Z="$$material"},948:function(g,e,I){"use strict";I.d(e,{Dz:function(){return o},FO:function(){return C}});var t=I(2807),n=I(247),l=I(606);const C=g=>(0,t.x9)(g)&&"classes"!==g,o=t.x9,a=(0,t.ZP)({themeId:l.Z,defaultTheme:n.Z,rootShouldForwardProp:C});e.ZP=a},1657:function(g,e,I){"use strict";I.d(e,{Z:function(){return C}});var t=I(7333),n=I(247),l=I(606);function C({props:g,name:e}){return(0,t.Z)({props:g,name:e,defaultTheme:n.Z,themeId:l.Z})}},8216:function(g,e,I){"use strict";var t=I(4142);e.Z=t.Z},7450:function(g,e,I){"use strict";var t=I(9064);e.Z=t.Z},5949:function(g,e,I){"use strict";I.d(e,{Z:function(){return p}});var t=I(7462),n=I(7294),l=I(3366),C=I(512),o=I(4780),a=I(8216),r=I(1657),i=I(948),c=I(1588),A=I(4867);function d(g){return(0,A.Z)("MuiSvgIcon",g)}(0,c.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var s=I(5893);const u=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,i.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,"inherit"!==I.color&&e[`color${(0,a.Z)(I.color)}`],e[`fontSize${(0,a.Z)(I.fontSize)}`]]}})((({theme:g,ownerState:e})=>{var I,t,n,l,C,o,a,r,i,c,A,d,s;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(I=g.transitions)||null==(t=I.create)?void 0:t.call(I,"fill",{duration:null==(n=g.transitions)||null==(n=n.duration)?void 0:n.shorter}),fontSize:{inherit:"inherit",small:(null==(l=g.typography)||null==(C=l.pxToRem)?void 0:C.call(l,20))||"1.25rem",medium:(null==(o=g.typography)||null==(a=o.pxToRem)?void 0:a.call(o,24))||"1.5rem",large:(null==(r=g.typography)||null==(i=r.pxToRem)?void 0:i.call(r,35))||"2.1875rem"}[e.fontSize],color:null!=(c=null==(A=(g.vars||g).palette)||null==(A=A[e.color])?void 0:A.main)?c:{action:null==(d=(g.vars||g).palette)||null==(d=d.action)?void 0:d.active,disabled:null==(s=(g.vars||g).palette)||null==(s=s.action)?void 0:s.disabled,inherit:void 0}[e.color]}})),b=n.forwardRef((function(g,e){const I=(0,r.Z)({props:g,name:"MuiSvgIcon"}),{children:i,className:c,color:A="inherit",component:b="svg",fontSize:Z="medium",htmlColor:p,inheritViewBox:G=!1,titleAccess:h,viewBox:y="0 0 24 24"}=I,B=(0,l.Z)(I,u),S=n.isValidElement(i)&&"svg"===i.type,W=(0,t.Z)({},I,{color:A,component:b,fontSize:Z,instanceFontSize:g.fontSize,inheritViewBox:G,viewBox:y,hasSvgAsChild:S}),V={};G||(V.viewBox=y);const R=(g=>{const{color:e,fontSize:I,classes:t}=g,n={root:["root","inherit"!==e&&`color${(0,a.Z)(e)}`,`fontSize${(0,a.Z)(I)}`]};return(0,o.Z)(n,d,t)})(W);return(0,s.jsxs)(m,(0,t.Z)({as:b,className:(0,C.Z)(R.root,c),focusable:"false",color:p,"aria-hidden":!h||void 0,role:h?"img":void 0,ref:e},V,B,S&&i.props,{ownerState:W,children:[S?i.props.children:i,h?(0,s.jsx)("title",{children:h}):null]}))}));b.muiName="SvgIcon";var Z=b;function p(g,e){function I(I,n){return(0,s.jsx)(Z,(0,t.Z)({"data-testid":`${e}Icon`,ref:n},I,{children:g}))}return I.muiName=Z.muiName,n.memo(n.forwardRef(I))}},7144:function(g,e,I){"use strict";var t=I(9336);e.Z=t.Z},4298:function(g,e,I){"use strict";I.r(e),I.d(e,{capitalize:function(){return n.Z},createChainedFunction:function(){return l.Z},createSvgIcon:function(){return C.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return a},isMuiElement:function(){return r.Z},ownerDocument:function(){return i.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return A},setRef:function(){return d},unstable_ClassNameGenerator:function(){return h},unstable_useEnhancedEffect:function(){return s.Z},unstable_useId:function(){return u.Z},unsupportedProp:function(){return m},useControlled:function(){return b.Z},useEventCallback:function(){return Z.Z},useForkRef:function(){return p.Z},useIsFocusVisible:function(){return G.Z}});var t=I(7078),n=I(8216),l=I(7450),C=I(5949),o=I(7144),a=function(g,e){return()=>null},r=I(8502),i=I(8038),c=I(5340);I(7462);var A=function(g,e){return()=>null},d=I(7960).Z,s=I(8974),u=I(7909),m=function(g,e,I,t,n){return null},b=I(9299),Z=I(2068),p=I(1705),G=I(9674);const h={configure:g=>{t.Z.configure(g)}}},8502:function(g,e,I){"use strict";I.d(e,{Z:function(){return n}});var t=I(7294),n=function(g,e){return t.isValidElement(g)&&-1!==e.indexOf(g.type.muiName)}},8038:function(g,e,I){"use strict";var t=I(2690);e.Z=t.Z},5340:function(g,e,I){"use strict";var t=I(4161);e.Z=t.Z},9299:function(g,e,I){"use strict";var t=I(9032);e.Z=t.Z},8974:function(g,e,I){"use strict";var t=I(3546);e.Z=t.Z},2068:function(g,e,I){"use strict";var t=I(9948);e.Z=t.Z},1705:function(g,e,I){"use strict";var t=I(3703);e.Z=t.Z},7909:function(g,e,I){"use strict";var t=I(2996);e.Z=t.Z},9674:function(g,e,I){"use strict";var t=I(9962);e.Z=t.Z},9378:function(g,e,I){"use strict";I.d(e,{ZP:function(){return Z},Co:function(){return p}});var t=I(7462),n=I(7294),l=I(5042),C=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=(0,l.Z)((function(g){return C.test(g)||111===g.charCodeAt(0)&&110===g.charCodeAt(1)&&g.charCodeAt(2)<91})),a=I(5260),r=I(444),i=I(6797),c=I(7278),A=o,d=function(g){return"theme"!==g},s=function(g){return"string"==typeof g&&g.charCodeAt(0)>96?A:d},u=function(g,e,I){var t;if(e){var n=e.shouldForwardProp;t=g.__emotion_forwardProp&&n?function(e){return g.__emotion_forwardProp(e)&&n(e)}:n}return"function"!=typeof t&&I&&(t=g.__emotion_forwardProp),t},m=function(g){var e=g.cache,I=g.serialized,t=g.isStringTag;return(0,r.hC)(e,I,t),(0,c.L)((function(){return(0,r.My)(e,I,t)})),null},b=function g(e,I){var l,C,o=e.__emotion_real===e,c=o&&e.__emotion_base||e;void 0!==I&&(l=I.label,C=I.target);var A=u(e,I,o),d=A||s(c),b=!d("as");return function(){var Z=arguments,p=o&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==l&&p.push("label:"+l+";"),null==Z[0]||void 0===Z[0].raw)p.push.apply(p,Z);else{p.push(Z[0][0]);for(var G=Z.length,h=1;h<G;h++)p.push(Z[h],Z[0][h])}var y=(0,a.w)((function(g,e,I){var t=b&&g.as||c,l="",o=[],u=g;if(null==g.theme){for(var Z in u={},g)u[Z]=g[Z];u.theme=n.useContext(a.T)}"string"==typeof g.className?l=(0,r.fp)(e.registered,o,g.className):null!=g.className&&(l=g.className+" ");var G=(0,i.O)(p.concat(o),e.registered,u);l+=e.key+"-"+G.name,void 0!==C&&(l+=" "+C);var h=b&&void 0===A?s(t):d,y={};for(var B in g)b&&"as"===B||h(B)&&(y[B]=g[B]);return y.className=l,y.ref=I,n.createElement(n.Fragment,null,n.createElement(m,{cache:e,serialized:G,isStringTag:"string"==typeof t}),n.createElement(t,y))}));return y.displayName=void 0!==l?l:"Styled("+("string"==typeof c?c:c.displayName||c.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=c,y.__emotion_styles=p,y.__emotion_forwardProp=A,Object.defineProperty(y,"toString",{value:function(){return"."+C}}),y.withComponent=function(e,n){return g(e,(0,t.Z)({},I,n,{shouldForwardProp:u(y,n,!0)})).apply(void 0,p)},y}}.bind();function Z(g,e){return b(g,e)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(g){b[g]=b(g)}));const p=(g,e)=>{Array.isArray(g.__emotion_styles)&&(g.__emotion_styles=e(g.__emotion_styles))}},5408:function(g,e,I){"use strict";I.d(e,{L7:function(){return a},P$:function(){return i},VO:function(){return n},W8:function(){return o},dt:function(){return r},k9:function(){return C}});var t=I(9766);const n={xs:0,sm:600,md:900,lg:1200,xl:1536},l={keys:["xs","sm","md","lg","xl"],up:g=>`@media (min-width:${n[g]}px)`};function C(g,e,I){const t=g.theme||{};if(Array.isArray(e)){const g=t.breakpoints||l;return e.reduce(((t,n,l)=>(t[g.up(g.keys[l])]=I(e[l]),t)),{})}if("object"==typeof e){const g=t.breakpoints||l;return Object.keys(e).reduce(((t,l)=>{if(-1!==Object.keys(g.values||n).indexOf(l))t[g.up(l)]=I(e[l],l);else{const g=l;t[g]=e[g]}return t}),{})}return I(e)}function o(g={}){var e;return(null==(e=g.keys)?void 0:e.reduce(((e,I)=>(e[g.up(I)]={},e)),{}))||{}}function a(g,e){return g.reduce(((g,e)=>{const I=g[e];return(!I||0===Object.keys(I).length)&&delete g[e],g}),e)}function r(g,...e){const I=o(g),n=[I,...e].reduce(((g,e)=>(0,t.Z)(g,e)),{});return a(Object.keys(I),n)}function i({values:g,breakpoints:e,base:I}){const t=I||function(g,e){if("object"!=typeof g)return{};const I={},t=Object.keys(e);return Array.isArray(g)?t.forEach(((e,t)=>{t<g.length&&(I[e]=!0)})):t.forEach((e=>{null!=g[e]&&(I[e]=!0)})),I}(g,e),n=Object.keys(t);if(0===n.length)return g;let l;return n.reduce(((e,I,t)=>(Array.isArray(g)?(e[I]=null!=g[t]?g[t]:g[l],l=t):"object"==typeof g?(e[I]=null!=g[I]?g[I]:g[l],l=I):e[I]=g,e)),{})}},1796:function(g,e,I){"use strict";I.d(e,{$n:function(){return c},Fq:function(){return r},_j:function(){return i},mi:function(){return a}});var t=I(1387);function n(g,e=0,I=1){return Math.min(Math.max(e,g),I)}function l(g){if(g.type)return g;if("#"===g.charAt(0))return l(function(g){g=g.slice(1);const e=new RegExp(`.{1,${g.length>=6?2:1}}`,"g");let I=g.match(e);return I&&1===I[0].length&&(I=I.map((g=>g+g))),I?`rgb${4===I.length?"a":""}(${I.map(((g,e)=>e<3?parseInt(g,16):Math.round(parseInt(g,16)/255*1e3)/1e3)).join(", ")})`:""}(g));const e=g.indexOf("("),I=g.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(I))throw new Error((0,t.Z)(9,g));let n,C=g.substring(e+1,g.length-1);if("color"===I){if(C=C.split(" "),n=C.shift(),4===C.length&&"/"===C[3].charAt(0)&&(C[3]=C[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,t.Z)(10,n))}else C=C.split(",");return C=C.map((g=>parseFloat(g))),{type:I,values:C,colorSpace:n}}function C(g){const{type:e,colorSpace:I}=g;let{values:t}=g;return-1!==e.indexOf("rgb")?t=t.map(((g,e)=>e<3?parseInt(g,10):g)):-1!==e.indexOf("hsl")&&(t[1]=`${t[1]}%`,t[2]=`${t[2]}%`),t=-1!==e.indexOf("color")?`${I} ${t.join(" ")}`:`${t.join(", ")}`,`${e}(${t})`}function o(g){let e="hsl"===(g=l(g)).type||"hsla"===g.type?l(function(g){g=l(g);const{values:e}=g,I=e[0],t=e[1]/100,n=e[2]/100,o=t*Math.min(n,1-n),a=(g,e=(g+I/30)%12)=>n-o*Math.max(Math.min(e-3,9-e,1),-1);let r="rgb";const i=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===g.type&&(r+="a",i.push(e[3])),C({type:r,values:i})}(g)).values:g.values;return e=e.map((e=>("color"!==g.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function a(g,e){const I=o(g),t=o(e);return(Math.max(I,t)+.05)/(Math.min(I,t)+.05)}function r(g,e){return g=l(g),e=n(e),"rgb"!==g.type&&"hsl"!==g.type||(g.type+="a"),"color"===g.type?g.values[3]=`/${e}`:g.values[3]=e,C(g)}function i(g,e){if(g=l(g),e=n(e),-1!==g.type.indexOf("hsl"))g.values[2]*=1-e;else if(-1!==g.type.indexOf("rgb")||-1!==g.type.indexOf("color"))for(let I=0;I<3;I+=1)g.values[I]*=1-e;return C(g)}function c(g,e){if(g=l(g),e=n(e),-1!==g.type.indexOf("hsl"))g.values[2]+=(100-g.values[2])*e;else if(-1!==g.type.indexOf("rgb"))for(let I=0;I<3;I+=1)g.values[I]+=(255-g.values[I])*e;else if(-1!==g.type.indexOf("color"))for(let I=0;I<3;I+=1)g.values[I]+=(1-g.values[I])*e;return C(g)}},2807:function(g,e,I){"use strict";I.d(e,{ZP:function(){return h},x9:function(){return m}});var t=I(3366),n=I(7462),l=I(9378),C=I(6268),o=I(4142);const a=["variant"];function r(g){return 0===g.length}function i(g){const{variant:e}=g,I=(0,t.Z)(g,a);let n=e||"";return Object.keys(I).sort().forEach((e=>{n+="color"===e?r(n)?g[e]:(0,o.Z)(g[e]):`${r(n)?e:(0,o.Z)(e)}${(0,o.Z)(g[e].toString())}`})),n}var c=I(6523);const A=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],d=(g,e)=>e.components&&e.components[g]&&e.components[g].styleOverrides?e.components[g].styleOverrides:null,s=(g,e)=>{let I=[];e&&e.components&&e.components[g]&&e.components[g].variants&&(I=e.components[g].variants);const t={};return I.forEach((g=>{const e=i(g.props);t[e]=g.style})),t},u=(g,e,I,t)=>{var n;const{ownerState:l={}}=g,C=[],o=null==I||null==(n=I.components)||null==(n=n[t])?void 0:n.variants;return o&&o.forEach((I=>{let t=!0;Object.keys(I.props).forEach((e=>{l[e]!==I.props[e]&&g[e]!==I.props[e]&&(t=!1)})),t&&C.push(e[i(I.props)])})),C};function m(g){return"ownerState"!==g&&"theme"!==g&&"sx"!==g&&"as"!==g}const b=(0,C.Z)(),Z=g=>g?g.charAt(0).toLowerCase()+g.slice(1):g;function p({defaultTheme:g,theme:e,themeId:I}){return t=e,0===Object.keys(t).length?g:e[I]||e;var t}function G(g){return g?(e,I)=>I[g]:null}function h(g={}){const{themeId:e,defaultTheme:I=b,rootShouldForwardProp:C=m,slotShouldForwardProp:o=m}=g,a=g=>(0,c.Z)((0,n.Z)({},g,{theme:p((0,n.Z)({},g,{defaultTheme:I,themeId:e}))}));return a.__mui_systemSx=!0,(g,r={})=>{(0,l.Co)(g,(g=>g.filter((g=>!(null!=g&&g.__mui_systemSx)))));const{name:i,slot:c,skipVariantsResolver:b,skipSx:h,overridesResolver:y=G(Z(c))}=r,B=(0,t.Z)(r,A),S=void 0!==b?b:c&&"Root"!==c&&"root"!==c||!1,W=h||!1;let V=m;"Root"===c||"root"===c?V=C:c?V=o:function(g){return"string"==typeof g&&g.charCodeAt(0)>96}(g)&&(V=void 0);const R=(0,l.ZP)(g,(0,n.Z)({shouldForwardProp:V,label:void 0},B)),v=(t,...l)=>{const C=l?l.map((g=>"function"==typeof g&&g.__emotion_real!==g?t=>g((0,n.Z)({},t,{theme:p((0,n.Z)({},t,{defaultTheme:I,themeId:e}))})):g)):[];let o=t;i&&y&&C.push((g=>{const t=p((0,n.Z)({},g,{defaultTheme:I,themeId:e})),l=d(i,t);if(l){const e={};return Object.entries(l).forEach((([I,l])=>{e[I]="function"==typeof l?l((0,n.Z)({},g,{theme:t})):l})),y(g,e)}return null})),i&&!S&&C.push((g=>{const t=p((0,n.Z)({},g,{defaultTheme:I,themeId:e}));return u(g,s(i,t),t,i)})),W||C.push(a);const r=C.length-l.length;if(Array.isArray(t)&&r>0){const g=new Array(r).fill("");o=[...t,...g],o.raw=[...t.raw,...g]}else"function"==typeof t&&t.__emotion_real!==t&&(o=g=>t((0,n.Z)({},g,{theme:p((0,n.Z)({},g,{defaultTheme:I,themeId:e}))})));const c=R(o,...C);return g.muiName&&(c.muiName=g.muiName),c};return R.withConfig&&(v.withConfig=R.withConfig),v}}},6268:function(g,e,I){"use strict";I.d(e,{Z:function(){return A}});var t=I(7462),n=I(3366),l=I(9766);const C=["values","unit","step"];var o={borderRadius:4},a=I(2605),r=I(6523),i=I(8010);const c=["breakpoints","palette","spacing","shape"];var A=function(g={},...e){const{breakpoints:I={},palette:A={},spacing:d,shape:s={}}=g,u=(0,n.Z)(g,c),m=function(g){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:I="px",step:l=5}=g,o=(0,n.Z)(g,C),a=(g=>{const e=Object.keys(g).map((e=>({key:e,val:g[e]})))||[];return e.sort(((g,e)=>g.val-e.val)),e.reduce(((g,e)=>(0,t.Z)({},g,{[e.key]:e.val})),{})})(e),r=Object.keys(a);function i(g){return`@media (min-width:${"number"==typeof e[g]?e[g]:g}${I})`}function c(g){return`@media (max-width:${("number"==typeof e[g]?e[g]:g)-l/100}${I})`}function A(g,t){const n=r.indexOf(t);return`@media (min-width:${"number"==typeof e[g]?e[g]:g}${I}) and (max-width:${(-1!==n&&"number"==typeof e[r[n]]?e[r[n]]:t)-l/100}${I})`}return(0,t.Z)({keys:r,values:a,up:i,down:c,between:A,only:function(g){return r.indexOf(g)+1<r.length?A(g,r[r.indexOf(g)+1]):i(g)},not:function(g){const e=r.indexOf(g);return 0===e?i(r[1]):e===r.length-1?c(r[e]):A(g,r[r.indexOf(g)+1]).replace("@media","@media not all and")},unit:I},o)}(I),b=function(g=8){if(g.mui)return g;const e=(0,a.hB)({spacing:g}),I=(...g)=>(0===g.length?[1]:g).map((g=>{const I=e(g);return"number"==typeof I?`${I}px`:I})).join(" ");return I.mui=!0,I}(d);let Z=(0,l.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,t.Z)({mode:"light"},A),spacing:b,shape:(0,t.Z)({},o,s)},u);return Z=e.reduce(((g,e)=>(0,l.Z)(g,e)),Z),Z.unstable_sxConfig=(0,t.Z)({},i.Z,null==u?void 0:u.unstable_sxConfig),Z.unstable_sx=function(g){return(0,r.Z)({sx:g,theme:this})},Z}},7730:function(g,e,I){"use strict";var t=I(9766);e.Z=function(g,e){return e?(0,t.Z)(g,e,{clone:!1}):g}},2605:function(g,e,I){"use strict";I.d(e,{hB:function(){return s},eI:function(){return d},NA:function(){return u},e6:function(){return b},o3:function(){return Z}});var t=I(5408),n=I(4844),l=I(7730);const C={m:"margin",p:"padding"},o={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},a={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},r=function(g){const e={};return g=>(void 0===e[g]&&(e[g]=(g=>{if(g.length>2){if(!a[g])return[g];g=a[g]}const[e,I]=g.split(""),t=C[e],n=o[I]||"";return Array.isArray(n)?n.map((g=>t+g)):[t+n]})(g)),e[g])}(),i=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],c=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],A=[...i,...c];function d(g,e,I,t){var l;const C=null!=(l=(0,n.DW)(g,e,!1))?l:I;return"number"==typeof C?g=>"string"==typeof g?g:C*g:Array.isArray(C)?g=>"string"==typeof g?g:C[g]:"function"==typeof C?C:()=>{}}function s(g){return d(g,"spacing",8)}function u(g,e){if("string"==typeof e||null==e)return e;const I=g(Math.abs(e));return e>=0?I:"number"==typeof I?-I:`-${I}`}function m(g,e){const I=s(g.theme);return Object.keys(g).map((n=>function(g,e,I,n){if(-1===e.indexOf(I))return null;const l=function(g,e){return I=>g.reduce(((g,t)=>(g[t]=u(e,I),g)),{})}(r(I),n),C=g[I];return(0,t.k9)(g,C,l)}(g,e,n,I))).reduce(l.Z,{})}function b(g){return m(g,i)}function Z(g){return m(g,c)}function p(g){return m(g,A)}b.propTypes={},b.filterProps=i,Z.propTypes={},Z.filterProps=c,p.propTypes={},p.filterProps=A},4844:function(g,e,I){"use strict";I.d(e,{DW:function(){return l},Jq:function(){return C}});var t=I(4142),n=I(5408);function l(g,e,I=!0){if(!e||"string"!=typeof e)return null;if(g&&g.vars&&I){const I=`vars.${e}`.split(".").reduce(((g,e)=>g&&g[e]?g[e]:null),g);if(null!=I)return I}return e.split(".").reduce(((g,e)=>g&&null!=g[e]?g[e]:null),g)}function C(g,e,I,t=I){let n;return n="function"==typeof g?g(I):Array.isArray(g)?g[I]||t:l(g,I)||t,e&&(n=e(n,t,g)),n}e.ZP=function(g){const{prop:e,cssProperty:I=g.prop,themeKey:o,transform:a}=g,r=g=>{if(null==g[e])return null;const r=g[e],i=l(g.theme,o)||{};return(0,n.k9)(g,r,(g=>{let n=C(i,a,g);return g===n&&"string"==typeof g&&(n=C(i,a,`${e}${"default"===g?"":(0,t.Z)(g)}`,g)),!1===I?n:{[I]:n}}))};return r.propTypes={},r.filterProps=[e],r}},8010:function(g,e,I){"use strict";I.d(e,{Z:function(){return k}});var t=I(2605),n=I(4844),l=I(7730),C=function(...g){const e=g.reduce(((g,e)=>(e.filterProps.forEach((I=>{g[I]=e})),g)),{}),I=g=>Object.keys(g).reduce(((I,t)=>e[t]?(0,l.Z)(I,e[t](g)):I),{});return I.propTypes={},I.filterProps=g.reduce(((g,e)=>g.concat(e.filterProps)),[]),I},o=I(5408);function a(g){return"number"!=typeof g?g:`${g}px solid`}const r=(0,n.ZP)({prop:"border",themeKey:"borders",transform:a}),i=(0,n.ZP)({prop:"borderTop",themeKey:"borders",transform:a}),c=(0,n.ZP)({prop:"borderRight",themeKey:"borders",transform:a}),A=(0,n.ZP)({prop:"borderBottom",themeKey:"borders",transform:a}),d=(0,n.ZP)({prop:"borderLeft",themeKey:"borders",transform:a}),s=(0,n.ZP)({prop:"borderColor",themeKey:"palette"}),u=(0,n.ZP)({prop:"borderTopColor",themeKey:"palette"}),m=(0,n.ZP)({prop:"borderRightColor",themeKey:"palette"}),b=(0,n.ZP)({prop:"borderBottomColor",themeKey:"palette"}),Z=(0,n.ZP)({prop:"borderLeftColor",themeKey:"palette"}),p=g=>{if(void 0!==g.borderRadius&&null!==g.borderRadius){const e=(0,t.eI)(g.theme,"shape.borderRadius",4,"borderRadius"),I=g=>({borderRadius:(0,t.NA)(e,g)});return(0,o.k9)(g,g.borderRadius,I)}return null};p.propTypes={},p.filterProps=["borderRadius"],C(r,i,c,A,d,s,u,m,b,Z,p);const G=g=>{if(void 0!==g.gap&&null!==g.gap){const e=(0,t.eI)(g.theme,"spacing",8,"gap"),I=g=>({gap:(0,t.NA)(e,g)});return(0,o.k9)(g,g.gap,I)}return null};G.propTypes={},G.filterProps=["gap"];const h=g=>{if(void 0!==g.columnGap&&null!==g.columnGap){const e=(0,t.eI)(g.theme,"spacing",8,"columnGap"),I=g=>({columnGap:(0,t.NA)(e,g)});return(0,o.k9)(g,g.columnGap,I)}return null};h.propTypes={},h.filterProps=["columnGap"];const y=g=>{if(void 0!==g.rowGap&&null!==g.rowGap){const e=(0,t.eI)(g.theme,"spacing",8,"rowGap"),I=g=>({rowGap:(0,t.NA)(e,g)});return(0,o.k9)(g,g.rowGap,I)}return null};function B(g,e){return"grey"===e?e:g}function S(g){return g<=1&&0!==g?100*g+"%":g}y.propTypes={},y.filterProps=["rowGap"],C(G,h,y,(0,n.ZP)({prop:"gridColumn"}),(0,n.ZP)({prop:"gridRow"}),(0,n.ZP)({prop:"gridAutoFlow"}),(0,n.ZP)({prop:"gridAutoColumns"}),(0,n.ZP)({prop:"gridAutoRows"}),(0,n.ZP)({prop:"gridTemplateColumns"}),(0,n.ZP)({prop:"gridTemplateRows"}),(0,n.ZP)({prop:"gridTemplateAreas"}),(0,n.ZP)({prop:"gridArea"})),C((0,n.ZP)({prop:"color",themeKey:"palette",transform:B}),(0,n.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:B}),(0,n.ZP)({prop:"backgroundColor",themeKey:"palette",transform:B}));const W=(0,n.ZP)({prop:"width",transform:S}),V=g=>{if(void 0!==g.maxWidth&&null!==g.maxWidth){const e=e=>{var I,t;const n=(null==(I=g.theme)||null==(I=I.breakpoints)||null==(I=I.values)?void 0:I[e])||o.VO[e];return n?"px"!==(null==(t=g.theme)||null==(t=t.breakpoints)?void 0:t.unit)?{maxWidth:`${n}${g.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:S(e)}};return(0,o.k9)(g,g.maxWidth,e)}return null};V.filterProps=["maxWidth"];const R=(0,n.ZP)({prop:"minWidth",transform:S}),v=(0,n.ZP)({prop:"height",transform:S}),f=(0,n.ZP)({prop:"maxHeight",transform:S}),X=(0,n.ZP)({prop:"minHeight",transform:S});(0,n.ZP)({prop:"size",cssProperty:"width",transform:S}),(0,n.ZP)({prop:"size",cssProperty:"height",transform:S}),C(W,V,R,v,f,X,(0,n.ZP)({prop:"boxSizing"}));var k={border:{themeKey:"borders",transform:a},borderTop:{themeKey:"borders",transform:a},borderRight:{themeKey:"borders",transform:a},borderBottom:{themeKey:"borders",transform:a},borderLeft:{themeKey:"borders",transform:a},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:p},color:{themeKey:"palette",transform:B},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:B},backgroundColor:{themeKey:"palette",transform:B},p:{style:t.o3},pt:{style:t.o3},pr:{style:t.o3},pb:{style:t.o3},pl:{style:t.o3},px:{style:t.o3},py:{style:t.o3},padding:{style:t.o3},paddingTop:{style:t.o3},paddingRight:{style:t.o3},paddingBottom:{style:t.o3},paddingLeft:{style:t.o3},paddingX:{style:t.o3},paddingY:{style:t.o3},paddingInline:{style:t.o3},paddingInlineStart:{style:t.o3},paddingInlineEnd:{style:t.o3},paddingBlock:{style:t.o3},paddingBlockStart:{style:t.o3},paddingBlockEnd:{style:t.o3},m:{style:t.e6},mt:{style:t.e6},mr:{style:t.e6},mb:{style:t.e6},ml:{style:t.e6},mx:{style:t.e6},my:{style:t.e6},margin:{style:t.e6},marginTop:{style:t.e6},marginRight:{style:t.e6},marginBottom:{style:t.e6},marginLeft:{style:t.e6},marginX:{style:t.e6},marginY:{style:t.e6},marginInline:{style:t.e6},marginInlineStart:{style:t.e6},marginInlineEnd:{style:t.e6},marginBlock:{style:t.e6},marginBlockStart:{style:t.e6},marginBlockEnd:{style:t.e6},displayPrint:{cssProperty:!1,transform:g=>({"@media print":{display:g}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:G},rowGap:{style:y},columnGap:{style:h},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:S},maxWidth:{style:V},minWidth:{transform:S},height:{transform:S},maxHeight:{transform:S},minHeight:{transform:S},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},6523:function(g,e,I){"use strict";var t=I(4142),n=I(7730),l=I(4844),C=I(5408),o=I(8010);const a=function(){function g(g,e,I,n){const o={[g]:e,theme:I},a=n[g];if(!a)return{[g]:e};const{cssProperty:r=g,themeKey:i,transform:c,style:A}=a;if(null==e)return null;if("typography"===i&&"inherit"===e)return{[g]:e};const d=(0,l.DW)(I,i)||{};return A?A(o):(0,C.k9)(o,e,(e=>{let I=(0,l.Jq)(d,c,e);return e===I&&"string"==typeof e&&(I=(0,l.Jq)(d,c,`${g}${"default"===e?"":(0,t.Z)(e)}`,e)),!1===r?I:{[r]:I}}))}return function e(I){var t;const{sx:l,theme:a={}}=I||{};if(!l)return null;const r=null!=(t=a.unstable_sxConfig)?t:o.Z;function i(I){let t=I;if("function"==typeof I)t=I(a);else if("object"!=typeof I)return I;if(!t)return null;const l=(0,C.W8)(a.breakpoints),o=Object.keys(l);let i=l;return Object.keys(t).forEach((I=>{const l="function"==typeof(o=t[I])?o(a):o;var o;if(null!=l)if("object"==typeof l)if(r[I])i=(0,n.Z)(i,g(I,l,a,r));else{const g=(0,C.k9)({theme:a},l,(g=>({[I]:g})));!function(...g){const e=g.reduce(((g,e)=>g.concat(Object.keys(e))),[]),I=new Set(e);return g.every((g=>I.size===Object.keys(g).length))}(g,l)?i=(0,n.Z)(i,g):i[I]=e({sx:l,theme:a})}else i=(0,n.Z)(i,g(I,l,a,r))})),(0,C.L7)(o,i)}return Array.isArray(l)?l.map(i):i(l)}}();a.filterProps=["sx"],e.Z=a},6682:function(g,e,I){"use strict";var t=I(6268),n=I(4168);const l=(0,t.Z)();e.Z=function(g=l){return(0,n.Z)(g)}},7333:function(g,e,I){"use strict";I.d(e,{Z:function(){return l}});var t=I(7925),n=I(6682);function l({props:g,name:e,defaultTheme:I,themeId:l}){let C=(0,n.Z)(I);l&&(C=C[l]||C);const o=function(g){const{theme:e,name:I,props:n}=g;return e&&e.components&&e.components[I]&&e.components[I].defaultProps?(0,t.Z)(e.components[I].defaultProps,n):n}({theme:C,name:e,props:g});return o}},4168:function(g,e,I){"use strict";var t=I(7294),n=I(5260);e.Z=function(g=null){const e=t.useContext(n.T);return e&&(I=e,0!==Object.keys(I).length)?e:g;var I}},7078:function(g,e){"use strict";const I=g=>g,t=(()=>{let g=I;return{configure(e){g=e},generate(e){return g(e)},reset(){g=I}}})();e.Z=t},4142:function(g,e,I){"use strict";I.d(e,{Z:function(){return n}});var t=I(1387);function n(g){if("string"!=typeof g)throw new Error((0,t.Z)(7));return g.charAt(0).toUpperCase()+g.slice(1)}},4780:function(g,e,I){"use strict";function t(g,e,I=void 0){const t={};return Object.keys(g).forEach((n=>{t[n]=g[n].reduce(((g,t)=>{if(t){const n=e(t);""!==n&&g.push(n),I&&I[t]&&g.push(I[t])}return g}),[]).join(" ")})),t}I.d(e,{Z:function(){return t}})},9064:function(g,e,I){"use strict";function t(...g){return g.reduce(((g,e)=>null==e?g:function(...I){g.apply(this,I),e.apply(this,I)}),(()=>{}))}I.d(e,{Z:function(){return t}})},9336:function(g,e,I){"use strict";function t(g,e=166){let I;function t(...t){clearTimeout(I),I=setTimeout((()=>{g.apply(this,t)}),e)}return t.clear=()=>{clearTimeout(I)},t}I.d(e,{Z:function(){return t}})},9766:function(g,e,I){"use strict";I.d(e,{P:function(){return n},Z:function(){return C}});var t=I(7462);function n(g){return null!==g&&"object"==typeof g&&g.constructor===Object}function l(g){if(!n(g))return g;const e={};return Object.keys(g).forEach((I=>{e[I]=l(g[I])})),e}function C(g,e,I={clone:!0}){const o=I.clone?(0,t.Z)({},g):g;return n(g)&&n(e)&&Object.keys(e).forEach((t=>{"__proto__"!==t&&(n(e[t])&&t in g&&n(g[t])?o[t]=C(g[t],e[t],I):I.clone?o[t]=n(e[t])?l(e[t]):e[t]:o[t]=e[t])})),o}},1387:function(g,e,I){"use strict";function t(g){let e="https://mui.com/production-error/?code="+g;for(let g=1;g<arguments.length;g+=1)e+="&args[]="+encodeURIComponent(arguments[g]);return"Minified MUI error #"+g+"; visit "+e+" for the full message."}I.d(e,{Z:function(){return t}})},4867:function(g,e,I){"use strict";I.d(e,{Z:function(){return l}});var t=I(7078);const n={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function l(g,e,I="Mui"){const l=n[e];return l?`${I}-${l}`:`${t.Z.generate(g)}-${e}`}},1588:function(g,e,I){"use strict";I.d(e,{Z:function(){return n}});var t=I(4867);function n(g,e,I="Mui"){const n={};return e.forEach((e=>{n[e]=(0,t.Z)(g,e,I)})),n}},2690:function(g,e,I){"use strict";function t(g){return g&&g.ownerDocument||document}I.d(e,{Z:function(){return t}})},4161:function(g,e,I){"use strict";I.d(e,{Z:function(){return n}});var t=I(2690);function n(g){return(0,t.Z)(g).defaultView||window}},7925:function(g,e,I){"use strict";I.d(e,{Z:function(){return n}});var t=I(7462);function n(g,e){const I=(0,t.Z)({},e);return Object.keys(g).forEach((l=>{if(l.toString().match(/^(components|slots)$/))I[l]=(0,t.Z)({},g[l],I[l]);else if(l.toString().match(/^(componentsProps|slotProps)$/)){const C=g[l]||{},o=e[l];I[l]={},o&&Object.keys(o)?C&&Object.keys(C)?(I[l]=(0,t.Z)({},o),Object.keys(C).forEach((g=>{I[l][g]=n(C[g],o[g])}))):I[l]=o:I[l]=C}else void 0===I[l]&&(I[l]=g[l])})),I}},7960:function(g,e,I){"use strict";function t(g,e){"function"==typeof g?g(e):g&&(g.current=e)}I.d(e,{Z:function(){return t}})},9032:function(g,e,I){"use strict";I.d(e,{Z:function(){return n}});var t=I(7294);function n({controlled:g,default:e,name:I,state:n="value"}){const{current:l}=t.useRef(void 0!==g),[C,o]=t.useState(e);return[l?g:C,t.useCallback((g=>{l||o(g)}),[])]}},3546:function(g,e,I){"use strict";var t=I(7294);const n="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;e.Z=n},9948:function(g,e,I){"use strict";var t=I(7294),n=I(3546);e.Z=function(g){const e=t.useRef(g);return(0,n.Z)((()=>{e.current=g})),t.useCallback(((...g)=>(0,e.current)(...g)),[])}},3703:function(g,e,I){"use strict";I.d(e,{Z:function(){return l}});var t=I(7294),n=I(7960);function l(...g){return t.useMemo((()=>g.every((g=>null==g))?null:e=>{g.forEach((g=>{(0,n.Z)(g,e)}))}),g)}},2996:function(g,e,I){"use strict";var t;I.d(e,{Z:function(){return o}});var n=I(7294);let l=0;const C=(t||(t=I.t(n,2)))["useId".toString()];function o(g){if(void 0!==C){const e=C();return null!=g?g:e}return function(g){const[e,I]=n.useState(g),t=g||e;return n.useEffect((()=>{null==e&&(l+=1,I(`mui-${l}`))}),[e]),t}(g)}},9962:function(g,e,I){"use strict";I.d(e,{Z:function(){return c}});var t=I(7294);let n,l=!0,C=!1;const o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function a(g){g.metaKey||g.altKey||g.ctrlKey||(l=!0)}function r(){l=!1}function i(){"hidden"===this.visibilityState&&C&&(l=!0)}function c(){const g=t.useCallback((g=>{var e;null!=g&&((e=g.ownerDocument).addEventListener("keydown",a,!0),e.addEventListener("mousedown",r,!0),e.addEventListener("pointerdown",r,!0),e.addEventListener("touchstart",r,!0),e.addEventListener("visibilitychange",i,!0))}),[]),e=t.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(g){return!!function(g){const{target:e}=g;try{return e.matches(":focus-visible")}catch(g){}return l||function(g){const{type:e,tagName:I}=g;return!("INPUT"!==I||!o[e]||g.readOnly)||"TEXTAREA"===I&&!g.readOnly||!!g.isContentEditable}(e)}(g)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(C=!0,window.clearTimeout(n),n=window.setTimeout((()=>{C=!1}),100),e.current=!1,!0)},ref:g}}},3947:function(g,e,I){"use strict";I.r(e),I.d(e,{geoAlbers:function(){return Gt},geoAlbersUsa:function(){return ht},geoArea:function(){return ng},geoAzimuthalEqualArea:function(){return Wt},geoAzimuthalEqualAreaRaw:function(){return St},geoAzimuthalEquidistant:function(){return Rt},geoAzimuthalEquidistantRaw:function(){return Vt},geoBounds:function(){return xg},geoCentroid:function(){return qg},geoCircle:function(){return ae},geoClipAntimeridian:function(){return Ge},geoClipCircle:function(){return he},geoClipExtent:function(){return fe},geoClipRectangle:function(){return ve},geoConicConformal:function(){return Yt},geoConicConformalRaw:function(){return Jt},geoConicEqualArea:function(){return pt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return Ft},geoConicEquidistantRaw:function(){return Nt},geoContains:function(){return Te},geoDistance:function(){return Fe},geoEqualEarth:function(){return Ut},geoEqualEarthRaw:function(){return Lt},geoEquirectangular:function(){return wt},geoEquirectangularRaw:function(){return Ht},geoGnomonic:function(){return Tt},geoGnomonicRaw:function(){return Qt},geoGraticule:function(){return Oe},geoGraticule10:function(){return qe},geoIdentity:function(){return Dt},geoInterpolate:function(){return $e},geoLength:function(){return He},geoMercator:function(){return ft},geoMercatorRaw:function(){return vt},geoNaturalEarth1:function(){return Pt},geoNaturalEarth1Raw:function(){return jt},geoOrthographic:function(){return qt},geoOrthographicRaw:function(){return Ot},geoPath:function(){return et},geoProjection:function(){return ut},geoProjectionMutator:function(){return mt},geoRotation:function(){return le},geoStereographic:function(){return _t},geoStereographicRaw:function(){return $t},geoStream:function(){return H},geoTransform:function(){return It},geoTransverseMercator:function(){return en},geoTransverseMercatorRaw:function(){return gn}});class t{constructor(){this._partials=new Float64Array(32),this._n=0}add(g){const e=this._partials;let I=0;for(let t=0;t<this._n&&t<32;t++){const n=e[t],l=g+n,C=Math.abs(g)<Math.abs(n)?g-(l-n):n-(l-g);C&&(e[I++]=C),g=l}return e[I]=g,this._n=I+1,this}valueOf(){const g=this._partials;let e,I,t,n=this._n,l=0;if(n>0){for(l=g[--n];n>0&&(e=l,I=g[--n],l=e+I,t=I-(l-e),!t););n>0&&(t<0&&g[n-1]<0||t>0&&g[n-1]>0)&&(I=2*t,e=l+I,I==e-l&&(l=e))}return l}}var n=1e-6,l=1e-12,C=Math.PI,o=C/2,a=C/4,r=2*C,i=180/C,c=C/180,A=Math.abs,d=Math.atan,s=Math.atan2,u=Math.cos,m=Math.ceil,b=Math.exp,Z=(Math.floor,Math.hypot),p=Math.log,G=Math.pow,h=Math.sin,y=Math.sign||function(g){return g>0?1:g<0?-1:0},B=Math.sqrt,S=Math.tan;function W(g){return g>1?0:g<-1?C:Math.acos(g)}function V(g){return g>1?o:g<-1?-o:Math.asin(g)}function R(g){return(g=h(g/2))*g}function v(){}function f(g,e){g&&k.hasOwnProperty(g.type)&&k[g.type](g,e)}var X={Feature:function(g,e){f(g.geometry,e)},FeatureCollection:function(g,e){for(var I=g.features,t=-1,n=I.length;++t<n;)f(I[t].geometry,e)}},k={Sphere:function(g,e){e.sphere()},Point:function(g,e){g=g.coordinates,e.point(g[0],g[1],g[2])},MultiPoint:function(g,e){for(var I=g.coordinates,t=-1,n=I.length;++t<n;)g=I[t],e.point(g[0],g[1],g[2])},LineString:function(g,e){J(g.coordinates,e,0)},MultiLineString:function(g,e){for(var I=g.coordinates,t=-1,n=I.length;++t<n;)J(I[t],e,0)},Polygon:function(g,e){Y(g.coordinates,e)},MultiPolygon:function(g,e){for(var I=g.coordinates,t=-1,n=I.length;++t<n;)Y(I[t],e)},GeometryCollection:function(g,e){for(var I=g.geometries,t=-1,n=I.length;++t<n;)f(I[t],e)}};function J(g,e,I){var t,n=-1,l=g.length-I;for(e.lineStart();++n<l;)t=g[n],e.point(t[0],t[1],t[2]);e.lineEnd()}function Y(g,e){var I=-1,t=g.length;for(e.polygonStart();++I<t;)J(g[I],e,1);e.polygonEnd()}function H(g,e){g&&X.hasOwnProperty(g.type)?X[g.type](g,e):f(g,e)}var w,N,F,K,x,z,M,E,L,U,Q,T,D,j,P,O,q=new t,$=new t,_={point:v,lineStart:v,lineEnd:v,polygonStart:function(){q=new t,_.lineStart=gg,_.lineEnd=eg},polygonEnd:function(){var g=+q;$.add(g<0?r+g:g),this.lineStart=this.lineEnd=this.point=v},sphere:function(){$.add(r)}};function gg(){_.point=Ig}function eg(){tg(w,N)}function Ig(g,e){_.point=tg,w=g,N=e,F=g*=c,K=u(e=(e*=c)/2+a),x=h(e)}function tg(g,e){var I=(g*=c)-F,t=I>=0?1:-1,n=t*I,l=u(e=(e*=c)/2+a),C=h(e),o=x*C,r=K*l+o*u(n),i=o*t*h(n);q.add(s(i,r)),F=g,K=l,x=C}function ng(g){return $=new t,H(g,_),2*$}function lg(g){return[s(g[1],g[0]),V(g[2])]}function Cg(g){var e=g[0],I=g[1],t=u(I);return[t*u(e),t*h(e),h(I)]}function og(g,e){return g[0]*e[0]+g[1]*e[1]+g[2]*e[2]}function ag(g,e){return[g[1]*e[2]-g[2]*e[1],g[2]*e[0]-g[0]*e[2],g[0]*e[1]-g[1]*e[0]]}function rg(g,e){g[0]+=e[0],g[1]+=e[1],g[2]+=e[2]}function ig(g,e){return[g[0]*e,g[1]*e,g[2]*e]}function cg(g){var e=B(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]);g[0]/=e,g[1]/=e,g[2]/=e}var Ag,dg,sg,ug,mg,bg,Zg,pg,Gg,hg,yg,Bg,Sg,Wg,Vg,Rg,vg={point:fg,lineStart:kg,lineEnd:Jg,polygonStart:function(){vg.point=Yg,vg.lineStart=Hg,vg.lineEnd=wg,j=new t,_.polygonStart()},polygonEnd:function(){_.polygonEnd(),vg.point=fg,vg.lineStart=kg,vg.lineEnd=Jg,q<0?(z=-(E=180),M=-(L=90)):j>n?L=90:j<-n&&(M=-90),O[0]=z,O[1]=E},sphere:function(){z=-(E=180),M=-(L=90)}};function fg(g,e){P.push(O=[z=g,E=g]),e<M&&(M=e),e>L&&(L=e)}function Xg(g,e){var I=Cg([g*c,e*c]);if(D){var t=ag(D,I),n=ag([t[1],-t[0],0],t);cg(n),n=lg(n);var l,C=g-U,o=C>0?1:-1,a=n[0]*i*o,r=A(C)>180;r^(o*U<a&&a<o*g)?(l=n[1]*i)>L&&(L=l):r^(o*U<(a=(a+360)%360-180)&&a<o*g)?(l=-n[1]*i)<M&&(M=l):(e<M&&(M=e),e>L&&(L=e)),r?g<U?Ng(z,g)>Ng(z,E)&&(E=g):Ng(g,E)>Ng(z,E)&&(z=g):E>=z?(g<z&&(z=g),g>E&&(E=g)):g>U?Ng(z,g)>Ng(z,E)&&(E=g):Ng(g,E)>Ng(z,E)&&(z=g)}else P.push(O=[z=g,E=g]);e<M&&(M=e),e>L&&(L=e),D=I,U=g}function kg(){vg.point=Xg}function Jg(){O[0]=z,O[1]=E,vg.point=fg,D=null}function Yg(g,e){if(D){var I=g-U;j.add(A(I)>180?I+(I>0?360:-360):I)}else Q=g,T=e;_.point(g,e),Xg(g,e)}function Hg(){_.lineStart()}function wg(){Yg(Q,T),_.lineEnd(),A(j)>n&&(z=-(E=180)),O[0]=z,O[1]=E,D=null}function Ng(g,e){return(e-=g)<0?e+360:e}function Fg(g,e){return g[0]-e[0]}function Kg(g,e){return g[0]<=g[1]?g[0]<=e&&e<=g[1]:e<g[0]||g[1]<e}function xg(g){var e,I,t,n,l,C,o;if(L=E=-(z=M=1/0),P=[],H(g,vg),I=P.length){for(P.sort(Fg),e=1,l=[t=P[0]];e<I;++e)Kg(t,(n=P[e])[0])||Kg(t,n[1])?(Ng(t[0],n[1])>Ng(t[0],t[1])&&(t[1]=n[1]),Ng(n[0],t[1])>Ng(t[0],t[1])&&(t[0]=n[0])):l.push(t=n);for(C=-1/0,e=0,t=l[I=l.length-1];e<=I;t=n,++e)n=l[e],(o=Ng(t[1],n[0]))>C&&(C=o,z=n[0],E=t[1])}return P=O=null,z===1/0||M===1/0?[[NaN,NaN],[NaN,NaN]]:[[z,M],[E,L]]}var zg={sphere:v,point:Mg,lineStart:Lg,lineEnd:Tg,polygonStart:function(){zg.lineStart=Dg,zg.lineEnd=jg},polygonEnd:function(){zg.lineStart=Lg,zg.lineEnd=Tg}};function Mg(g,e){g*=c;var I=u(e*=c);Eg(I*u(g),I*h(g),h(e))}function Eg(g,e,I){++Ag,sg+=(g-sg)/Ag,ug+=(e-ug)/Ag,mg+=(I-mg)/Ag}function Lg(){zg.point=Ug}function Ug(g,e){g*=c;var I=u(e*=c);Wg=I*u(g),Vg=I*h(g),Rg=h(e),zg.point=Qg,Eg(Wg,Vg,Rg)}function Qg(g,e){g*=c;var I=u(e*=c),t=I*u(g),n=I*h(g),l=h(e),C=s(B((C=Vg*l-Rg*n)*C+(C=Rg*t-Wg*l)*C+(C=Wg*n-Vg*t)*C),Wg*t+Vg*n+Rg*l);dg+=C,bg+=C*(Wg+(Wg=t)),Zg+=C*(Vg+(Vg=n)),pg+=C*(Rg+(Rg=l)),Eg(Wg,Vg,Rg)}function Tg(){zg.point=Mg}function Dg(){zg.point=Pg}function jg(){Og(Bg,Sg),zg.point=Mg}function Pg(g,e){Bg=g,Sg=e,g*=c,e*=c,zg.point=Og;var I=u(e);Wg=I*u(g),Vg=I*h(g),Rg=h(e),Eg(Wg,Vg,Rg)}function Og(g,e){g*=c;var I=u(e*=c),t=I*u(g),n=I*h(g),l=h(e),C=Vg*l-Rg*n,o=Rg*t-Wg*l,a=Wg*n-Vg*t,r=Z(C,o,a),i=V(r),A=r&&-i/r;Gg.add(A*C),hg.add(A*o),yg.add(A*a),dg+=i,bg+=i*(Wg+(Wg=t)),Zg+=i*(Vg+(Vg=n)),pg+=i*(Rg+(Rg=l)),Eg(Wg,Vg,Rg)}function qg(g){Ag=dg=sg=ug=mg=bg=Zg=pg=0,Gg=new t,hg=new t,yg=new t,H(g,zg);var e=+Gg,I=+hg,C=+yg,o=Z(e,I,C);return o<l&&(e=bg,I=Zg,C=pg,dg<n&&(e=sg,I=ug,C=mg),(o=Z(e,I,C))<l)?[NaN,NaN]:[s(I,e)*i,V(C/o)*i]}function $g(g){return function(){return g}}function _g(g,e){function I(I,t){return I=g(I,t),e(I[0],I[1])}return g.invert&&e.invert&&(I.invert=function(I,t){return(I=e.invert(I,t))&&g.invert(I[0],I[1])}),I}function ge(g,e){return[A(g)>C?g+Math.round(-g/r)*r:g,e]}function ee(g,e,I){return(g%=r)?e||I?_g(te(g),ne(e,I)):te(g):e||I?ne(e,I):ge}function Ie(g){return function(e,I){return[(e+=g)>C?e-r:e<-C?e+r:e,I]}}function te(g){var e=Ie(g);return e.invert=Ie(-g),e}function ne(g,e){var I=u(g),t=h(g),n=u(e),l=h(e);function C(g,e){var C=u(e),o=u(g)*C,a=h(g)*C,r=h(e),i=r*I+o*t;return[s(a*n-i*l,o*I-r*t),V(i*n+a*l)]}return C.invert=function(g,e){var C=u(e),o=u(g)*C,a=h(g)*C,r=h(e),i=r*n-a*l;return[s(a*n+r*l,o*I+i*t),V(i*I-o*t)]},C}function le(g){function e(e){return(e=g(e[0]*c,e[1]*c))[0]*=i,e[1]*=i,e}return g=ee(g[0]*c,g[1]*c,g.length>2?g[2]*c:0),e.invert=function(e){return(e=g.invert(e[0]*c,e[1]*c))[0]*=i,e[1]*=i,e},e}function Ce(g,e,I,t,n,l){if(I){var C=u(e),o=h(e),a=t*I;null==n?(n=e+t*r,l=e-a/2):(n=oe(C,n),l=oe(C,l),(t>0?n<l:n>l)&&(n+=t*r));for(var i,c=n;t>0?c>l:c<l;c-=a)i=lg([C,-o*u(c),-o*h(c)]),g.point(i[0],i[1])}}function oe(g,e){(e=Cg(e))[0]-=g,cg(e);var I=W(-e[1]);return((-e[2]<0?-I:I)+r-n)%r}function ae(){var g,e,I=$g([0,0]),t=$g(90),n=$g(6),l={point:function(I,t){g.push(I=e(I,t)),I[0]*=i,I[1]*=i}};function C(){var C=I.apply(this,arguments),o=t.apply(this,arguments)*c,a=n.apply(this,arguments)*c;return g=[],e=ee(-C[0]*c,-C[1]*c,0).invert,Ce(l,o,a,1),C={type:"Polygon",coordinates:[g]},g=e=null,C}return C.center=function(g){return arguments.length?(I="function"==typeof g?g:$g([+g[0],+g[1]]),C):I},C.radius=function(g){return arguments.length?(t="function"==typeof g?g:$g(+g),C):t},C.precision=function(g){return arguments.length?(n="function"==typeof g?g:$g(+g),C):n},C}function re(){var g,e=[];return{point:function(e,I,t){g.push([e,I,t])},lineStart:function(){e.push(g=[])},lineEnd:v,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var I=e;return e=[],g=null,I}}}function ie(g,e){return A(g[0]-e[0])<n&&A(g[1]-e[1])<n}function ce(g,e,I,t){this.x=g,this.z=e,this.o=I,this.e=t,this.v=!1,this.n=this.p=null}function Ae(g,e,I,t,l){var C,o,a=[],r=[];if(g.forEach((function(g){if(!((e=g.length-1)<=0)){var e,I,t=g[0],o=g[e];if(ie(t,o)){if(!t[2]&&!o[2]){for(l.lineStart(),C=0;C<e;++C)l.point((t=g[C])[0],t[1]);return void l.lineEnd()}o[0]+=2*n}a.push(I=new ce(t,g,null,!0)),r.push(I.o=new ce(t,null,I,!1)),a.push(I=new ce(o,g,null,!1)),r.push(I.o=new ce(o,null,I,!0))}})),a.length){for(r.sort(e),de(a),de(r),C=0,o=r.length;C<o;++C)r[C].e=I=!I;for(var i,c,A=a[0];;){for(var d=A,s=!0;d.v;)if((d=d.n)===A)return;i=d.z,l.lineStart();do{if(d.v=d.o.v=!0,d.e){if(s)for(C=0,o=i.length;C<o;++C)l.point((c=i[C])[0],c[1]);else t(d.x,d.n.x,1,l);d=d.n}else{if(s)for(i=d.p.z,C=i.length-1;C>=0;--C)l.point((c=i[C])[0],c[1]);else t(d.x,d.p.x,-1,l);d=d.p}i=(d=d.o).z,s=!s}while(!d.v);l.lineEnd()}}}function de(g){if(e=g.length){for(var e,I,t=0,n=g[0];++t<e;)n.n=I=g[t],I.p=n,n=I;n.n=I=g[0],I.p=n}}function se(g){return A(g[0])<=C?g[0]:y(g[0])*((A(g[0])+C)%r-C)}function ue(g,e){var I=se(e),i=e[1],c=h(i),A=[h(I),-u(I),0],d=0,m=0,b=new t;1===c?i=o+n:-1===c&&(i=-o-n);for(var Z=0,p=g.length;Z<p;++Z)if(y=(G=g[Z]).length)for(var G,y,B=G[y-1],S=se(B),W=B[1]/2+a,R=h(W),v=u(W),f=0;f<y;++f,S=k,R=Y,v=H,B=X){var X=G[f],k=se(X),J=X[1]/2+a,Y=h(J),H=u(J),w=k-S,N=w>=0?1:-1,F=N*w,K=F>C,x=R*Y;if(b.add(s(x*N*h(F),v*H+x*u(F))),d+=K?w+N*r:w,K^S>=I^k>=I){var z=ag(Cg(B),Cg(X));cg(z);var M=ag(A,z);cg(M);var E=(K^w>=0?-1:1)*V(M[2]);(i>E||i===E&&(z[0]||z[1]))&&(m+=K^w>=0?1:-1)}}return(d<-n||d<n&&b<-l)^1&m}function me(g){return Array.from(function*(g){for(const e of g)yield*e}(g))}function be(g,e,I,t){return function(n){var l,C,o,a=e(n),r=re(),i=e(r),c=!1,A={point:d,lineStart:u,lineEnd:m,polygonStart:function(){A.point=b,A.lineStart=Z,A.lineEnd=p,C=[],l=[]},polygonEnd:function(){A.point=d,A.lineStart=u,A.lineEnd=m,C=me(C);var g=ue(l,t);C.length?(c||(n.polygonStart(),c=!0),Ae(C,pe,g,I,n)):g&&(c||(n.polygonStart(),c=!0),n.lineStart(),I(null,null,1,n),n.lineEnd()),c&&(n.polygonEnd(),c=!1),C=l=null},sphere:function(){n.polygonStart(),n.lineStart(),I(null,null,1,n),n.lineEnd(),n.polygonEnd()}};function d(e,I){g(e,I)&&n.point(e,I)}function s(g,e){a.point(g,e)}function u(){A.point=s,a.lineStart()}function m(){A.point=d,a.lineEnd()}function b(g,e){o.push([g,e]),i.point(g,e)}function Z(){i.lineStart(),o=[]}function p(){b(o[0][0],o[0][1]),i.lineEnd();var g,e,I,t,a=i.clean(),A=r.result(),d=A.length;if(o.pop(),l.push(o),o=null,d)if(1&a){if((e=(I=A[0]).length-1)>0){for(c||(n.polygonStart(),c=!0),n.lineStart(),g=0;g<e;++g)n.point((t=I[g])[0],t[1]);n.lineEnd()}}else d>1&&2&a&&A.push(A.pop().concat(A.shift())),C.push(A.filter(Ze))}return A}}function Ze(g){return g.length>1}function pe(g,e){return((g=g.x)[0]<0?g[1]-o-n:o-g[1])-((e=e.x)[0]<0?e[1]-o-n:o-e[1])}ge.invert=ge;var Ge=be((function(){return!0}),(function(g){var e,I=NaN,t=NaN,l=NaN;return{lineStart:function(){g.lineStart(),e=1},point:function(a,r){var i=a>0?C:-C,c=A(a-I);A(c-C)<n?(g.point(I,t=(t+r)/2>0?o:-o),g.point(l,t),g.lineEnd(),g.lineStart(),g.point(i,t),g.point(a,t),e=0):l!==i&&c>=C&&(A(I-l)<n&&(I-=l*n),A(a-i)<n&&(a-=i*n),t=function(g,e,I,t){var l,C,o=h(g-I);return A(o)>n?d((h(e)*(C=u(t))*h(I)-h(t)*(l=u(e))*h(g))/(l*C*o)):(e+t)/2}(I,t,a,r),g.point(l,t),g.lineEnd(),g.lineStart(),g.point(i,t),e=0),g.point(I=a,t=r),l=i},lineEnd:function(){g.lineEnd(),I=t=NaN},clean:function(){return 2-e}}}),(function(g,e,I,t){var l;if(null==g)l=I*o,t.point(-C,l),t.point(0,l),t.point(C,l),t.point(C,0),t.point(C,-l),t.point(0,-l),t.point(-C,-l),t.point(-C,0),t.point(-C,l);else if(A(g[0]-e[0])>n){var a=g[0]<e[0]?C:-C;l=I*a/2,t.point(-a,l),t.point(0,l),t.point(a,l)}else t.point(e[0],e[1])}),[-C,-o]);function he(g){var e=u(g),I=6*c,t=e>0,l=A(e)>n;function o(g,I){return u(g)*u(I)>e}function a(g,I,t){var l=[1,0,0],o=ag(Cg(g),Cg(I)),a=og(o,o),r=o[0],i=a-r*r;if(!i)return!t&&g;var c=e*a/i,d=-e*r/i,s=ag(l,o),u=ig(l,c);rg(u,ig(o,d));var m=s,b=og(u,m),Z=og(m,m),p=b*b-Z*(og(u,u)-1);if(!(p<0)){var G=B(p),h=ig(m,(-b-G)/Z);if(rg(h,u),h=lg(h),!t)return h;var y,S=g[0],W=I[0],V=g[1],R=I[1];W<S&&(y=S,S=W,W=y);var v=W-S,f=A(v-C)<n;if(!f&&R<V&&(y=V,V=R,R=y),f||v<n?f?V+R>0^h[1]<(A(h[0]-S)<n?V:R):V<=h[1]&&h[1]<=R:v>C^(S<=h[0]&&h[0]<=W)){var X=ig(m,(-b+G)/Z);return rg(X,u),[h,lg(X)]}}}function r(e,I){var n=t?g:C-g,l=0;return e<-n?l|=1:e>n&&(l|=2),I<-n?l|=4:I>n&&(l|=8),l}return be(o,(function(g){var e,I,n,i,c;return{lineStart:function(){i=n=!1,c=1},point:function(A,d){var s,u=[A,d],m=o(A,d),b=t?m?0:r(A,d):m?r(A+(A<0?C:-C),d):0;if(!e&&(i=n=m)&&g.lineStart(),m!==n&&(!(s=a(e,u))||ie(e,s)||ie(u,s))&&(u[2]=1),m!==n)c=0,m?(g.lineStart(),s=a(u,e),g.point(s[0],s[1])):(s=a(e,u),g.point(s[0],s[1],2),g.lineEnd()),e=s;else if(l&&e&&t^m){var Z;b&I||!(Z=a(u,e,!0))||(c=0,t?(g.lineStart(),g.point(Z[0][0],Z[0][1]),g.point(Z[1][0],Z[1][1]),g.lineEnd()):(g.point(Z[1][0],Z[1][1]),g.lineEnd(),g.lineStart(),g.point(Z[0][0],Z[0][1],3)))}!m||e&&ie(e,u)||g.point(u[0],u[1]),e=u,n=m,I=b},lineEnd:function(){n&&g.lineEnd(),e=null},clean:function(){return c|(i&&n)<<1}}}),(function(e,t,n,l){Ce(l,g,I,n,e,t)}),t?[0,-g]:[-C,g-C])}var ye,Be,Se,We,Ve=1e9,Re=-Ve;function ve(g,e,I,t){function l(n,l){return g<=n&&n<=I&&e<=l&&l<=t}function C(n,l,C,a){var i=0,c=0;if(null==n||(i=o(n,C))!==(c=o(l,C))||r(n,l)<0^C>0)do{a.point(0===i||3===i?g:I,i>1?t:e)}while((i=(i+C+4)%4)!==c);else a.point(l[0],l[1])}function o(t,l){return A(t[0]-g)<n?l>0?0:3:A(t[0]-I)<n?l>0?2:1:A(t[1]-e)<n?l>0?1:0:l>0?3:2}function a(g,e){return r(g.x,e.x)}function r(g,e){var I=o(g,1),t=o(e,1);return I!==t?I-t:0===I?e[1]-g[1]:1===I?g[0]-e[0]:2===I?g[1]-e[1]:e[0]-g[0]}return function(n){var o,r,i,c,A,d,s,u,m,b,Z,p=n,G=re(),h={point:y,lineStart:function(){h.point=B,r&&r.push(i=[]),b=!0,m=!1,s=u=NaN},lineEnd:function(){o&&(B(c,A),d&&m&&G.rejoin(),o.push(G.result())),h.point=y,m&&p.lineEnd()},polygonStart:function(){p=G,o=[],r=[],Z=!0},polygonEnd:function(){var e=function(){for(var e=0,I=0,n=r.length;I<n;++I)for(var l,C,o=r[I],a=1,i=o.length,c=o[0],A=c[0],d=c[1];a<i;++a)l=A,C=d,A=(c=o[a])[0],d=c[1],C<=t?d>t&&(A-l)*(t-C)>(d-C)*(g-l)&&++e:d<=t&&(A-l)*(t-C)<(d-C)*(g-l)&&--e;return e}(),I=Z&&e,l=(o=me(o)).length;(I||l)&&(n.polygonStart(),I&&(n.lineStart(),C(null,null,1,n),n.lineEnd()),l&&Ae(o,a,e,C,n),n.polygonEnd()),p=n,o=r=i=null}};function y(g,e){l(g,e)&&p.point(g,e)}function B(n,C){var o=l(n,C);if(r&&i.push([n,C]),b)c=n,A=C,d=o,b=!1,o&&(p.lineStart(),p.point(n,C));else if(o&&m)p.point(n,C);else{var a=[s=Math.max(Re,Math.min(Ve,s)),u=Math.max(Re,Math.min(Ve,u))],G=[n=Math.max(Re,Math.min(Ve,n)),C=Math.max(Re,Math.min(Ve,C))];!function(g,e,I,t,n,l){var C,o=g[0],a=g[1],r=0,i=1,c=e[0]-o,A=e[1]-a;if(C=I-o,c||!(C>0)){if(C/=c,c<0){if(C<r)return;C<i&&(i=C)}else if(c>0){if(C>i)return;C>r&&(r=C)}if(C=n-o,c||!(C<0)){if(C/=c,c<0){if(C>i)return;C>r&&(r=C)}else if(c>0){if(C<r)return;C<i&&(i=C)}if(C=t-a,A||!(C>0)){if(C/=A,A<0){if(C<r)return;C<i&&(i=C)}else if(A>0){if(C>i)return;C>r&&(r=C)}if(C=l-a,A||!(C<0)){if(C/=A,A<0){if(C>i)return;C>r&&(r=C)}else if(A>0){if(C<r)return;C<i&&(i=C)}return r>0&&(g[0]=o+r*c,g[1]=a+r*A),i<1&&(e[0]=o+i*c,e[1]=a+i*A),!0}}}}}(a,G,g,e,I,t)?o&&(p.lineStart(),p.point(n,C),Z=!1):(m||(p.lineStart(),p.point(a[0],a[1])),p.point(G[0],G[1]),o||p.lineEnd(),Z=!1)}s=n,u=C,m=o}return h}}function fe(){var g,e,I,t=0,n=0,l=960,C=500;return I={stream:function(I){return g&&e===I?g:g=ve(t,n,l,C)(e=I)},extent:function(o){return arguments.length?(t=+o[0][0],n=+o[0][1],l=+o[1][0],C=+o[1][1],g=e=null,I):[[t,n],[l,C]]}}}var Xe={sphere:v,point:v,lineStart:function(){Xe.point=Je,Xe.lineEnd=ke},lineEnd:v,polygonStart:v,polygonEnd:v};function ke(){Xe.point=Xe.lineEnd=v}function Je(g,e){Be=g*=c,Se=h(e*=c),We=u(e),Xe.point=Ye}function Ye(g,e){g*=c;var I=h(e*=c),t=u(e),n=A(g-Be),l=u(n),C=t*h(n),o=We*I-Se*t*l,a=Se*I+We*t*l;ye.add(s(B(C*C+o*o),a)),Be=g,Se=I,We=t}function He(g){return ye=new t,H(g,Xe),+ye}var we=[null,null],Ne={type:"LineString",coordinates:we};function Fe(g,e){return we[0]=g,we[1]=e,He(Ne)}var Ke={Feature:function(g,e){return ze(g.geometry,e)},FeatureCollection:function(g,e){for(var I=g.features,t=-1,n=I.length;++t<n;)if(ze(I[t].geometry,e))return!0;return!1}},xe={Sphere:function(){return!0},Point:function(g,e){return Me(g.coordinates,e)},MultiPoint:function(g,e){for(var I=g.coordinates,t=-1,n=I.length;++t<n;)if(Me(I[t],e))return!0;return!1},LineString:function(g,e){return Ee(g.coordinates,e)},MultiLineString:function(g,e){for(var I=g.coordinates,t=-1,n=I.length;++t<n;)if(Ee(I[t],e))return!0;return!1},Polygon:function(g,e){return Le(g.coordinates,e)},MultiPolygon:function(g,e){for(var I=g.coordinates,t=-1,n=I.length;++t<n;)if(Le(I[t],e))return!0;return!1},GeometryCollection:function(g,e){for(var I=g.geometries,t=-1,n=I.length;++t<n;)if(ze(I[t],e))return!0;return!1}};function ze(g,e){return!(!g||!xe.hasOwnProperty(g.type))&&xe[g.type](g,e)}function Me(g,e){return 0===Fe(g,e)}function Ee(g,e){for(var I,t,n,C=0,o=g.length;C<o;C++){if(0===(t=Fe(g[C],e)))return!0;if(C>0&&(n=Fe(g[C],g[C-1]))>0&&I<=n&&t<=n&&(I+t-n)*(1-Math.pow((I-t)/n,2))<l*n)return!0;I=t}return!1}function Le(g,e){return!!ue(g.map(Ue),Qe(e))}function Ue(g){return(g=g.map(Qe)).pop(),g}function Qe(g){return[g[0]*c,g[1]*c]}function Te(g,e){return(g&&Ke.hasOwnProperty(g.type)?Ke[g.type]:ze)(g,e)}function De(g,e,I){g=+g,e=+e,I=(n=arguments.length)<2?(e=g,g=0,1):n<3?1:+I;for(var t=-1,n=0|Math.max(0,Math.ceil((e-g)/I)),l=new Array(n);++t<n;)l[t]=g+t*I;return l}function je(g,e,I){var t=De(g,e-n,I).concat(e);return function(g){return t.map((function(e){return[g,e]}))}}function Pe(g,e,I){var t=De(g,e-n,I).concat(e);return function(g){return t.map((function(e){return[e,g]}))}}function Oe(){var g,e,I,t,l,C,o,a,r,i,c,d,s=10,u=s,b=90,Z=360,p=2.5;function G(){return{type:"MultiLineString",coordinates:h()}}function h(){return De(m(t/b)*b,I,b).map(c).concat(De(m(a/Z)*Z,o,Z).map(d)).concat(De(m(e/s)*s,g,s).filter((function(g){return A(g%b)>n})).map(r)).concat(De(m(C/u)*u,l,u).filter((function(g){return A(g%Z)>n})).map(i))}return G.lines=function(){return h().map((function(g){return{type:"LineString",coordinates:g}}))},G.outline=function(){return{type:"Polygon",coordinates:[c(t).concat(d(o).slice(1),c(I).reverse().slice(1),d(a).reverse().slice(1))]}},G.extent=function(g){return arguments.length?G.extentMajor(g).extentMinor(g):G.extentMinor()},G.extentMajor=function(g){return arguments.length?(t=+g[0][0],I=+g[1][0],a=+g[0][1],o=+g[1][1],t>I&&(g=t,t=I,I=g),a>o&&(g=a,a=o,o=g),G.precision(p)):[[t,a],[I,o]]},G.extentMinor=function(I){return arguments.length?(e=+I[0][0],g=+I[1][0],C=+I[0][1],l=+I[1][1],e>g&&(I=e,e=g,g=I),C>l&&(I=C,C=l,l=I),G.precision(p)):[[e,C],[g,l]]},G.step=function(g){return arguments.length?G.stepMajor(g).stepMinor(g):G.stepMinor()},G.stepMajor=function(g){return arguments.length?(b=+g[0],Z=+g[1],G):[b,Z]},G.stepMinor=function(g){return arguments.length?(s=+g[0],u=+g[1],G):[s,u]},G.precision=function(n){return arguments.length?(p=+n,r=je(C,l,90),i=Pe(e,g,p),c=je(a,o,90),d=Pe(t,I,p),G):p},G.extentMajor([[-180,-90+n],[180,90-n]]).extentMinor([[-180,-80-n],[180,80+n]])}function qe(){return Oe()()}function $e(g,e){var I=g[0]*c,t=g[1]*c,n=e[0]*c,l=e[1]*c,C=u(t),o=h(t),a=u(l),r=h(l),A=C*u(I),d=C*h(I),m=a*u(n),b=a*h(n),Z=2*V(B(R(l-t)+C*a*R(n-I))),p=h(Z),G=Z?function(g){var e=h(g*=Z)/p,I=h(Z-g)/p,t=I*A+e*m,n=I*d+e*b,l=I*o+e*r;return[s(n,t)*i,s(l,B(t*t+n*n))*i]}:function(){return[I*i,t*i]};return G.distance=Z,G}var _e,gI,eI,II,tI=g=>g,nI=new t,lI=new t,CI={point:v,lineStart:v,lineEnd:v,polygonStart:function(){CI.lineStart=oI,CI.lineEnd=iI},polygonEnd:function(){CI.lineStart=CI.lineEnd=CI.point=v,nI.add(A(lI)),lI=new t},result:function(){var g=nI/2;return nI=new t,g}};function oI(){CI.point=aI}function aI(g,e){CI.point=rI,_e=eI=g,gI=II=e}function rI(g,e){lI.add(II*g-eI*e),eI=g,II=e}function iI(){rI(_e,gI)}var cI,AI,dI,sI,uI=CI,mI=1/0,bI=mI,ZI=-mI,pI=ZI,GI={point:function(g,e){g<mI&&(mI=g),g>ZI&&(ZI=g),e<bI&&(bI=e),e>pI&&(pI=e)},lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v,result:function(){var g=[[mI,bI],[ZI,pI]];return ZI=pI=-(bI=mI=1/0),g}},hI=GI,yI=0,BI=0,SI=0,WI=0,VI=0,RI=0,vI=0,fI=0,XI=0,kI={point:JI,lineStart:YI,lineEnd:NI,polygonStart:function(){kI.lineStart=FI,kI.lineEnd=KI},polygonEnd:function(){kI.point=JI,kI.lineStart=YI,kI.lineEnd=NI},result:function(){var g=XI?[vI/XI,fI/XI]:RI?[WI/RI,VI/RI]:SI?[yI/SI,BI/SI]:[NaN,NaN];return yI=BI=SI=WI=VI=RI=vI=fI=XI=0,g}};function JI(g,e){yI+=g,BI+=e,++SI}function YI(){kI.point=HI}function HI(g,e){kI.point=wI,JI(dI=g,sI=e)}function wI(g,e){var I=g-dI,t=e-sI,n=B(I*I+t*t);WI+=n*(dI+g)/2,VI+=n*(sI+e)/2,RI+=n,JI(dI=g,sI=e)}function NI(){kI.point=JI}function FI(){kI.point=xI}function KI(){zI(cI,AI)}function xI(g,e){kI.point=zI,JI(cI=dI=g,AI=sI=e)}function zI(g,e){var I=g-dI,t=e-sI,n=B(I*I+t*t);WI+=n*(dI+g)/2,VI+=n*(sI+e)/2,RI+=n,vI+=(n=sI*g-dI*e)*(dI+g),fI+=n*(sI+e),XI+=3*n,JI(dI=g,sI=e)}var MI=kI;function EI(g){this._context=g}EI.prototype={_radius:4.5,pointRadius:function(g){return this._radius=g,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(g,e){switch(this._point){case 0:this._context.moveTo(g,e),this._point=1;break;case 1:this._context.lineTo(g,e);break;default:this._context.moveTo(g+this._radius,e),this._context.arc(g,e,this._radius,0,r)}},result:v};var LI,UI,QI,TI,DI,jI=new t,PI={point:v,lineStart:function(){PI.point=OI},lineEnd:function(){LI&&qI(UI,QI),PI.point=v},polygonStart:function(){LI=!0},polygonEnd:function(){LI=null},result:function(){var g=+jI;return jI=new t,g}};function OI(g,e){PI.point=qI,UI=TI=g,QI=DI=e}function qI(g,e){TI-=g,DI-=e,jI.add(B(TI*TI+DI*DI)),TI=g,DI=e}var $I=PI;function _I(){this._string=[]}function gt(g){return"m0,"+g+"a"+g+","+g+" 0 1,1 0,"+-2*g+"a"+g+","+g+" 0 1,1 0,"+2*g+"z"}function et(g,e){var I,t,n=4.5;function l(g){return g&&("function"==typeof n&&t.pointRadius(+n.apply(this,arguments)),H(g,I(t))),t.result()}return l.area=function(g){return H(g,I(uI)),uI.result()},l.measure=function(g){return H(g,I($I)),$I.result()},l.bounds=function(g){return H(g,I(hI)),hI.result()},l.centroid=function(g){return H(g,I(MI)),MI.result()},l.projection=function(e){return arguments.length?(I=null==e?(g=null,tI):(g=e).stream,l):g},l.context=function(g){return arguments.length?(t=null==g?(e=null,new _I):new EI(e=g),"function"!=typeof n&&t.pointRadius(n),l):e},l.pointRadius=function(g){return arguments.length?(n="function"==typeof g?g:(t.pointRadius(+g),+g),l):n},l.projection(g).context(e)}function It(g){return{stream:tt(g)}}function tt(g){return function(e){var I=new nt;for(var t in g)I[t]=g[t];return I.stream=e,I}}function nt(){}function lt(g,e,I){var t=g.clipExtent&&g.clipExtent();return g.scale(150).translate([0,0]),null!=t&&g.clipExtent(null),H(I,g.stream(hI)),e(hI.result()),null!=t&&g.clipExtent(t),g}function Ct(g,e,I){return lt(g,(function(I){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1],l=Math.min(t/(I[1][0]-I[0][0]),n/(I[1][1]-I[0][1])),C=+e[0][0]+(t-l*(I[1][0]+I[0][0]))/2,o=+e[0][1]+(n-l*(I[1][1]+I[0][1]))/2;g.scale(150*l).translate([C,o])}),I)}function ot(g,e,I){return Ct(g,[[0,0],e],I)}function at(g,e,I){return lt(g,(function(I){var t=+e,n=t/(I[1][0]-I[0][0]),l=(t-n*(I[1][0]+I[0][0]))/2,C=-n*I[0][1];g.scale(150*n).translate([l,C])}),I)}function rt(g,e,I){return lt(g,(function(I){var t=+e,n=t/(I[1][1]-I[0][1]),l=-n*I[0][0],C=(t-n*(I[1][1]+I[0][1]))/2;g.scale(150*n).translate([l,C])}),I)}_I.prototype={_radius:4.5,_circle:gt(4.5),pointRadius:function(g){return(g=+g)!==this._radius&&(this._radius=g,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(g,e){switch(this._point){case 0:this._string.push("M",g,",",e),this._point=1;break;case 1:this._string.push("L",g,",",e);break;default:null==this._circle&&(this._circle=gt(this._radius)),this._string.push("M",g,",",e,this._circle)}},result:function(){if(this._string.length){var g=this._string.join("");return this._string=[],g}return null}},nt.prototype={constructor:nt,point:function(g,e){this.stream.point(g,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var it=16,ct=u(30*c);function At(g,e){return+e?function(g,e){function I(t,l,C,o,a,r,i,c,d,u,m,b,Z,p){var G=i-t,h=c-l,y=G*G+h*h;if(y>4*e&&Z--){var S=o+u,W=a+m,R=r+b,v=B(S*S+W*W+R*R),f=V(R/=v),X=A(A(R)-1)<n||A(C-d)<n?(C+d)/2:s(W,S),k=g(X,f),J=k[0],Y=k[1],H=J-t,w=Y-l,N=h*H-G*w;(N*N/y>e||A((G*H+h*w)/y-.5)>.3||o*u+a*m+r*b<ct)&&(I(t,l,C,o,a,r,J,Y,X,S/=v,W/=v,R,Z,p),p.point(J,Y),I(J,Y,X,S,W,R,i,c,d,u,m,b,Z,p))}}return function(e){var t,n,l,C,o,a,r,i,c,A,d,s,u={point:m,lineStart:b,lineEnd:p,polygonStart:function(){e.polygonStart(),u.lineStart=G},polygonEnd:function(){e.polygonEnd(),u.lineStart=b}};function m(I,t){I=g(I,t),e.point(I[0],I[1])}function b(){i=NaN,u.point=Z,e.lineStart()}function Z(t,n){var l=Cg([t,n]),C=g(t,n);I(i,c,r,A,d,s,i=C[0],c=C[1],r=t,A=l[0],d=l[1],s=l[2],it,e),e.point(i,c)}function p(){u.point=m,e.lineEnd()}function G(){b(),u.point=h,u.lineEnd=y}function h(g,e){Z(t=g,e),n=i,l=c,C=A,o=d,a=s,u.point=Z}function y(){I(i,c,r,A,d,s,n,l,t,C,o,a,it,e),u.lineEnd=p,p()}return u}}(g,e):function(g){return tt({point:function(e,I){e=g(e,I),this.stream.point(e[0],e[1])}})}(g)}var dt=tt({point:function(g,e){this.stream.point(g*c,e*c)}});function st(g,e,I,t,n,l){if(!l)return function(g,e,I,t,n){function l(l,C){return[e+g*(l*=t),I-g*(C*=n)]}return l.invert=function(l,C){return[(l-e)/g*t,(I-C)/g*n]},l}(g,e,I,t,n);var C=u(l),o=h(l),a=C*g,r=o*g,i=C/g,c=o/g,A=(o*I-C*e)/g,d=(o*e+C*I)/g;function s(g,l){return[a*(g*=t)-r*(l*=n)+e,I-r*g-a*l]}return s.invert=function(g,e){return[t*(i*g-c*e+A),n*(d-c*g-i*e)]},s}function ut(g){return mt((function(){return g}))()}function mt(g){var e,I,t,n,l,C,o,a,r,A,d=150,s=480,u=250,m=0,b=0,Z=0,p=0,G=0,h=0,y=1,S=1,W=null,V=Ge,R=null,v=tI,f=.5;function X(g){return a(g[0]*c,g[1]*c)}function k(g){return(g=a.invert(g[0],g[1]))&&[g[0]*i,g[1]*i]}function J(){var g=st(d,0,0,y,S,h).apply(null,e(m,b)),t=st(d,s-g[0],u-g[1],y,S,h);return I=ee(Z,p,G),o=_g(e,t),a=_g(I,o),C=At(o,f),Y()}function Y(){return r=A=null,X}return X.stream=function(g){return r&&A===g?r:r=dt(function(g){return tt({point:function(e,I){var t=g(e,I);return this.stream.point(t[0],t[1])}})}(I)(V(C(v(A=g)))))},X.preclip=function(g){return arguments.length?(V=g,W=void 0,Y()):V},X.postclip=function(g){return arguments.length?(v=g,R=t=n=l=null,Y()):v},X.clipAngle=function(g){return arguments.length?(V=+g?he(W=g*c):(W=null,Ge),Y()):W*i},X.clipExtent=function(g){return arguments.length?(v=null==g?(R=t=n=l=null,tI):ve(R=+g[0][0],t=+g[0][1],n=+g[1][0],l=+g[1][1]),Y()):null==R?null:[[R,t],[n,l]]},X.scale=function(g){return arguments.length?(d=+g,J()):d},X.translate=function(g){return arguments.length?(s=+g[0],u=+g[1],J()):[s,u]},X.center=function(g){return arguments.length?(m=g[0]%360*c,b=g[1]%360*c,J()):[m*i,b*i]},X.rotate=function(g){return arguments.length?(Z=g[0]%360*c,p=g[1]%360*c,G=g.length>2?g[2]%360*c:0,J()):[Z*i,p*i,G*i]},X.angle=function(g){return arguments.length?(h=g%360*c,J()):h*i},X.reflectX=function(g){return arguments.length?(y=g?-1:1,J()):y<0},X.reflectY=function(g){return arguments.length?(S=g?-1:1,J()):S<0},X.precision=function(g){return arguments.length?(C=At(o,f=g*g),Y()):B(f)},X.fitExtent=function(g,e){return Ct(X,g,e)},X.fitSize=function(g,e){return ot(X,g,e)},X.fitWidth=function(g,e){return at(X,g,e)},X.fitHeight=function(g,e){return rt(X,g,e)},function(){return e=g.apply(this,arguments),X.invert=e.invert&&k,J()}}function bt(g){var e=0,I=C/3,t=mt(g),n=t(e,I);return n.parallels=function(g){return arguments.length?t(e=g[0]*c,I=g[1]*c):[e*i,I*i]},n}function Zt(g,e){var I=h(g),t=(I+h(e))/2;if(A(t)<n)return function(g){var e=u(g);function I(g,I){return[g*e,h(I)/e]}return I.invert=function(g,I){return[g/e,V(I*e)]},I}(g);var l=1+I*(2*t-I),o=B(l)/t;function a(g,e){var I=B(l-2*t*h(e))/t;return[I*h(g*=t),o-I*u(g)]}return a.invert=function(g,e){var I=o-e,n=s(g,A(I))*y(I);return I*t<0&&(n-=C*y(g)*y(I)),[n/t,V((l-(g*g+I*I)*t*t)/(2*t))]},a}function pt(){return bt(Zt).scale(155.424).center([0,33.6442])}function Gt(){return pt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ht(){var g,e,I,t,l,C,o=Gt(),a=pt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=pt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(g,e){C=[g,e]}};function c(g){var e=g[0],n=g[1];return C=null,I.point(e,n),C||(t.point(e,n),C)||(l.point(e,n),C)}function A(){return g=e=null,c}return c.invert=function(g){var e=o.scale(),I=o.translate(),t=(g[0]-I[0])/e,n=(g[1]-I[1])/e;return(n>=.12&&n<.234&&t>=-.425&&t<-.214?a:n>=.166&&n<.234&&t>=-.214&&t<-.115?r:o).invert(g)},c.stream=function(I){return g&&e===I?g:(t=[o.stream(e=I),a.stream(I),r.stream(I)],n=t.length,g={point:function(g,e){for(var I=-1;++I<n;)t[I].point(g,e)},sphere:function(){for(var g=-1;++g<n;)t[g].sphere()},lineStart:function(){for(var g=-1;++g<n;)t[g].lineStart()},lineEnd:function(){for(var g=-1;++g<n;)t[g].lineEnd()},polygonStart:function(){for(var g=-1;++g<n;)t[g].polygonStart()},polygonEnd:function(){for(var g=-1;++g<n;)t[g].polygonEnd()}});var t,n},c.precision=function(g){return arguments.length?(o.precision(g),a.precision(g),r.precision(g),A()):o.precision()},c.scale=function(g){return arguments.length?(o.scale(g),a.scale(.35*g),r.scale(g),c.translate(o.translate())):o.scale()},c.translate=function(g){if(!arguments.length)return o.translate();var e=o.scale(),C=+g[0],c=+g[1];return I=o.translate(g).clipExtent([[C-.455*e,c-.238*e],[C+.455*e,c+.238*e]]).stream(i),t=a.translate([C-.307*e,c+.201*e]).clipExtent([[C-.425*e+n,c+.12*e+n],[C-.214*e-n,c+.234*e-n]]).stream(i),l=r.translate([C-.205*e,c+.212*e]).clipExtent([[C-.214*e+n,c+.166*e+n],[C-.115*e-n,c+.234*e-n]]).stream(i),A()},c.fitExtent=function(g,e){return Ct(c,g,e)},c.fitSize=function(g,e){return ot(c,g,e)},c.fitWidth=function(g,e){return at(c,g,e)},c.fitHeight=function(g,e){return rt(c,g,e)},c.scale(1070)}function yt(g){return function(e,I){var t=u(e),n=u(I),l=g(t*n);return l===1/0?[2,0]:[l*n*h(e),l*h(I)]}}function Bt(g){return function(e,I){var t=B(e*e+I*I),n=g(t),l=h(n),C=u(n);return[s(e*l,t*C),V(t&&I*l/t)]}}var St=yt((function(g){return B(2/(1+g))}));function Wt(){return ut(St).scale(124.75).clipAngle(179.999)}St.invert=Bt((function(g){return 2*V(g/2)}));var Vt=yt((function(g){return(g=W(g))&&g/h(g)}));function Rt(){return ut(Vt).scale(79.4188).clipAngle(179.999)}function vt(g,e){return[g,p(S((o+e)/2))]}function ft(){return Xt(vt).scale(961/r)}function Xt(g){var e,I,t,n=ut(g),l=n.center,o=n.scale,a=n.translate,r=n.clipExtent,i=null;function c(){var l=C*o(),a=n(le(n.rotate()).invert([0,0]));return r(null==i?[[a[0]-l,a[1]-l],[a[0]+l,a[1]+l]]:g===vt?[[Math.max(a[0]-l,i),e],[Math.min(a[0]+l,I),t]]:[[i,Math.max(a[1]-l,e)],[I,Math.min(a[1]+l,t)]])}return n.scale=function(g){return arguments.length?(o(g),c()):o()},n.translate=function(g){return arguments.length?(a(g),c()):a()},n.center=function(g){return arguments.length?(l(g),c()):l()},n.clipExtent=function(g){return arguments.length?(null==g?i=e=I=t=null:(i=+g[0][0],e=+g[0][1],I=+g[1][0],t=+g[1][1]),c()):null==i?null:[[i,e],[I,t]]},c()}function kt(g){return S((o+g)/2)}function Jt(g,e){var I=u(g),t=g===e?h(g):p(I/u(e))/p(kt(e)/kt(g)),l=I*G(kt(g),t)/t;if(!t)return vt;function a(g,e){l>0?e<-o+n&&(e=-o+n):e>o-n&&(e=o-n);var I=l/G(kt(e),t);return[I*h(t*g),l-I*u(t*g)]}return a.invert=function(g,e){var I=l-e,n=y(t)*B(g*g+I*I),a=s(g,A(I))*y(I);return I*t<0&&(a-=C*y(g)*y(I)),[a/t,2*d(G(l/n,1/t))-o]},a}function Yt(){return bt(Jt).scale(109.5).parallels([30,30])}function Ht(g,e){return[g,e]}function wt(){return ut(Ht).scale(152.63)}function Nt(g,e){var I=u(g),t=g===e?h(g):(I-u(e))/(e-g),l=I/t+g;if(A(t)<n)return Ht;function o(g,e){var I=l-e,n=t*g;return[I*h(n),l-I*u(n)]}return o.invert=function(g,e){var I=l-e,n=s(g,A(I))*y(I);return I*t<0&&(n-=C*y(g)*y(I)),[n/t,l-y(t)*B(g*g+I*I)]},o}function Ft(){return bt(Nt).scale(131.154).center([0,13.9389])}Vt.invert=Bt((function(g){return g})),vt.invert=function(g,e){return[g,2*d(b(e))-o]},Ht.invert=Ht;var Kt=1.340264,xt=-.081106,zt=893e-6,Mt=.003796,Et=B(3)/2;function Lt(g,e){var I=V(Et*h(e)),t=I*I,n=t*t*t;return[g*u(I)/(Et*(Kt+3*xt*t+n*(7*zt+9*Mt*t))),I*(Kt+xt*t+n*(zt+Mt*t))]}function Ut(){return ut(Lt).scale(177.158)}function Qt(g,e){var I=u(e),t=u(g)*I;return[I*h(g)/t,h(e)/t]}function Tt(){return ut(Qt).scale(144.049).clipAngle(60)}function Dt(){var g,e,I,t,n,l,C,o=1,a=0,r=0,A=1,d=1,s=0,m=null,b=1,Z=1,p=tt({point:function(g,e){var I=B([g,e]);this.stream.point(I[0],I[1])}}),G=tI;function y(){return b=o*A,Z=o*d,l=C=null,B}function B(I){var t=I[0]*b,n=I[1]*Z;if(s){var l=n*g-t*e;t=t*g+n*e,n=l}return[t+a,n+r]}return B.invert=function(I){var t=I[0]-a,n=I[1]-r;if(s){var l=n*g+t*e;t=t*g-n*e,n=l}return[t/b,n/Z]},B.stream=function(g){return l&&C===g?l:l=p(G(C=g))},B.postclip=function(g){return arguments.length?(G=g,m=I=t=n=null,y()):G},B.clipExtent=function(g){return arguments.length?(G=null==g?(m=I=t=n=null,tI):ve(m=+g[0][0],I=+g[0][1],t=+g[1][0],n=+g[1][1]),y()):null==m?null:[[m,I],[t,n]]},B.scale=function(g){return arguments.length?(o=+g,y()):o},B.translate=function(g){return arguments.length?(a=+g[0],r=+g[1],y()):[a,r]},B.angle=function(I){return arguments.length?(e=h(s=I%360*c),g=u(s),y()):s*i},B.reflectX=function(g){return arguments.length?(A=g?-1:1,y()):A<0},B.reflectY=function(g){return arguments.length?(d=g?-1:1,y()):d<0},B.fitExtent=function(g,e){return Ct(B,g,e)},B.fitSize=function(g,e){return ot(B,g,e)},B.fitWidth=function(g,e){return at(B,g,e)},B.fitHeight=function(g,e){return rt(B,g,e)},B}function jt(g,e){var I=e*e,t=I*I;return[g*(.8707-.131979*I+t*(t*(.003971*I-.001529*t)-.013791)),e*(1.007226+I*(.015085+t*(.028874*I-.044475-.005916*t)))]}function Pt(){return ut(jt).scale(175.295)}function Ot(g,e){return[u(e)*h(g),h(e)]}function qt(){return ut(Ot).scale(249.5).clipAngle(90+n)}function $t(g,e){var I=u(e),t=1+u(g)*I;return[I*h(g)/t,h(e)/t]}function _t(){return ut($t).scale(250).clipAngle(142)}function gn(g,e){return[p(S((o+e)/2)),-g]}function en(){var g=Xt(gn),e=g.center,I=g.rotate;return g.center=function(g){return arguments.length?e([-g[1],g[0]]):[(g=e())[1],-g[0]]},g.rotate=function(g){return arguments.length?I([g[0],g[1],g.length>2?g[2]+90:90]):[(g=I())[0],g[1],g[2]-90]},I([0,0,90]).scale(159.155)}Lt.invert=function(g,e){for(var I,t=e,n=t*t,C=n*n*n,o=0;o<12&&(C=(n=(t-=I=(t*(Kt+xt*n+C*(zt+Mt*n))-e)/(Kt+3*xt*n+C*(7*zt+9*Mt*n)))*t)*n*n,!(A(I)<l));++o);return[Et*g*(Kt+3*xt*n+C*(7*zt+9*Mt*n))/u(t),V(h(t)/Et)]},Qt.invert=Bt(d),jt.invert=function(g,e){var I,t=e,l=25;do{var C=t*t,o=C*C;t-=I=(t*(1.007226+C*(.015085+o*(.028874*C-.044475-.005916*o)))-e)/(1.007226+C*(.045255+o*(.259866*C-.311325-.005916*11*o)))}while(A(I)>n&&--l>0);return[g/(.8707+(C=t*t)*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979)),t]},Ot.invert=Bt(V),$t.invert=Bt((function(g){return 2*d(g)})),gn.invert=function(g,e){return[-e,2*d(b(g))-o]}},8679:function(g,e,I){"use strict";var t=I(1296),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function a(g){return t.isMemo(g)?C:o[g.$$typeof]||n}o[t.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[t.Memo]=C;var r=Object.defineProperty,i=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,A=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,s=Object.prototype;g.exports=function g(e,I,t){if("string"!=typeof I){if(s){var n=d(I);n&&n!==s&&g(e,n,t)}var C=i(I);c&&(C=C.concat(c(I)));for(var o=a(e),u=a(I),m=0;m<C.length;++m){var b=C[m];if(!(l[b]||t&&t[b]||u&&u[b]||o&&o[b])){var Z=A(I,b);try{r(e,b,Z)}catch(g){}}}}return e}},6103:function(g,e){"use strict";var I="function"==typeof Symbol&&Symbol.for,t=I?Symbol.for("react.element"):60103,n=I?Symbol.for("react.portal"):60106,l=I?Symbol.for("react.fragment"):60107,C=I?Symbol.for("react.strict_mode"):60108,o=I?Symbol.for("react.profiler"):60114,a=I?Symbol.for("react.provider"):60109,r=I?Symbol.for("react.context"):60110,i=I?Symbol.for("react.async_mode"):60111,c=I?Symbol.for("react.concurrent_mode"):60111,A=I?Symbol.for("react.forward_ref"):60112,d=I?Symbol.for("react.suspense"):60113,s=I?Symbol.for("react.suspense_list"):60120,u=I?Symbol.for("react.memo"):60115,m=I?Symbol.for("react.lazy"):60116,b=I?Symbol.for("react.block"):60121,Z=I?Symbol.for("react.fundamental"):60117,p=I?Symbol.for("react.responder"):60118,G=I?Symbol.for("react.scope"):60119;function h(g){if("object"==typeof g&&null!==g){var e=g.$$typeof;switch(e){case t:switch(g=g.type){case i:case c:case l:case o:case C:case d:return g;default:switch(g=g&&g.$$typeof){case r:case A:case m:case u:case a:return g;default:return e}}case n:return e}}}function y(g){return h(g)===c}e.AsyncMode=i,e.ConcurrentMode=c,e.ContextConsumer=r,e.ContextProvider=a,e.Element=t,e.ForwardRef=A,e.Fragment=l,e.Lazy=m,e.Memo=u,e.Portal=n,e.Profiler=o,e.StrictMode=C,e.Suspense=d,e.isAsyncMode=function(g){return y(g)||h(g)===i},e.isConcurrentMode=y,e.isContextConsumer=function(g){return h(g)===r},e.isContextProvider=function(g){return h(g)===a},e.isElement=function(g){return"object"==typeof g&&null!==g&&g.$$typeof===t},e.isForwardRef=function(g){return h(g)===A},e.isFragment=function(g){return h(g)===l},e.isLazy=function(g){return h(g)===m},e.isMemo=function(g){return h(g)===u},e.isPortal=function(g){return h(g)===n},e.isProfiler=function(g){return h(g)===o},e.isStrictMode=function(g){return h(g)===C},e.isSuspense=function(g){return h(g)===d},e.isValidElementType=function(g){return"string"==typeof g||"function"==typeof g||g===l||g===c||g===o||g===C||g===d||g===s||"object"==typeof g&&null!==g&&(g.$$typeof===m||g.$$typeof===u||g.$$typeof===a||g.$$typeof===r||g.$$typeof===A||g.$$typeof===Z||g.$$typeof===p||g.$$typeof===G||g.$$typeof===b)},e.typeOf=h},1296:function(g,e,I){"use strict";g.exports=I(6103)},1143:function(g){"use strict";g.exports=function(g,e,I,t,n,l,C,o){if(!g){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var r=[I,t,n,l,C,o],i=0;(a=new Error(e.replace(/%s/g,(function(){return r[i++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},2703:function(g,e,I){"use strict";var t=I(414);function n(){}function l(){}l.resetWarningCache=n,g.exports=function(){function g(g,e,I,n,l,C){if(C!==t){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function e(){return g}g.isRequired=g;var I={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:e,element:g,elementType:g,instanceOf:e,node:g,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:l,resetWarningCache:n};return I.PropTypes=I,I}},5697:function(g,e,I){g.exports=I(2703)()},414:function(g){"use strict";g.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:function(g,e,I){"use strict";var t=I(7294),n=I(3840);function l(g){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+g,I=1;I<arguments.length;I++)e+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+g+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C=new Set,o={};function a(g,e){r(g,e),r(g+"Capture",e)}function r(g,e){for(o[g]=e,g=0;g<e.length;g++)C.add(e[g])}var i=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),c=Object.prototype.hasOwnProperty,A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},s={};function u(g,e,I,t,n,l,C){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=t,this.attributeNamespace=n,this.mustUseProperty=I,this.propertyName=g,this.type=e,this.sanitizeURL=l,this.removeEmptyString=C}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(g){m[g]=new u(g,0,!1,g,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(g){var e=g[0];m[e]=new u(e,1,!1,g[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(g){m[g]=new u(g,2,!1,g.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(g){m[g]=new u(g,2,!1,g,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(g){m[g]=new u(g,3,!1,g.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(g){m[g]=new u(g,3,!0,g,null,!1,!1)})),["capture","download"].forEach((function(g){m[g]=new u(g,4,!1,g,null,!1,!1)})),["cols","rows","size","span"].forEach((function(g){m[g]=new u(g,6,!1,g,null,!1,!1)})),["rowSpan","start"].forEach((function(g){m[g]=new u(g,5,!1,g.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function Z(g){return g[1].toUpperCase()}function p(g,e,I,t){var n=m.hasOwnProperty(e)?m[e]:null;(null!==n?0!==n.type:t||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(g,e,I,t){if(null==e||function(g,e,I,t){if(null!==I&&0===I.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!t&&(null!==I?!I.acceptsBooleans:"data-"!==(g=g.toLowerCase().slice(0,5))&&"aria-"!==g);default:return!1}}(g,e,I,t))return!0;if(t)return!1;if(null!==I)switch(I.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,I,n,t)&&(I=null),t||null===n?function(g){return!!c.call(s,g)||!c.call(d,g)&&(A.test(g)?s[g]=!0:(d[g]=!0,!1))}(e)&&(null===I?g.removeAttribute(e):g.setAttribute(e,""+I)):n.mustUseProperty?g[n.propertyName]=null===I?3!==n.type&&"":I:(e=n.attributeName,t=n.attributeNamespace,null===I?g.removeAttribute(e):(I=3===(n=n.type)||4===n&&!0===I?"":""+I,t?g.setAttributeNS(t,e,I):g.setAttribute(e,I))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(g){var e=g.replace(b,Z);m[e]=new u(e,1,!1,g,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(g){var e=g.replace(b,Z);m[e]=new u(e,1,!1,g,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(g){var e=g.replace(b,Z);m[e]=new u(e,1,!1,g,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(g){m[g]=new u(g,1,!1,g.toLowerCase(),null,!1,!1)})),m.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(g){m[g]=new u(g,1,!1,g.toLowerCase(),null,!0,!0)}));var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),y=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),R=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),J=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var Y=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var H=Symbol.iterator;function w(g){return null===g||"object"!=typeof g?null:"function"==typeof(g=H&&g[H]||g["@@iterator"])?g:null}var N,F=Object.assign;function K(g){if(void 0===N)try{throw Error()}catch(g){var e=g.stack.trim().match(/\n( *(at )?)/);N=e&&e[1]||""}return"\n"+N+g}var x=!1;function z(g,e){if(!g||x)return"";x=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var t=g}Reflect.construct(g,[],e)}else{try{e.call()}catch(g){t=g}g.call(e.prototype)}else{try{throw Error()}catch(g){t=g}g()}}catch(e){if(e&&t&&"string"==typeof e.stack){for(var n=e.stack.split("\n"),l=t.stack.split("\n"),C=n.length-1,o=l.length-1;1<=C&&0<=o&&n[C]!==l[o];)o--;for(;1<=C&&0<=o;C--,o--)if(n[C]!==l[o]){if(1!==C||1!==o)do{if(C--,0>--o||n[C]!==l[o]){var a="\n"+n[C].replace(" at new "," at ");return g.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",g.displayName)),a}}while(1<=C&&0<=o);break}}}finally{x=!1,Error.prepareStackTrace=I}return(g=g?g.displayName||g.name:"")?K(g):""}function M(g){switch(g.tag){case 5:return K(g.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return z(g.type,!1);case 11:return z(g.type.render,!1);case 1:return z(g.type,!0);default:return""}}function E(g){if(null==g)return null;if("function"==typeof g)return g.displayName||g.name||null;if("string"==typeof g)return g;switch(g){case B:return"Fragment";case y:return"Portal";case W:return"Profiler";case S:return"StrictMode";case f:return"Suspense";case X:return"SuspenseList"}if("object"==typeof g)switch(g.$$typeof){case R:return(g.displayName||"Context")+".Consumer";case V:return(g._context.displayName||"Context")+".Provider";case v:var e=g.render;return(g=g.displayName)||(g=""!==(g=e.displayName||e.name||"")?"ForwardRef("+g+")":"ForwardRef"),g;case k:return null!==(e=g.displayName||null)?e:E(g.type)||"Memo";case J:e=g._payload,g=g._init;try{return E(g(e))}catch(g){}}return null}function L(g){var e=g.type;switch(g.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=(g=e.render).displayName||g.name||"",e.displayName||(""!==g?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function U(g){switch(typeof g){case"boolean":case"number":case"string":case"undefined":case"object":return g;default:return""}}function Q(g){var e=g.type;return(g=g.nodeName)&&"input"===g.toLowerCase()&&("checkbox"===e||"radio"===e)}function T(g){g._valueTracker||(g._valueTracker=function(g){var e=Q(g)?"checked":"value",I=Object.getOwnPropertyDescriptor(g.constructor.prototype,e),t=""+g[e];if(!g.hasOwnProperty(e)&&void 0!==I&&"function"==typeof I.get&&"function"==typeof I.set){var n=I.get,l=I.set;return Object.defineProperty(g,e,{configurable:!0,get:function(){return n.call(this)},set:function(g){t=""+g,l.call(this,g)}}),Object.defineProperty(g,e,{enumerable:I.enumerable}),{getValue:function(){return t},setValue:function(g){t=""+g},stopTracking:function(){g._valueTracker=null,delete g[e]}}}}(g))}function D(g){if(!g)return!1;var e=g._valueTracker;if(!e)return!0;var I=e.getValue(),t="";return g&&(t=Q(g)?g.checked?"true":"false":g.value),(g=t)!==I&&(e.setValue(g),!0)}function j(g){if(void 0===(g=g||("undefined"!=typeof document?document:void 0)))return null;try{return g.activeElement||g.body}catch(e){return g.body}}function P(g,e){var I=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=I?I:g._wrapperState.initialChecked})}function O(g,e){var I=null==e.defaultValue?"":e.defaultValue,t=null!=e.checked?e.checked:e.defaultChecked;I=U(null!=e.value?e.value:I),g._wrapperState={initialChecked:t,initialValue:I,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function q(g,e){null!=(e=e.checked)&&p(g,"checked",e,!1)}function $(g,e){q(g,e);var I=U(e.value),t=e.type;if(null!=I)"number"===t?(0===I&&""===g.value||g.value!=I)&&(g.value=""+I):g.value!==""+I&&(g.value=""+I);else if("submit"===t||"reset"===t)return void g.removeAttribute("value");e.hasOwnProperty("value")?gg(g,e.type,I):e.hasOwnProperty("defaultValue")&&gg(g,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(g.defaultChecked=!!e.defaultChecked)}function _(g,e,I){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var t=e.type;if(!("submit"!==t&&"reset"!==t||void 0!==e.value&&null!==e.value))return;e=""+g._wrapperState.initialValue,I||e===g.value||(g.value=e),g.defaultValue=e}""!==(I=g.name)&&(g.name=""),g.defaultChecked=!!g._wrapperState.initialChecked,""!==I&&(g.name=I)}function gg(g,e,I){"number"===e&&j(g.ownerDocument)===g||(null==I?g.defaultValue=""+g._wrapperState.initialValue:g.defaultValue!==""+I&&(g.defaultValue=""+I))}var eg=Array.isArray;function Ig(g,e,I,t){if(g=g.options,e){e={};for(var n=0;n<I.length;n++)e["$"+I[n]]=!0;for(I=0;I<g.length;I++)n=e.hasOwnProperty("$"+g[I].value),g[I].selected!==n&&(g[I].selected=n),n&&t&&(g[I].defaultSelected=!0)}else{for(I=""+U(I),e=null,n=0;n<g.length;n++){if(g[n].value===I)return g[n].selected=!0,void(t&&(g[n].defaultSelected=!0));null!==e||g[n].disabled||(e=g[n])}null!==e&&(e.selected=!0)}}function tg(g,e){if(null!=e.dangerouslySetInnerHTML)throw Error(l(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+g._wrapperState.initialValue})}function ng(g,e){var I=e.value;if(null==I){if(I=e.children,e=e.defaultValue,null!=I){if(null!=e)throw Error(l(92));if(eg(I)){if(1<I.length)throw Error(l(93));I=I[0]}e=I}null==e&&(e=""),I=e}g._wrapperState={initialValue:U(I)}}function lg(g,e){var I=U(e.value),t=U(e.defaultValue);null!=I&&((I=""+I)!==g.value&&(g.value=I),null==e.defaultValue&&g.defaultValue!==I&&(g.defaultValue=I)),null!=t&&(g.defaultValue=""+t)}function Cg(g){var e=g.textContent;e===g._wrapperState.initialValue&&""!==e&&null!==e&&(g.value=e)}function og(g){switch(g){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ag(g,e){return null==g||"http://www.w3.org/1999/xhtml"===g?og(e):"http://www.w3.org/2000/svg"===g&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":g}var rg,ig,cg=(ig=function(g,e){if("http://www.w3.org/2000/svg"!==g.namespaceURI||"innerHTML"in g)g.innerHTML=e;else{for((rg=rg||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rg.firstChild;g.firstChild;)g.removeChild(g.firstChild);for(;e.firstChild;)g.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(g,e,I,t){MSApp.execUnsafeLocalFunction((function(){return ig(g,e)}))}:ig);function Ag(g,e){if(e){var I=g.firstChild;if(I&&I===g.lastChild&&3===I.nodeType)return void(I.nodeValue=e)}g.textContent=e}var dg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sg=["Webkit","ms","Moz","O"];function ug(g,e,I){return null==e||"boolean"==typeof e||""===e?"":I||"number"!=typeof e||0===e||dg.hasOwnProperty(g)&&dg[g]?(""+e).trim():e+"px"}function mg(g,e){for(var I in g=g.style,e)if(e.hasOwnProperty(I)){var t=0===I.indexOf("--"),n=ug(I,e[I],t);"float"===I&&(I="cssFloat"),t?g.setProperty(I,n):g[I]=n}}Object.keys(dg).forEach((function(g){sg.forEach((function(e){e=e+g.charAt(0).toUpperCase()+g.substring(1),dg[e]=dg[g]}))}));var bg=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(g,e){if(e){if(bg[g]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(l(137,g));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(l(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(l(62))}}function pg(g,e){if(-1===g.indexOf("-"))return"string"==typeof e.is;switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=null;function hg(g){return(g=g.target||g.srcElement||window).correspondingUseElement&&(g=g.correspondingUseElement),3===g.nodeType?g.parentNode:g}var yg=null,Bg=null,Sg=null;function Wg(g){if(g=pn(g)){if("function"!=typeof yg)throw Error(l(280));var e=g.stateNode;e&&(e=hn(e),yg(g.stateNode,g.type,e))}}function Vg(g){Bg?Sg?Sg.push(g):Sg=[g]:Bg=g}function Rg(){if(Bg){var g=Bg,e=Sg;if(Sg=Bg=null,Wg(g),e)for(g=0;g<e.length;g++)Wg(e[g])}}function vg(g,e){return g(e)}function fg(){}var Xg=!1;function kg(g,e,I){if(Xg)return g(e,I);Xg=!0;try{return vg(g,e,I)}finally{Xg=!1,(null!==Bg||null!==Sg)&&(fg(),Rg())}}function Jg(g,e){var I=g.stateNode;if(null===I)return null;var t=hn(I);if(null===t)return null;I=t[e];g:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(t=!("button"===(g=g.type)||"input"===g||"select"===g||"textarea"===g)),g=!t;break g;default:g=!1}if(g)return null;if(I&&"function"!=typeof I)throw Error(l(231,e,typeof I));return I}var Yg=!1;if(i)try{var Hg={};Object.defineProperty(Hg,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",Hg,Hg),window.removeEventListener("test",Hg,Hg)}catch(ig){Yg=!1}function wg(g,e,I,t,n,l,C,o,a){var r=Array.prototype.slice.call(arguments,3);try{e.apply(I,r)}catch(g){this.onError(g)}}var Ng=!1,Fg=null,Kg=!1,xg=null,zg={onError:function(g){Ng=!0,Fg=g}};function Mg(g,e,I,t,n,l,C,o,a){Ng=!1,Fg=null,wg.apply(zg,arguments)}function Eg(g){var e=g,I=g;if(g.alternate)for(;e.return;)e=e.return;else{g=e;do{0!=(4098&(e=g).flags)&&(I=e.return),g=e.return}while(g)}return 3===e.tag?I:null}function Lg(g){if(13===g.tag){var e=g.memoizedState;if(null===e&&null!==(g=g.alternate)&&(e=g.memoizedState),null!==e)return e.dehydrated}return null}function Ug(g){if(Eg(g)!==g)throw Error(l(188))}function Qg(g){return null!==(g=function(g){var e=g.alternate;if(!e){if(null===(e=Eg(g)))throw Error(l(188));return e!==g?null:g}for(var I=g,t=e;;){var n=I.return;if(null===n)break;var C=n.alternate;if(null===C){if(null!==(t=n.return)){I=t;continue}break}if(n.child===C.child){for(C=n.child;C;){if(C===I)return Ug(n),g;if(C===t)return Ug(n),e;C=C.sibling}throw Error(l(188))}if(I.return!==t.return)I=n,t=C;else{for(var o=!1,a=n.child;a;){if(a===I){o=!0,I=n,t=C;break}if(a===t){o=!0,t=n,I=C;break}a=a.sibling}if(!o){for(a=C.child;a;){if(a===I){o=!0,I=C,t=n;break}if(a===t){o=!0,t=C,I=n;break}a=a.sibling}if(!o)throw Error(l(189))}}if(I.alternate!==t)throw Error(l(190))}if(3!==I.tag)throw Error(l(188));return I.stateNode.current===I?g:e}(g))?Tg(g):null}function Tg(g){if(5===g.tag||6===g.tag)return g;for(g=g.child;null!==g;){var e=Tg(g);if(null!==e)return e;g=g.sibling}return null}var Dg=n.unstable_scheduleCallback,jg=n.unstable_cancelCallback,Pg=n.unstable_shouldYield,Og=n.unstable_requestPaint,qg=n.unstable_now,$g=n.unstable_getCurrentPriorityLevel,_g=n.unstable_ImmediatePriority,ge=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,Ie=n.unstable_LowPriority,te=n.unstable_IdlePriority,ne=null,le=null,Ce=Math.clz32?Math.clz32:function(g){return 0===(g>>>=0)?32:31-(oe(g)/ae|0)|0},oe=Math.log,ae=Math.LN2,re=64,ie=4194304;function ce(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&g;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&g;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Ae(g,e){var I=g.pendingLanes;if(0===I)return 0;var t=0,n=g.suspendedLanes,l=g.pingedLanes,C=268435455&I;if(0!==C){var o=C&~n;0!==o?t=ce(o):0!=(l&=C)&&(t=ce(l))}else 0!=(C=I&~n)?t=ce(C):0!==l&&(t=ce(l));if(0===t)return 0;if(0!==e&&e!==t&&0==(e&n)&&((n=t&-t)>=(l=e&-e)||16===n&&0!=(4194240&l)))return e;if(0!=(4&t)&&(t|=16&I),0!==(e=g.entangledLanes))for(g=g.entanglements,e&=t;0<e;)n=1<<(I=31-Ce(e)),t|=g[I],e&=~n;return t}function de(g,e){switch(g){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function se(g){return 0!=(g=-1073741825&g.pendingLanes)?g:1073741824&g?1073741824:0}function ue(){var g=re;return 0==(4194240&(re<<=1))&&(re=64),g}function me(g){for(var e=[],I=0;31>I;I++)e.push(g);return e}function be(g,e,I){g.pendingLanes|=e,536870912!==e&&(g.suspendedLanes=0,g.pingedLanes=0),(g=g.eventTimes)[e=31-Ce(e)]=I}function Ze(g,e){var I=g.entangledLanes|=e;for(g=g.entanglements;I;){var t=31-Ce(I),n=1<<t;n&e|g[t]&e&&(g[t]|=e),I&=~n}}var pe=0;function Ge(g){return 1<(g&=-g)?4<g?0!=(268435455&g)?16:536870912:4:1}var he,ye,Be,Se,We,Ve=!1,Re=[],ve=null,fe=null,Xe=null,ke=new Map,Je=new Map,Ye=[],He="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function we(g,e){switch(g){case"focusin":case"focusout":ve=null;break;case"dragenter":case"dragleave":fe=null;break;case"mouseover":case"mouseout":Xe=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Je.delete(e.pointerId)}}function Ne(g,e,I,t,n,l){return null===g||g.nativeEvent!==l?(g={blockedOn:e,domEventName:I,eventSystemFlags:t,nativeEvent:l,targetContainers:[n]},null!==e&&null!==(e=pn(e))&&ye(e),g):(g.eventSystemFlags|=t,e=g.targetContainers,null!==n&&-1===e.indexOf(n)&&e.push(n),g)}function Fe(g){var e=Zn(g.target);if(null!==e){var I=Eg(e);if(null!==I)if(13===(e=I.tag)){if(null!==(e=Lg(I)))return g.blockedOn=e,void We(g.priority,(function(){Be(I)}))}else if(3===e&&I.stateNode.current.memoizedState.isDehydrated)return void(g.blockedOn=3===I.tag?I.stateNode.containerInfo:null)}g.blockedOn=null}function Ke(g){if(null!==g.blockedOn)return!1;for(var e=g.targetContainers;0<e.length;){var I=Pe(g.domEventName,g.eventSystemFlags,e[0],g.nativeEvent);if(null!==I)return null!==(e=pn(I))&&ye(e),g.blockedOn=I,!1;var t=new(I=g.nativeEvent).constructor(I.type,I);Gg=t,I.target.dispatchEvent(t),Gg=null,e.shift()}return!0}function xe(g,e,I){Ke(g)&&I.delete(e)}function ze(){Ve=!1,null!==ve&&Ke(ve)&&(ve=null),null!==fe&&Ke(fe)&&(fe=null),null!==Xe&&Ke(Xe)&&(Xe=null),ke.forEach(xe),Je.forEach(xe)}function Me(g,e){g.blockedOn===e&&(g.blockedOn=null,Ve||(Ve=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ze)))}function Ee(g){function e(e){return Me(e,g)}if(0<Re.length){Me(Re[0],g);for(var I=1;I<Re.length;I++){var t=Re[I];t.blockedOn===g&&(t.blockedOn=null)}}for(null!==ve&&Me(ve,g),null!==fe&&Me(fe,g),null!==Xe&&Me(Xe,g),ke.forEach(e),Je.forEach(e),I=0;I<Ye.length;I++)(t=Ye[I]).blockedOn===g&&(t.blockedOn=null);for(;0<Ye.length&&null===(I=Ye[0]).blockedOn;)Fe(I),null===I.blockedOn&&Ye.shift()}var Le=G.ReactCurrentBatchConfig,Ue=!0;function Qe(g,e,I,t){var n=pe,l=Le.transition;Le.transition=null;try{pe=1,De(g,e,I,t)}finally{pe=n,Le.transition=l}}function Te(g,e,I,t){var n=pe,l=Le.transition;Le.transition=null;try{pe=4,De(g,e,I,t)}finally{pe=n,Le.transition=l}}function De(g,e,I,t){if(Ue){var n=Pe(g,e,I,t);if(null===n)Lt(g,e,t,je,I),we(g,t);else if(function(g,e,I,t,n){switch(e){case"focusin":return ve=Ne(ve,g,e,I,t,n),!0;case"dragenter":return fe=Ne(fe,g,e,I,t,n),!0;case"mouseover":return Xe=Ne(Xe,g,e,I,t,n),!0;case"pointerover":var l=n.pointerId;return ke.set(l,Ne(ke.get(l)||null,g,e,I,t,n)),!0;case"gotpointercapture":return l=n.pointerId,Je.set(l,Ne(Je.get(l)||null,g,e,I,t,n)),!0}return!1}(n,g,e,I,t))t.stopPropagation();else if(we(g,t),4&e&&-1<He.indexOf(g)){for(;null!==n;){var l=pn(n);if(null!==l&&he(l),null===(l=Pe(g,e,I,t))&&Lt(g,e,t,je,I),l===n)break;n=l}null!==n&&t.stopPropagation()}else Lt(g,e,t,null,I)}}var je=null;function Pe(g,e,I,t){if(je=null,null!==(g=Zn(g=hg(t))))if(null===(e=Eg(g)))g=null;else if(13===(I=e.tag)){if(null!==(g=Lg(e)))return g;g=null}else if(3===I){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;g=null}else e!==g&&(g=null);return je=g,null}function Oe(g){switch(g){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($g()){case _g:return 1;case ge:return 4;case ee:case Ie:return 16;case te:return 536870912;default:return 16}default:return 16}}var qe=null,$e=null,_e=null;function gI(){if(_e)return _e;var g,e,I=$e,t=I.length,n="value"in qe?qe.value:qe.textContent,l=n.length;for(g=0;g<t&&I[g]===n[g];g++);var C=t-g;for(e=1;e<=C&&I[t-e]===n[l-e];e++);return _e=n.slice(g,1<e?1-e:void 0)}function eI(g){var e=g.keyCode;return"charCode"in g?0===(g=g.charCode)&&13===e&&(g=13):g=e,10===g&&(g=13),32<=g||13===g?g:0}function II(){return!0}function tI(){return!1}function nI(g){function e(e,I,t,n,l){for(var C in this._reactName=e,this._targetInst=t,this.type=I,this.nativeEvent=n,this.target=l,this.currentTarget=null,g)g.hasOwnProperty(C)&&(e=g[C],this[C]=e?e(n):n[C]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?II:tI,this.isPropagationStopped=tI,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():"unknown"!=typeof g.returnValue&&(g.returnValue=!1),this.isDefaultPrevented=II)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():"unknown"!=typeof g.cancelBubble&&(g.cancelBubble=!0),this.isPropagationStopped=II)},persist:function(){},isPersistent:II}),e}var lI,CI,oI,aI={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rI=nI(aI),iI=F({},aI,{view:0,detail:0}),cI=nI(iI),AI=F({},iI,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SI,button:0,buttons:0,relatedTarget:function(g){return void 0===g.relatedTarget?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==oI&&(oI&&"mousemove"===g.type?(lI=g.screenX-oI.screenX,CI=g.screenY-oI.screenY):CI=lI=0,oI=g),lI)},movementY:function(g){return"movementY"in g?g.movementY:CI}}),dI=nI(AI),sI=nI(F({},AI,{dataTransfer:0})),uI=nI(F({},iI,{relatedTarget:0})),mI=nI(F({},aI,{animationName:0,elapsedTime:0,pseudoElement:0})),bI=F({},aI,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),ZI=nI(bI),pI=nI(F({},aI,{data:0})),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(g){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(g):!!(g=yI[g])&&!!e[g]}function SI(){return BI}var WI=F({},iI,{key:function(g){if(g.key){var e=GI[g.key]||g.key;if("Unidentified"!==e)return e}return"keypress"===g.type?13===(g=eI(g))?"Enter":String.fromCharCode(g):"keydown"===g.type||"keyup"===g.type?hI[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SI,charCode:function(g){return"keypress"===g.type?eI(g):0},keyCode:function(g){return"keydown"===g.type||"keyup"===g.type?g.keyCode:0},which:function(g){return"keypress"===g.type?eI(g):"keydown"===g.type||"keyup"===g.type?g.keyCode:0}}),VI=nI(WI),RI=nI(F({},AI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vI=nI(F({},iI,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SI})),fI=nI(F({},aI,{propertyName:0,elapsedTime:0,pseudoElement:0})),XI=F({},AI,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),kI=nI(XI),JI=[9,13,27,32],YI=i&&"CompositionEvent"in window,HI=null;i&&"documentMode"in document&&(HI=document.documentMode);var wI=i&&"TextEvent"in window&&!HI,NI=i&&(!YI||HI&&8<HI&&11>=HI),FI=String.fromCharCode(32),KI=!1;function xI(g,e){switch(g){case"keyup":return-1!==JI.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zI(g){return"object"==typeof(g=g.detail)&&"data"in g?g.data:null}var MI=!1,EI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LI(g){var e=g&&g.nodeName&&g.nodeName.toLowerCase();return"input"===e?!!EI[g.type]:"textarea"===e}function UI(g,e,I,t){Vg(t),0<(e=Qt(e,"onChange")).length&&(I=new rI("onChange","change",null,I,t),g.push({event:I,listeners:e}))}var QI=null,TI=null;function DI(g){Ft(g,0)}function jI(g){if(D(Gn(g)))return g}function PI(g,e){if("change"===g)return e}var OI=!1;if(i){var qI;if(i){var $I="oninput"in document;if(!$I){var _I=document.createElement("div");_I.setAttribute("oninput","return;"),$I="function"==typeof _I.oninput}qI=$I}else qI=!1;OI=qI&&(!document.documentMode||9<document.documentMode)}function gt(){QI&&(QI.detachEvent("onpropertychange",et),TI=QI=null)}function et(g){if("value"===g.propertyName&&jI(TI)){var e=[];UI(e,TI,g,hg(g)),kg(DI,e)}}function It(g,e,I){"focusin"===g?(gt(),TI=I,(QI=e).attachEvent("onpropertychange",et)):"focusout"===g&&gt()}function tt(g){if("selectionchange"===g||"keyup"===g||"keydown"===g)return jI(TI)}function nt(g,e){if("click"===g)return jI(e)}function lt(g,e){if("input"===g||"change"===g)return jI(e)}var Ct="function"==typeof Object.is?Object.is:function(g,e){return g===e&&(0!==g||1/g==1/e)||g!=g&&e!=e};function ot(g,e){if(Ct(g,e))return!0;if("object"!=typeof g||null===g||"object"!=typeof e||null===e)return!1;var I=Object.keys(g),t=Object.keys(e);if(I.length!==t.length)return!1;for(t=0;t<I.length;t++){var n=I[t];if(!c.call(e,n)||!Ct(g[n],e[n]))return!1}return!0}function at(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function rt(g,e){var I,t=at(g);for(g=0;t;){if(3===t.nodeType){if(I=g+t.textContent.length,g<=e&&I>=e)return{node:t,offset:e-g};g=I}g:{for(;t;){if(t.nextSibling){t=t.nextSibling;break g}t=t.parentNode}t=void 0}t=at(t)}}function it(g,e){return!(!g||!e)&&(g===e||(!g||3!==g.nodeType)&&(e&&3===e.nodeType?it(g,e.parentNode):"contains"in g?g.contains(e):!!g.compareDocumentPosition&&!!(16&g.compareDocumentPosition(e))))}function ct(){for(var g=window,e=j();e instanceof g.HTMLIFrameElement;){try{var I="string"==typeof e.contentWindow.location.href}catch(g){I=!1}if(!I)break;e=j((g=e.contentWindow).document)}return e}function At(g){var e=g&&g.nodeName&&g.nodeName.toLowerCase();return e&&("input"===e&&("text"===g.type||"search"===g.type||"tel"===g.type||"url"===g.type||"password"===g.type)||"textarea"===e||"true"===g.contentEditable)}function dt(g){var e=ct(),I=g.focusedElem,t=g.selectionRange;if(e!==I&&I&&I.ownerDocument&&it(I.ownerDocument.documentElement,I)){if(null!==t&&At(I))if(e=t.start,void 0===(g=t.end)&&(g=e),"selectionStart"in I)I.selectionStart=e,I.selectionEnd=Math.min(g,I.value.length);else if((g=(e=I.ownerDocument||document)&&e.defaultView||window).getSelection){g=g.getSelection();var n=I.textContent.length,l=Math.min(t.start,n);t=void 0===t.end?l:Math.min(t.end,n),!g.extend&&l>t&&(n=t,t=l,l=n),n=rt(I,l);var C=rt(I,t);n&&C&&(1!==g.rangeCount||g.anchorNode!==n.node||g.anchorOffset!==n.offset||g.focusNode!==C.node||g.focusOffset!==C.offset)&&((e=e.createRange()).setStart(n.node,n.offset),g.removeAllRanges(),l>t?(g.addRange(e),g.extend(C.node,C.offset)):(e.setEnd(C.node,C.offset),g.addRange(e)))}for(e=[],g=I;g=g.parentNode;)1===g.nodeType&&e.push({element:g,left:g.scrollLeft,top:g.scrollTop});for("function"==typeof I.focus&&I.focus(),I=0;I<e.length;I++)(g=e[I]).element.scrollLeft=g.left,g.element.scrollTop=g.top}}var st=i&&"documentMode"in document&&11>=document.documentMode,ut=null,mt=null,bt=null,Zt=!1;function pt(g,e,I){var t=I.window===I?I.document:9===I.nodeType?I:I.ownerDocument;Zt||null==ut||ut!==j(t)||(t="selectionStart"in(t=ut)&&At(t)?{start:t.selectionStart,end:t.selectionEnd}:{anchorNode:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset},bt&&ot(bt,t)||(bt=t,0<(t=Qt(mt,"onSelect")).length&&(e=new rI("onSelect","select",null,e,I),g.push({event:e,listeners:t}),e.target=ut)))}function Gt(g,e){var I={};return I[g.toLowerCase()]=e.toLowerCase(),I["Webkit"+g]="webkit"+e,I["Moz"+g]="moz"+e,I}var ht={animationend:Gt("Animation","AnimationEnd"),animationiteration:Gt("Animation","AnimationIteration"),animationstart:Gt("Animation","AnimationStart"),transitionend:Gt("Transition","TransitionEnd")},yt={},Bt={};function St(g){if(yt[g])return yt[g];if(!ht[g])return g;var e,I=ht[g];for(e in I)if(I.hasOwnProperty(e)&&e in Bt)return yt[g]=I[e];return g}i&&(Bt=document.createElement("div").style,"AnimationEvent"in window||(delete ht.animationend.animation,delete ht.animationiteration.animation,delete ht.animationstart.animation),"TransitionEvent"in window||delete ht.transitionend.transition);var Wt=St("animationend"),Vt=St("animationiteration"),Rt=St("animationstart"),vt=St("transitionend"),ft=new Map,Xt="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kt(g,e){ft.set(g,e),a(e,[g])}for(var Jt=0;Jt<Xt.length;Jt++){var Yt=Xt[Jt];kt(Yt.toLowerCase(),"on"+(Yt[0].toUpperCase()+Yt.slice(1)))}kt(Wt,"onAnimationEnd"),kt(Vt,"onAnimationIteration"),kt(Rt,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(vt,"onTransitionEnd"),r("onMouseEnter",["mouseout","mouseover"]),r("onMouseLeave",["mouseout","mouseover"]),r("onPointerEnter",["pointerout","pointerover"]),r("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ht="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wt=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ht));function Nt(g,e,I){var t=g.type||"unknown-event";g.currentTarget=I,function(g,e,I,t,n,C,o,a,r){if(Mg.apply(this,arguments),Ng){if(!Ng)throw Error(l(198));var i=Fg;Ng=!1,Fg=null,Kg||(Kg=!0,xg=i)}}(t,e,void 0,g),g.currentTarget=null}function Ft(g,e){e=0!=(4&e);for(var I=0;I<g.length;I++){var t=g[I],n=t.event;t=t.listeners;g:{var l=void 0;if(e)for(var C=t.length-1;0<=C;C--){var o=t[C],a=o.instance,r=o.currentTarget;if(o=o.listener,a!==l&&n.isPropagationStopped())break g;Nt(n,o,r),l=a}else for(C=0;C<t.length;C++){if(a=(o=t[C]).instance,r=o.currentTarget,o=o.listener,a!==l&&n.isPropagationStopped())break g;Nt(n,o,r),l=a}}}if(Kg)throw g=xg,Kg=!1,xg=null,g}function Kt(g,e){var I=e[un];void 0===I&&(I=e[un]=new Set);var t=g+"__bubble";I.has(t)||(Et(e,g,2,!1),I.add(t))}function xt(g,e,I){var t=0;e&&(t|=4),Et(I,g,t,e)}var zt="_reactListening"+Math.random().toString(36).slice(2);function Mt(g){if(!g[zt]){g[zt]=!0,C.forEach((function(e){"selectionchange"!==e&&(wt.has(e)||xt(e,!1,g),xt(e,!0,g))}));var e=9===g.nodeType?g:g.ownerDocument;null===e||e[zt]||(e[zt]=!0,xt("selectionchange",!1,e))}}function Et(g,e,I,t){switch(Oe(e)){case 1:var n=Qe;break;case 4:n=Te;break;default:n=De}I=n.bind(null,e,I,g),n=void 0,!Yg||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(n=!0),t?void 0!==n?g.addEventListener(e,I,{capture:!0,passive:n}):g.addEventListener(e,I,!0):void 0!==n?g.addEventListener(e,I,{passive:n}):g.addEventListener(e,I,!1)}function Lt(g,e,I,t,n){var l=t;if(0==(1&e)&&0==(2&e)&&null!==t)g:for(;;){if(null===t)return;var C=t.tag;if(3===C||4===C){var o=t.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===C)for(C=t.return;null!==C;){var a=C.tag;if((3===a||4===a)&&((a=C.stateNode.containerInfo)===n||8===a.nodeType&&a.parentNode===n))return;C=C.return}for(;null!==o;){if(null===(C=Zn(o)))return;if(5===(a=C.tag)||6===a){t=l=C;continue g}o=o.parentNode}}t=t.return}kg((function(){var t=l,n=hg(I),C=[];g:{var o=ft.get(g);if(void 0!==o){var a=rI,r=g;switch(g){case"keypress":if(0===eI(I))break g;case"keydown":case"keyup":a=VI;break;case"focusin":r="focus",a=uI;break;case"focusout":r="blur",a=uI;break;case"beforeblur":case"afterblur":a=uI;break;case"click":if(2===I.button)break g;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=dI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=sI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=vI;break;case Wt:case Vt:case Rt:a=mI;break;case vt:a=fI;break;case"scroll":a=cI;break;case"wheel":a=kI;break;case"copy":case"cut":case"paste":a=ZI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=RI}var i=0!=(4&e),c=!i&&"scroll"===g,A=i?null!==o?o+"Capture":null:o;i=[];for(var d,s=t;null!==s;){var u=(d=s).stateNode;if(5===d.tag&&null!==u&&(d=u,null!==A&&null!=(u=Jg(s,A))&&i.push(Ut(s,u,d))),c)break;s=s.return}0<i.length&&(o=new a(o,r,null,I,n),C.push({event:o,listeners:i}))}}if(0==(7&e)){if(a="mouseout"===g||"pointerout"===g,(!(o="mouseover"===g||"pointerover"===g)||I===Gg||!(r=I.relatedTarget||I.fromElement)||!Zn(r)&&!r[sn])&&(a||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(r=(r=I.relatedTarget||I.toElement)?Zn(r):null)&&(r!==(c=Eg(r))||5!==r.tag&&6!==r.tag)&&(r=null)):(a=null,r=t),a!==r)){if(i=dI,u="onMouseLeave",A="onMouseEnter",s="mouse","pointerout"!==g&&"pointerover"!==g||(i=RI,u="onPointerLeave",A="onPointerEnter",s="pointer"),c=null==a?o:Gn(a),d=null==r?o:Gn(r),(o=new i(u,s+"leave",a,I,n)).target=c,o.relatedTarget=d,u=null,Zn(n)===t&&((i=new i(A,s+"enter",r,I,n)).target=d,i.relatedTarget=c,u=i),c=u,a&&r)g:{for(A=r,s=0,d=i=a;d;d=Tt(d))s++;for(d=0,u=A;u;u=Tt(u))d++;for(;0<s-d;)i=Tt(i),s--;for(;0<d-s;)A=Tt(A),d--;for(;s--;){if(i===A||null!==A&&i===A.alternate)break g;i=Tt(i),A=Tt(A)}i=null}else i=null;null!==a&&Dt(C,o,a,i,!1),null!==r&&null!==c&&Dt(C,c,r,i,!0)}if("select"===(a=(o=t?Gn(t):window).nodeName&&o.nodeName.toLowerCase())||"input"===a&&"file"===o.type)var m=PI;else if(LI(o))if(OI)m=lt;else{m=tt;var b=It}else(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=nt);switch(m&&(m=m(g,t))?UI(C,m,I,n):(b&&b(g,o,t),"focusout"===g&&(b=o._wrapperState)&&b.controlled&&"number"===o.type&&gg(o,"number",o.value)),b=t?Gn(t):window,g){case"focusin":(LI(b)||"true"===b.contentEditable)&&(ut=b,mt=t,bt=null);break;case"focusout":bt=mt=ut=null;break;case"mousedown":Zt=!0;break;case"contextmenu":case"mouseup":case"dragend":Zt=!1,pt(C,I,n);break;case"selectionchange":if(st)break;case"keydown":case"keyup":pt(C,I,n)}var Z;if(YI)g:{switch(g){case"compositionstart":var p="onCompositionStart";break g;case"compositionend":p="onCompositionEnd";break g;case"compositionupdate":p="onCompositionUpdate";break g}p=void 0}else MI?xI(g,I)&&(p="onCompositionEnd"):"keydown"===g&&229===I.keyCode&&(p="onCompositionStart");p&&(NI&&"ko"!==I.locale&&(MI||"onCompositionStart"!==p?"onCompositionEnd"===p&&MI&&(Z=gI()):($e="value"in(qe=n)?qe.value:qe.textContent,MI=!0)),0<(b=Qt(t,p)).length&&(p=new pI(p,g,null,I,n),C.push({event:p,listeners:b}),(Z||null!==(Z=zI(I)))&&(p.data=Z))),(Z=wI?function(g,e){switch(g){case"compositionend":return zI(e);case"keypress":return 32!==e.which?null:(KI=!0,FI);case"textInput":return(g=e.data)===FI&&KI?null:g;default:return null}}(g,I):function(g,e){if(MI)return"compositionend"===g||!YI&&xI(g,e)?(g=gI(),_e=$e=qe=null,MI=!1,g):null;switch(g){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NI&&"ko"!==e.locale?null:e.data}}(g,I))&&0<(t=Qt(t,"onBeforeInput")).length&&(n=new pI("onBeforeInput","beforeinput",null,I,n),C.push({event:n,listeners:t}),n.data=Z)}Ft(C,e)}))}function Ut(g,e,I){return{instance:g,listener:e,currentTarget:I}}function Qt(g,e){for(var I=e+"Capture",t=[];null!==g;){var n=g,l=n.stateNode;5===n.tag&&null!==l&&(n=l,null!=(l=Jg(g,I))&&t.unshift(Ut(g,l,n)),null!=(l=Jg(g,e))&&t.push(Ut(g,l,n))),g=g.return}return t}function Tt(g){if(null===g)return null;do{g=g.return}while(g&&5!==g.tag);return g||null}function Dt(g,e,I,t,n){for(var l=e._reactName,C=[];null!==I&&I!==t;){var o=I,a=o.alternate,r=o.stateNode;if(null!==a&&a===t)break;5===o.tag&&null!==r&&(o=r,n?null!=(a=Jg(I,l))&&C.unshift(Ut(I,a,o)):n||null!=(a=Jg(I,l))&&C.push(Ut(I,a,o))),I=I.return}0!==C.length&&g.push({event:e,listeners:C})}var jt=/\r\n?/g,Pt=/\u0000|\uFFFD/g;function Ot(g){return("string"==typeof g?g:""+g).replace(jt,"\n").replace(Pt,"")}function qt(g,e,I){if(e=Ot(e),Ot(g)!==e&&I)throw Error(l(425))}function $t(){}var _t=null,gn=null;function en(g,e){return"textarea"===g||"noscript"===g||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var In="function"==typeof setTimeout?setTimeout:void 0,tn="function"==typeof clearTimeout?clearTimeout:void 0,nn="function"==typeof Promise?Promise:void 0,ln="function"==typeof queueMicrotask?queueMicrotask:void 0!==nn?function(g){return nn.resolve(null).then(g).catch(Cn)}:In;function Cn(g){setTimeout((function(){throw g}))}function on(g,e){var I=e,t=0;do{var n=I.nextSibling;if(g.removeChild(I),n&&8===n.nodeType)if("/$"===(I=n.data)){if(0===t)return g.removeChild(n),void Ee(e);t--}else"$"!==I&&"$?"!==I&&"$!"!==I||t++;I=n}while(I);Ee(e)}function an(g){for(;null!=g;g=g.nextSibling){var e=g.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=g.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return g}function rn(g){g=g.previousSibling;for(var e=0;g;){if(8===g.nodeType){var I=g.data;if("$"===I||"$!"===I||"$?"===I){if(0===e)return g;e--}else"/$"===I&&e++}g=g.previousSibling}return null}var cn=Math.random().toString(36).slice(2),An="__reactFiber$"+cn,dn="__reactProps$"+cn,sn="__reactContainer$"+cn,un="__reactEvents$"+cn,mn="__reactListeners$"+cn,bn="__reactHandles$"+cn;function Zn(g){var e=g[An];if(e)return e;for(var I=g.parentNode;I;){if(e=I[sn]||I[An]){if(I=e.alternate,null!==e.child||null!==I&&null!==I.child)for(g=rn(g);null!==g;){if(I=g[An])return I;g=rn(g)}return e}I=(g=I).parentNode}return null}function pn(g){return!(g=g[An]||g[sn])||5!==g.tag&&6!==g.tag&&13!==g.tag&&3!==g.tag?null:g}function Gn(g){if(5===g.tag||6===g.tag)return g.stateNode;throw Error(l(33))}function hn(g){return g[dn]||null}var yn=[],Bn=-1;function Sn(g){return{current:g}}function Wn(g){0>Bn||(g.current=yn[Bn],yn[Bn]=null,Bn--)}function Vn(g,e){Bn++,yn[Bn]=g.current,g.current=e}var Rn={},vn=Sn(Rn),fn=Sn(!1),Xn=Rn;function kn(g,e){var I=g.type.contextTypes;if(!I)return Rn;var t=g.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===e)return t.__reactInternalMemoizedMaskedChildContext;var n,l={};for(n in I)l[n]=e[n];return t&&((g=g.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,g.__reactInternalMemoizedMaskedChildContext=l),l}function Jn(g){return null!=g.childContextTypes}function Yn(){Wn(fn),Wn(vn)}function Hn(g,e,I){if(vn.current!==Rn)throw Error(l(168));Vn(vn,e),Vn(fn,I)}function wn(g,e,I){var t=g.stateNode;if(e=e.childContextTypes,"function"!=typeof t.getChildContext)return I;for(var n in t=t.getChildContext())if(!(n in e))throw Error(l(108,L(g)||"Unknown",n));return F({},I,t)}function Nn(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||Rn,Xn=vn.current,Vn(vn,g),Vn(fn,fn.current),!0}function Fn(g,e,I){var t=g.stateNode;if(!t)throw Error(l(169));I?(g=wn(g,e,Xn),t.__reactInternalMemoizedMergedChildContext=g,Wn(fn),Wn(vn),Vn(vn,g)):Wn(fn),Vn(fn,I)}var Kn=null,xn=!1,zn=!1;function Mn(g){null===Kn?Kn=[g]:Kn.push(g)}function En(){if(!zn&&null!==Kn){zn=!0;var g=0,e=pe;try{var I=Kn;for(pe=1;g<I.length;g++){var t=I[g];do{t=t(!0)}while(null!==t)}Kn=null,xn=!1}catch(e){throw null!==Kn&&(Kn=Kn.slice(g+1)),Dg(_g,En),e}finally{pe=e,zn=!1}}return null}var Ln=[],Un=0,Qn=null,Tn=0,Dn=[],jn=0,Pn=null,On=1,qn="";function $n(g,e){Ln[Un++]=Tn,Ln[Un++]=Qn,Qn=g,Tn=e}function _n(g,e,I){Dn[jn++]=On,Dn[jn++]=qn,Dn[jn++]=Pn,Pn=g;var t=On;g=qn;var n=32-Ce(t)-1;t&=~(1<<n),I+=1;var l=32-Ce(e)+n;if(30<l){var C=n-n%5;l=(t&(1<<C)-1).toString(32),t>>=C,n-=C,On=1<<32-Ce(e)+n|I<<n|t,qn=l+g}else On=1<<l|I<<n|t,qn=g}function gl(g){null!==g.return&&($n(g,1),_n(g,1,0))}function el(g){for(;g===Qn;)Qn=Ln[--Un],Ln[Un]=null,Tn=Ln[--Un],Ln[Un]=null;for(;g===Pn;)Pn=Dn[--jn],Dn[jn]=null,qn=Dn[--jn],Dn[jn]=null,On=Dn[--jn],Dn[jn]=null}var Il=null,tl=null,nl=!1,ll=null;function Cl(g,e){var I=Jr(5,null,null,0);I.elementType="DELETED",I.stateNode=e,I.return=g,null===(e=g.deletions)?(g.deletions=[I],g.flags|=16):e.push(I)}function ol(g,e){switch(g.tag){case 5:var I=g.type;return null!==(e=1!==e.nodeType||I.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(g.stateNode=e,Il=g,tl=an(e.firstChild),!0);case 6:return null!==(e=""===g.pendingProps||3!==e.nodeType?null:e)&&(g.stateNode=e,Il=g,tl=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(I=null!==Pn?{id:On,overflow:qn}:null,g.memoizedState={dehydrated:e,treeContext:I,retryLane:1073741824},(I=Jr(18,null,null,0)).stateNode=e,I.return=g,g.child=I,Il=g,tl=null,!0);default:return!1}}function al(g){return 0!=(1&g.mode)&&0==(128&g.flags)}function rl(g){if(nl){var e=tl;if(e){var I=e;if(!ol(g,e)){if(al(g))throw Error(l(418));e=an(I.nextSibling);var t=Il;e&&ol(g,e)?Cl(t,I):(g.flags=-4097&g.flags|2,nl=!1,Il=g)}}else{if(al(g))throw Error(l(418));g.flags=-4097&g.flags|2,nl=!1,Il=g}}}function il(g){for(g=g.return;null!==g&&5!==g.tag&&3!==g.tag&&13!==g.tag;)g=g.return;Il=g}function cl(g){if(g!==Il)return!1;if(!nl)return il(g),nl=!0,!1;var e;if((e=3!==g.tag)&&!(e=5!==g.tag)&&(e="head"!==(e=g.type)&&"body"!==e&&!en(g.type,g.memoizedProps)),e&&(e=tl)){if(al(g))throw Al(),Error(l(418));for(;e;)Cl(g,e),e=an(e.nextSibling)}if(il(g),13===g.tag){if(!(g=null!==(g=g.memoizedState)?g.dehydrated:null))throw Error(l(317));g:{for(g=g.nextSibling,e=0;g;){if(8===g.nodeType){var I=g.data;if("/$"===I){if(0===e){tl=an(g.nextSibling);break g}e--}else"$"!==I&&"$!"!==I&&"$?"!==I||e++}g=g.nextSibling}tl=null}}else tl=Il?an(g.stateNode.nextSibling):null;return!0}function Al(){for(var g=tl;g;)g=an(g.nextSibling)}function dl(){tl=Il=null,nl=!1}function sl(g){null===ll?ll=[g]:ll.push(g)}var ul=G.ReactCurrentBatchConfig;function ml(g,e){if(g&&g.defaultProps){for(var I in e=F({},e),g=g.defaultProps)void 0===e[I]&&(e[I]=g[I]);return e}return e}var bl=Sn(null),Zl=null,pl=null,Gl=null;function hl(){Gl=pl=Zl=null}function yl(g){var e=bl.current;Wn(bl),g._currentValue=e}function Bl(g,e,I){for(;null!==g;){var t=g.alternate;if((g.childLanes&e)!==e?(g.childLanes|=e,null!==t&&(t.childLanes|=e)):null!==t&&(t.childLanes&e)!==e&&(t.childLanes|=e),g===I)break;g=g.return}}function Sl(g,e){Zl=g,Gl=pl=null,null!==(g=g.dependencies)&&null!==g.firstContext&&(0!=(g.lanes&e)&&(Go=!0),g.firstContext=null)}function Wl(g){var e=g._currentValue;if(Gl!==g)if(g={context:g,memoizedValue:e,next:null},null===pl){if(null===Zl)throw Error(l(308));pl=g,Zl.dependencies={lanes:0,firstContext:g}}else pl=pl.next=g;return e}var Vl=null;function Rl(g){null===Vl?Vl=[g]:Vl.push(g)}function vl(g,e,I,t){var n=e.interleaved;return null===n?(I.next=I,Rl(e)):(I.next=n.next,n.next=I),e.interleaved=I,fl(g,t)}function fl(g,e){g.lanes|=e;var I=g.alternate;for(null!==I&&(I.lanes|=e),I=g,g=g.return;null!==g;)g.childLanes|=e,null!==(I=g.alternate)&&(I.childLanes|=e),I=g,g=g.return;return 3===I.tag?I.stateNode:null}var Xl=!1;function kl(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jl(g,e){g=g.updateQueue,e.updateQueue===g&&(e.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function Yl(g,e){return{eventTime:g,lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(g,e,I){var t=g.updateQueue;if(null===t)return null;if(t=t.shared,0!=(2&fa)){var n=t.pending;return null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e,fl(g,I)}return null===(n=t.interleaved)?(e.next=e,Rl(t)):(e.next=n.next,n.next=e),t.interleaved=e,fl(g,I)}function wl(g,e,I){if(null!==(e=e.updateQueue)&&(e=e.shared,0!=(4194240&I))){var t=e.lanes;I|=t&=g.pendingLanes,e.lanes=I,Ze(g,I)}}function Nl(g,e){var I=g.updateQueue,t=g.alternate;if(null!==t&&I===(t=t.updateQueue)){var n=null,l=null;if(null!==(I=I.firstBaseUpdate)){do{var C={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};null===l?n=l=C:l=l.next=C,I=I.next}while(null!==I);null===l?n=l=e:l=l.next=e}else n=l=e;return I={baseState:t.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:t.shared,effects:t.effects},void(g.updateQueue=I)}null===(g=I.lastBaseUpdate)?I.firstBaseUpdate=e:g.next=e,I.lastBaseUpdate=e}function Fl(g,e,I,t){var n=g.updateQueue;Xl=!1;var l=n.firstBaseUpdate,C=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var a=o,r=a.next;a.next=null,null===C?l=r:C.next=r,C=a;var i=g.alternate;null!==i&&(o=(i=i.updateQueue).lastBaseUpdate)!==C&&(null===o?i.firstBaseUpdate=r:o.next=r,i.lastBaseUpdate=a)}if(null!==l){var c=n.baseState;for(C=0,i=r=a=null,o=l;;){var A=o.lane,d=o.eventTime;if((t&A)===A){null!==i&&(i=i.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});g:{var s=g,u=o;switch(A=e,d=I,u.tag){case 1:if("function"==typeof(s=u.payload)){c=s.call(d,c,A);break g}c=s;break g;case 3:s.flags=-65537&s.flags|128;case 0:if(null==(A="function"==typeof(s=u.payload)?s.call(d,c,A):s))break g;c=F({},c,A);break g;case 2:Xl=!0}}null!==o.callback&&0!==o.lane&&(g.flags|=64,null===(A=n.effects)?n.effects=[o]:A.push(o))}else d={eventTime:d,lane:A,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===i?(r=i=d,a=c):i=i.next=d,C|=A;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(A=o).next,A.next=null,n.lastBaseUpdate=A,n.shared.pending=null}}if(null===i&&(a=c),n.baseState=a,n.firstBaseUpdate=r,n.lastBaseUpdate=i,null!==(e=n.shared.interleaved)){n=e;do{C|=n.lane,n=n.next}while(n!==e)}else null===l&&(n.shared.lanes=0);Fa|=C,g.lanes=C,g.memoizedState=c}}function Kl(g,e,I){if(g=e.effects,e.effects=null,null!==g)for(e=0;e<g.length;e++){var t=g[e],n=t.callback;if(null!==n){if(t.callback=null,t=I,"function"!=typeof n)throw Error(l(191,n));n.call(t)}}}var xl=(new t.Component).refs;function zl(g,e,I,t){I=null==(I=I(t,e=g.memoizedState))?e:F({},e,I),g.memoizedState=I,0===g.lanes&&(g.updateQueue.baseState=I)}var Ml={isMounted:function(g){return!!(g=g._reactInternals)&&Eg(g)===g},enqueueSetState:function(g,e,I){g=g._reactInternals;var t=er(),n=Ir(g),l=Yl(t,n);l.payload=e,null!=I&&(l.callback=I),null!==(e=Hl(g,l,n))&&(tr(e,g,n,t),wl(e,g,n))},enqueueReplaceState:function(g,e,I){g=g._reactInternals;var t=er(),n=Ir(g),l=Yl(t,n);l.tag=1,l.payload=e,null!=I&&(l.callback=I),null!==(e=Hl(g,l,n))&&(tr(e,g,n,t),wl(e,g,n))},enqueueForceUpdate:function(g,e){g=g._reactInternals;var I=er(),t=Ir(g),n=Yl(I,t);n.tag=2,null!=e&&(n.callback=e),null!==(e=Hl(g,n,t))&&(tr(e,g,t,I),wl(e,g,t))}};function El(g,e,I,t,n,l,C){return"function"==typeof(g=g.stateNode).shouldComponentUpdate?g.shouldComponentUpdate(t,l,C):!(e.prototype&&e.prototype.isPureReactComponent&&ot(I,t)&&ot(n,l))}function Ll(g,e,I){var t=!1,n=Rn,l=e.contextType;return"object"==typeof l&&null!==l?l=Wl(l):(n=Jn(e)?Xn:vn.current,l=(t=null!=(t=e.contextTypes))?kn(g,n):Rn),e=new e(I,l),g.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ml,g.stateNode=e,e._reactInternals=g,t&&((g=g.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,g.__reactInternalMemoizedMaskedChildContext=l),e}function Ul(g,e,I,t){g=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(I,t),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(I,t),e.state!==g&&Ml.enqueueReplaceState(e,e.state,null)}function Ql(g,e,I,t){var n=g.stateNode;n.props=I,n.state=g.memoizedState,n.refs=xl,kl(g);var l=e.contextType;"object"==typeof l&&null!==l?n.context=Wl(l):(l=Jn(e)?Xn:vn.current,n.context=kn(g,l)),n.state=g.memoizedState,"function"==typeof(l=e.getDerivedStateFromProps)&&(zl(g,e,l,I),n.state=g.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(e=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),e!==n.state&&Ml.enqueueReplaceState(n,n.state,null),Fl(g,I,n,t),n.state=g.memoizedState),"function"==typeof n.componentDidMount&&(g.flags|=4194308)}function Tl(g,e,I){if(null!==(g=I.ref)&&"function"!=typeof g&&"object"!=typeof g){if(I._owner){if(I=I._owner){if(1!==I.tag)throw Error(l(309));var t=I.stateNode}if(!t)throw Error(l(147,g));var n=t,C=""+g;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===C?e.ref:(e=function(g){var e=n.refs;e===xl&&(e=n.refs={}),null===g?delete e[C]:e[C]=g},e._stringRef=C,e)}if("string"!=typeof g)throw Error(l(284));if(!I._owner)throw Error(l(290,g))}return g}function Dl(g,e){throw g=Object.prototype.toString.call(e),Error(l(31,"[object Object]"===g?"object with keys {"+Object.keys(e).join(", ")+"}":g))}function jl(g){return(0,g._init)(g._payload)}function Pl(g){function e(e,I){if(g){var t=e.deletions;null===t?(e.deletions=[I],e.flags|=16):t.push(I)}}function I(I,t){if(!g)return null;for(;null!==t;)e(I,t),t=t.sibling;return null}function t(g,e){for(g=new Map;null!==e;)null!==e.key?g.set(e.key,e):g.set(e.index,e),e=e.sibling;return g}function n(g,e){return(g=Hr(g,e)).index=0,g.sibling=null,g}function C(e,I,t){return e.index=t,g?null!==(t=e.alternate)?(t=t.index)<I?(e.flags|=2,I):t:(e.flags|=2,I):(e.flags|=1048576,I)}function o(e){return g&&null===e.alternate&&(e.flags|=2),e}function a(g,e,I,t){return null===e||6!==e.tag?((e=Kr(I,g.mode,t)).return=g,e):((e=n(e,I)).return=g,e)}function r(g,e,I,t){var l=I.type;return l===B?c(g,e,I.props.children,t,I.key):null!==e&&(e.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===J&&jl(l)===e.type)?((t=n(e,I.props)).ref=Tl(g,e,I),t.return=g,t):((t=wr(I.type,I.key,I.props,null,g.mode,t)).ref=Tl(g,e,I),t.return=g,t)}function i(g,e,I,t){return null===e||4!==e.tag||e.stateNode.containerInfo!==I.containerInfo||e.stateNode.implementation!==I.implementation?((e=xr(I,g.mode,t)).return=g,e):((e=n(e,I.children||[])).return=g,e)}function c(g,e,I,t,l){return null===e||7!==e.tag?((e=Nr(I,g.mode,t,l)).return=g,e):((e=n(e,I)).return=g,e)}function A(g,e,I){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Kr(""+e,g.mode,I)).return=g,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case h:return(I=wr(e.type,e.key,e.props,null,g.mode,I)).ref=Tl(g,null,e),I.return=g,I;case y:return(e=xr(e,g.mode,I)).return=g,e;case J:return A(g,(0,e._init)(e._payload),I)}if(eg(e)||w(e))return(e=Nr(e,g.mode,I,null)).return=g,e;Dl(g,e)}return null}function d(g,e,I,t){var n=null!==e?e.key:null;if("string"==typeof I&&""!==I||"number"==typeof I)return null!==n?null:a(g,e,""+I,t);if("object"==typeof I&&null!==I){switch(I.$$typeof){case h:return I.key===n?r(g,e,I,t):null;case y:return I.key===n?i(g,e,I,t):null;case J:return d(g,e,(n=I._init)(I._payload),t)}if(eg(I)||w(I))return null!==n?null:c(g,e,I,t,null);Dl(g,I)}return null}function s(g,e,I,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return a(e,g=g.get(I)||null,""+t,n);if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return r(e,g=g.get(null===t.key?I:t.key)||null,t,n);case y:return i(e,g=g.get(null===t.key?I:t.key)||null,t,n);case J:return s(g,e,I,(0,t._init)(t._payload),n)}if(eg(t)||w(t))return c(e,g=g.get(I)||null,t,n,null);Dl(e,t)}return null}function u(n,l,o,a){for(var r=null,i=null,c=l,u=l=0,m=null;null!==c&&u<o.length;u++){c.index>u?(m=c,c=null):m=c.sibling;var b=d(n,c,o[u],a);if(null===b){null===c&&(c=m);break}g&&c&&null===b.alternate&&e(n,c),l=C(b,l,u),null===i?r=b:i.sibling=b,i=b,c=m}if(u===o.length)return I(n,c),nl&&$n(n,u),r;if(null===c){for(;u<o.length;u++)null!==(c=A(n,o[u],a))&&(l=C(c,l,u),null===i?r=c:i.sibling=c,i=c);return nl&&$n(n,u),r}for(c=t(n,c);u<o.length;u++)null!==(m=s(c,n,u,o[u],a))&&(g&&null!==m.alternate&&c.delete(null===m.key?u:m.key),l=C(m,l,u),null===i?r=m:i.sibling=m,i=m);return g&&c.forEach((function(g){return e(n,g)})),nl&&$n(n,u),r}function m(n,o,a,r){var i=w(a);if("function"!=typeof i)throw Error(l(150));if(null==(a=i.call(a)))throw Error(l(151));for(var c=i=null,u=o,m=o=0,b=null,Z=a.next();null!==u&&!Z.done;m++,Z=a.next()){u.index>m?(b=u,u=null):b=u.sibling;var p=d(n,u,Z.value,r);if(null===p){null===u&&(u=b);break}g&&u&&null===p.alternate&&e(n,u),o=C(p,o,m),null===c?i=p:c.sibling=p,c=p,u=b}if(Z.done)return I(n,u),nl&&$n(n,m),i;if(null===u){for(;!Z.done;m++,Z=a.next())null!==(Z=A(n,Z.value,r))&&(o=C(Z,o,m),null===c?i=Z:c.sibling=Z,c=Z);return nl&&$n(n,m),i}for(u=t(n,u);!Z.done;m++,Z=a.next())null!==(Z=s(u,n,m,Z.value,r))&&(g&&null!==Z.alternate&&u.delete(null===Z.key?m:Z.key),o=C(Z,o,m),null===c?i=Z:c.sibling=Z,c=Z);return g&&u.forEach((function(g){return e(n,g)})),nl&&$n(n,m),i}return function g(t,l,C,a){if("object"==typeof C&&null!==C&&C.type===B&&null===C.key&&(C=C.props.children),"object"==typeof C&&null!==C){switch(C.$$typeof){case h:g:{for(var r=C.key,i=l;null!==i;){if(i.key===r){if((r=C.type)===B){if(7===i.tag){I(t,i.sibling),(l=n(i,C.props.children)).return=t,t=l;break g}}else if(i.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===J&&jl(r)===i.type){I(t,i.sibling),(l=n(i,C.props)).ref=Tl(t,i,C),l.return=t,t=l;break g}I(t,i);break}e(t,i),i=i.sibling}C.type===B?((l=Nr(C.props.children,t.mode,a,C.key)).return=t,t=l):((a=wr(C.type,C.key,C.props,null,t.mode,a)).ref=Tl(t,l,C),a.return=t,t=a)}return o(t);case y:g:{for(i=C.key;null!==l;){if(l.key===i){if(4===l.tag&&l.stateNode.containerInfo===C.containerInfo&&l.stateNode.implementation===C.implementation){I(t,l.sibling),(l=n(l,C.children||[])).return=t,t=l;break g}I(t,l);break}e(t,l),l=l.sibling}(l=xr(C,t.mode,a)).return=t,t=l}return o(t);case J:return g(t,l,(i=C._init)(C._payload),a)}if(eg(C))return u(t,l,C,a);if(w(C))return m(t,l,C,a);Dl(t,C)}return"string"==typeof C&&""!==C||"number"==typeof C?(C=""+C,null!==l&&6===l.tag?(I(t,l.sibling),(l=n(l,C)).return=t,t=l):(I(t,l),(l=Kr(C,t.mode,a)).return=t,t=l),o(t)):I(t,l)}}var Ol=Pl(!0),ql=Pl(!1),$l={},_l=Sn($l),gC=Sn($l),eC=Sn($l);function IC(g){if(g===$l)throw Error(l(174));return g}function tC(g,e){switch(Vn(eC,e),Vn(gC,g),Vn(_l,$l),g=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ag(null,"");break;default:e=ag(e=(g=8===g?e.parentNode:e).namespaceURI||null,g=g.tagName)}Wn(_l),Vn(_l,e)}function nC(){Wn(_l),Wn(gC),Wn(eC)}function lC(g){IC(eC.current);var e=IC(_l.current),I=ag(e,g.type);e!==I&&(Vn(gC,g),Vn(_l,I))}function CC(g){gC.current===g&&(Wn(_l),Wn(gC))}var oC=Sn(0);function aC(g){for(var e=g;null!==e;){if(13===e.tag){var I=e.memoizedState;if(null!==I&&(null===(I=I.dehydrated)||"$?"===I.data||"$!"===I.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===g)break;for(;null===e.sibling;){if(null===e.return||e.return===g)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rC=[];function iC(){for(var g=0;g<rC.length;g++)rC[g]._workInProgressVersionPrimary=null;rC.length=0}var cC=G.ReactCurrentDispatcher,AC=G.ReactCurrentBatchConfig,dC=0,sC=null,uC=null,mC=null,bC=!1,ZC=!1,pC=0,GC=0;function hC(){throw Error(l(321))}function yC(g,e){if(null===e)return!1;for(var I=0;I<e.length&&I<g.length;I++)if(!Ct(g[I],e[I]))return!1;return!0}function BC(g,e,I,t,n,C){if(dC=C,sC=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cC.current=null===g||null===g.memoizedState?Co:oo,g=I(t,n),ZC){C=0;do{if(ZC=!1,pC=0,25<=C)throw Error(l(301));C+=1,mC=uC=null,e.updateQueue=null,cC.current=ao,g=I(t,n)}while(ZC)}if(cC.current=lo,e=null!==uC&&null!==uC.next,dC=0,mC=uC=sC=null,bC=!1,e)throw Error(l(300));return g}function SC(){var g=0!==pC;return pC=0,g}function WC(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mC?sC.memoizedState=mC=g:mC=mC.next=g,mC}function VC(){if(null===uC){var g=sC.alternate;g=null!==g?g.memoizedState:null}else g=uC.next;var e=null===mC?sC.memoizedState:mC.next;if(null!==e)mC=e,uC=g;else{if(null===g)throw Error(l(310));g={memoizedState:(uC=g).memoizedState,baseState:uC.baseState,baseQueue:uC.baseQueue,queue:uC.queue,next:null},null===mC?sC.memoizedState=mC=g:mC=mC.next=g}return mC}function RC(g,e){return"function"==typeof e?e(g):e}function vC(g){var e=VC(),I=e.queue;if(null===I)throw Error(l(311));I.lastRenderedReducer=g;var t=uC,n=t.baseQueue,C=I.pending;if(null!==C){if(null!==n){var o=n.next;n.next=C.next,C.next=o}t.baseQueue=n=C,I.pending=null}if(null!==n){C=n.next,t=t.baseState;var a=o=null,r=null,i=C;do{var c=i.lane;if((dC&c)===c)null!==r&&(r=r.next={lane:0,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null}),t=i.hasEagerState?i.eagerState:g(t,i.action);else{var A={lane:c,action:i.action,hasEagerState:i.hasEagerState,eagerState:i.eagerState,next:null};null===r?(a=r=A,o=t):r=r.next=A,sC.lanes|=c,Fa|=c}i=i.next}while(null!==i&&i!==C);null===r?o=t:r.next=a,Ct(t,e.memoizedState)||(Go=!0),e.memoizedState=t,e.baseState=o,e.baseQueue=r,I.lastRenderedState=t}if(null!==(g=I.interleaved)){n=g;do{C=n.lane,sC.lanes|=C,Fa|=C,n=n.next}while(n!==g)}else null===n&&(I.lanes=0);return[e.memoizedState,I.dispatch]}function fC(g){var e=VC(),I=e.queue;if(null===I)throw Error(l(311));I.lastRenderedReducer=g;var t=I.dispatch,n=I.pending,C=e.memoizedState;if(null!==n){I.pending=null;var o=n=n.next;do{C=g(C,o.action),o=o.next}while(o!==n);Ct(C,e.memoizedState)||(Go=!0),e.memoizedState=C,null===e.baseQueue&&(e.baseState=C),I.lastRenderedState=C}return[C,t]}function XC(){}function kC(g,e){var I=sC,t=VC(),n=e(),C=!Ct(t.memoizedState,n);if(C&&(t.memoizedState=n,Go=!0),t=t.queue,LC(HC.bind(null,I,t,g),[g]),t.getSnapshot!==e||C||null!==mC&&1&mC.memoizedState.tag){if(I.flags|=2048,KC(9,YC.bind(null,I,t,n,e),void 0,null),null===Xa)throw Error(l(349));0!=(30&dC)||JC(I,e,n)}return n}function JC(g,e,I){g.flags|=16384,g={getSnapshot:e,value:I},null===(e=sC.updateQueue)?(e={lastEffect:null,stores:null},sC.updateQueue=e,e.stores=[g]):null===(I=e.stores)?e.stores=[g]:I.push(g)}function YC(g,e,I,t){e.value=I,e.getSnapshot=t,wC(e)&&NC(g)}function HC(g,e,I){return I((function(){wC(e)&&NC(g)}))}function wC(g){var e=g.getSnapshot;g=g.value;try{var I=e();return!Ct(g,I)}catch(g){return!0}}function NC(g){var e=fl(g,1);null!==e&&tr(e,g,1,-1)}function FC(g){var e=WC();return"function"==typeof g&&(g=g()),e.memoizedState=e.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:RC,lastRenderedState:g},e.queue=g,g=g.dispatch=eo.bind(null,sC,g),[e.memoizedState,g]}function KC(g,e,I,t){return g={tag:g,create:e,destroy:I,deps:t,next:null},null===(e=sC.updateQueue)?(e={lastEffect:null,stores:null},sC.updateQueue=e,e.lastEffect=g.next=g):null===(I=e.lastEffect)?e.lastEffect=g.next=g:(t=I.next,I.next=g,g.next=t,e.lastEffect=g),g}function xC(){return VC().memoizedState}function zC(g,e,I,t){var n=WC();sC.flags|=g,n.memoizedState=KC(1|e,I,void 0,void 0===t?null:t)}function MC(g,e,I,t){var n=VC();t=void 0===t?null:t;var l=void 0;if(null!==uC){var C=uC.memoizedState;if(l=C.destroy,null!==t&&yC(t,C.deps))return void(n.memoizedState=KC(e,I,l,t))}sC.flags|=g,n.memoizedState=KC(1|e,I,l,t)}function EC(g,e){return zC(8390656,8,g,e)}function LC(g,e){return MC(2048,8,g,e)}function UC(g,e){return MC(4,2,g,e)}function QC(g,e){return MC(4,4,g,e)}function TC(g,e){return"function"==typeof e?(g=g(),e(g),function(){e(null)}):null!=e?(g=g(),e.current=g,function(){e.current=null}):void 0}function DC(g,e,I){return I=null!=I?I.concat([g]):null,MC(4,4,TC.bind(null,e,g),I)}function jC(){}function PC(g,e){var I=VC();e=void 0===e?null:e;var t=I.memoizedState;return null!==t&&null!==e&&yC(e,t[1])?t[0]:(I.memoizedState=[g,e],g)}function OC(g,e){var I=VC();e=void 0===e?null:e;var t=I.memoizedState;return null!==t&&null!==e&&yC(e,t[1])?t[0]:(g=g(),I.memoizedState=[g,e],g)}function qC(g,e,I){return 0==(21&dC)?(g.baseState&&(g.baseState=!1,Go=!0),g.memoizedState=I):(Ct(I,e)||(I=ue(),sC.lanes|=I,Fa|=I,g.baseState=!0),e)}function $C(g,e){var I=pe;pe=0!==I&&4>I?I:4,g(!0);var t=AC.transition;AC.transition={};try{g(!1),e()}finally{pe=I,AC.transition=t}}function _C(){return VC().memoizedState}function go(g,e,I){var t=Ir(g);I={lane:t,action:I,hasEagerState:!1,eagerState:null,next:null},Io(g)?to(e,I):null!==(I=vl(g,e,I,t))&&(tr(I,g,t,er()),no(I,e,t))}function eo(g,e,I){var t=Ir(g),n={lane:t,action:I,hasEagerState:!1,eagerState:null,next:null};if(Io(g))to(e,n);else{var l=g.alternate;if(0===g.lanes&&(null===l||0===l.lanes)&&null!==(l=e.lastRenderedReducer))try{var C=e.lastRenderedState,o=l(C,I);if(n.hasEagerState=!0,n.eagerState=o,Ct(o,C)){var a=e.interleaved;return null===a?(n.next=n,Rl(e)):(n.next=a.next,a.next=n),void(e.interleaved=n)}}catch(g){}null!==(I=vl(g,e,n,t))&&(tr(I,g,t,n=er()),no(I,e,t))}}function Io(g){var e=g.alternate;return g===sC||null!==e&&e===sC}function to(g,e){ZC=bC=!0;var I=g.pending;null===I?e.next=e:(e.next=I.next,I.next=e),g.pending=e}function no(g,e,I){if(0!=(4194240&I)){var t=e.lanes;I|=t&=g.pendingLanes,e.lanes=I,Ze(g,I)}}var lo={readContext:Wl,useCallback:hC,useContext:hC,useEffect:hC,useImperativeHandle:hC,useInsertionEffect:hC,useLayoutEffect:hC,useMemo:hC,useReducer:hC,useRef:hC,useState:hC,useDebugValue:hC,useDeferredValue:hC,useTransition:hC,useMutableSource:hC,useSyncExternalStore:hC,useId:hC,unstable_isNewReconciler:!1},Co={readContext:Wl,useCallback:function(g,e){return WC().memoizedState=[g,void 0===e?null:e],g},useContext:Wl,useEffect:EC,useImperativeHandle:function(g,e,I){return I=null!=I?I.concat([g]):null,zC(4194308,4,TC.bind(null,e,g),I)},useLayoutEffect:function(g,e){return zC(4194308,4,g,e)},useInsertionEffect:function(g,e){return zC(4,2,g,e)},useMemo:function(g,e){var I=WC();return e=void 0===e?null:e,g=g(),I.memoizedState=[g,e],g},useReducer:function(g,e,I){var t=WC();return e=void 0!==I?I(e):e,t.memoizedState=t.baseState=e,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:e},t.queue=g,g=g.dispatch=go.bind(null,sC,g),[t.memoizedState,g]},useRef:function(g){return g={current:g},WC().memoizedState=g},useState:FC,useDebugValue:jC,useDeferredValue:function(g){return WC().memoizedState=g},useTransition:function(){var g=FC(!1),e=g[0];return g=$C.bind(null,g[1]),WC().memoizedState=g,[e,g]},useMutableSource:function(){},useSyncExternalStore:function(g,e,I){var t=sC,n=WC();if(nl){if(void 0===I)throw Error(l(407));I=I()}else{if(I=e(),null===Xa)throw Error(l(349));0!=(30&dC)||JC(t,e,I)}n.memoizedState=I;var C={value:I,getSnapshot:e};return n.queue=C,EC(HC.bind(null,t,C,g),[g]),t.flags|=2048,KC(9,YC.bind(null,t,C,I,e),void 0,null),I},useId:function(){var g=WC(),e=Xa.identifierPrefix;if(nl){var I=qn;e=":"+e+"R"+(I=(On&~(1<<32-Ce(On)-1)).toString(32)+I),0<(I=pC++)&&(e+="H"+I.toString(32)),e+=":"}else e=":"+e+"r"+(I=GC++).toString(32)+":";return g.memoizedState=e},unstable_isNewReconciler:!1},oo={readContext:Wl,useCallback:PC,useContext:Wl,useEffect:LC,useImperativeHandle:DC,useInsertionEffect:UC,useLayoutEffect:QC,useMemo:OC,useReducer:vC,useRef:xC,useState:function(){return vC(RC)},useDebugValue:jC,useDeferredValue:function(g){return qC(VC(),uC.memoizedState,g)},useTransition:function(){return[vC(RC)[0],VC().memoizedState]},useMutableSource:XC,useSyncExternalStore:kC,useId:_C,unstable_isNewReconciler:!1},ao={readContext:Wl,useCallback:PC,useContext:Wl,useEffect:LC,useImperativeHandle:DC,useInsertionEffect:UC,useLayoutEffect:QC,useMemo:OC,useReducer:fC,useRef:xC,useState:function(){return fC(RC)},useDebugValue:jC,useDeferredValue:function(g){var e=VC();return null===uC?e.memoizedState=g:qC(e,uC.memoizedState,g)},useTransition:function(){return[fC(RC)[0],VC().memoizedState]},useMutableSource:XC,useSyncExternalStore:kC,useId:_C,unstable_isNewReconciler:!1};function ro(g,e){try{var I="",t=e;do{I+=M(t),t=t.return}while(t);var n=I}catch(g){n="\nError generating stack: "+g.message+"\n"+g.stack}return{value:g,source:e,stack:n,digest:null}}function io(g,e,I){return{value:g,source:null,stack:null!=I?I:null,digest:null!=e?e:null}}function co(g,e){try{console.error(e.value)}catch(g){setTimeout((function(){throw g}))}}var Ao="function"==typeof WeakMap?WeakMap:Map;function so(g,e,I){(I=Yl(-1,I)).tag=3,I.payload={element:null};var t=e.value;return I.callback=function(){Qa||(Qa=!0,Ta=t),co(0,e)},I}function uo(g,e,I){(I=Yl(-1,I)).tag=3;var t=g.type.getDerivedStateFromError;if("function"==typeof t){var n=e.value;I.payload=function(){return t(n)},I.callback=function(){co(0,e)}}var l=g.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(I.callback=function(){co(0,e),"function"!=typeof t&&(null===Da?Da=new Set([this]):Da.add(this));var g=e.stack;this.componentDidCatch(e.value,{componentStack:null!==g?g:""})}),I}function mo(g,e,I){var t=g.pingCache;if(null===t){t=g.pingCache=new Ao;var n=new Set;t.set(e,n)}else void 0===(n=t.get(e))&&(n=new Set,t.set(e,n));n.has(I)||(n.add(I),g=Vr.bind(null,g,e,I),e.then(g,g))}function bo(g){do{var e;if((e=13===g.tag)&&(e=null===(e=g.memoizedState)||null!==e.dehydrated),e)return g;g=g.return}while(null!==g);return null}function Zo(g,e,I,t,n){return 0==(1&g.mode)?(g===e?g.flags|=65536:(g.flags|=128,I.flags|=131072,I.flags&=-52805,1===I.tag&&(null===I.alternate?I.tag=17:((e=Yl(-1,1)).tag=2,Hl(I,e,1))),I.lanes|=1),g):(g.flags|=65536,g.lanes=n,g)}var po=G.ReactCurrentOwner,Go=!1;function ho(g,e,I,t){e.child=null===g?ql(e,null,I,t):Ol(e,g.child,I,t)}function yo(g,e,I,t,n){I=I.render;var l=e.ref;return Sl(e,n),t=BC(g,e,I,t,l,n),I=SC(),null===g||Go?(nl&&I&&gl(e),e.flags|=1,ho(g,e,t,n),e.child):(e.updateQueue=g.updateQueue,e.flags&=-2053,g.lanes&=~n,Qo(g,e,n))}function Bo(g,e,I,t,n){if(null===g){var l=I.type;return"function"!=typeof l||Yr(l)||void 0!==l.defaultProps||null!==I.compare||void 0!==I.defaultProps?((g=wr(I.type,null,t,e,e.mode,n)).ref=e.ref,g.return=e,e.child=g):(e.tag=15,e.type=l,So(g,e,l,t,n))}if(l=g.child,0==(g.lanes&n)){var C=l.memoizedProps;if((I=null!==(I=I.compare)?I:ot)(C,t)&&g.ref===e.ref)return Qo(g,e,n)}return e.flags|=1,(g=Hr(l,t)).ref=e.ref,g.return=e,e.child=g}function So(g,e,I,t,n){if(null!==g){var l=g.memoizedProps;if(ot(l,t)&&g.ref===e.ref){if(Go=!1,e.pendingProps=t=l,0==(g.lanes&n))return e.lanes=g.lanes,Qo(g,e,n);0!=(131072&g.flags)&&(Go=!0)}}return Ro(g,e,I,t,n)}function Wo(g,e,I){var t=e.pendingProps,n=t.children,l=null!==g?g.memoizedState:null;if("hidden"===t.mode)if(0==(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(Ha,Ya),Ya|=I;else{if(0==(1073741824&I))return g=null!==l?l.baseLanes|I:I,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:g,cachePool:null,transitions:null},e.updateQueue=null,Vn(Ha,Ya),Ya|=g,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=null!==l?l.baseLanes:I,Vn(Ha,Ya),Ya|=t}else null!==l?(t=l.baseLanes|I,e.memoizedState=null):t=I,Vn(Ha,Ya),Ya|=t;return ho(g,e,n,I),e.child}function Vo(g,e){var I=e.ref;(null===g&&null!==I||null!==g&&g.ref!==I)&&(e.flags|=512,e.flags|=2097152)}function Ro(g,e,I,t,n){var l=Jn(I)?Xn:vn.current;return l=kn(e,l),Sl(e,n),I=BC(g,e,I,t,l,n),t=SC(),null===g||Go?(nl&&t&&gl(e),e.flags|=1,ho(g,e,I,n),e.child):(e.updateQueue=g.updateQueue,e.flags&=-2053,g.lanes&=~n,Qo(g,e,n))}function vo(g,e,I,t,n){if(Jn(I)){var l=!0;Nn(e)}else l=!1;if(Sl(e,n),null===e.stateNode)Uo(g,e),Ll(e,I,t),Ql(e,I,t,n),t=!0;else if(null===g){var C=e.stateNode,o=e.memoizedProps;C.props=o;var a=C.context,r=I.contextType;r="object"==typeof r&&null!==r?Wl(r):kn(e,r=Jn(I)?Xn:vn.current);var i=I.getDerivedStateFromProps,c="function"==typeof i||"function"==typeof C.getSnapshotBeforeUpdate;c||"function"!=typeof C.UNSAFE_componentWillReceiveProps&&"function"!=typeof C.componentWillReceiveProps||(o!==t||a!==r)&&Ul(e,C,t,r),Xl=!1;var A=e.memoizedState;C.state=A,Fl(e,t,C,n),a=e.memoizedState,o!==t||A!==a||fn.current||Xl?("function"==typeof i&&(zl(e,I,i,t),a=e.memoizedState),(o=Xl||El(e,I,o,t,A,a,r))?(c||"function"!=typeof C.UNSAFE_componentWillMount&&"function"!=typeof C.componentWillMount||("function"==typeof C.componentWillMount&&C.componentWillMount(),"function"==typeof C.UNSAFE_componentWillMount&&C.UNSAFE_componentWillMount()),"function"==typeof C.componentDidMount&&(e.flags|=4194308)):("function"==typeof C.componentDidMount&&(e.flags|=4194308),e.memoizedProps=t,e.memoizedState=a),C.props=t,C.state=a,C.context=r,t=o):("function"==typeof C.componentDidMount&&(e.flags|=4194308),t=!1)}else{C=e.stateNode,Jl(g,e),o=e.memoizedProps,r=e.type===e.elementType?o:ml(e.type,o),C.props=r,c=e.pendingProps,A=C.context,a="object"==typeof(a=I.contextType)&&null!==a?Wl(a):kn(e,a=Jn(I)?Xn:vn.current);var d=I.getDerivedStateFromProps;(i="function"==typeof d||"function"==typeof C.getSnapshotBeforeUpdate)||"function"!=typeof C.UNSAFE_componentWillReceiveProps&&"function"!=typeof C.componentWillReceiveProps||(o!==c||A!==a)&&Ul(e,C,t,a),Xl=!1,A=e.memoizedState,C.state=A,Fl(e,t,C,n);var s=e.memoizedState;o!==c||A!==s||fn.current||Xl?("function"==typeof d&&(zl(e,I,d,t),s=e.memoizedState),(r=Xl||El(e,I,r,t,A,s,a)||!1)?(i||"function"!=typeof C.UNSAFE_componentWillUpdate&&"function"!=typeof C.componentWillUpdate||("function"==typeof C.componentWillUpdate&&C.componentWillUpdate(t,s,a),"function"==typeof C.UNSAFE_componentWillUpdate&&C.UNSAFE_componentWillUpdate(t,s,a)),"function"==typeof C.componentDidUpdate&&(e.flags|=4),"function"==typeof C.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof C.componentDidUpdate||o===g.memoizedProps&&A===g.memoizedState||(e.flags|=4),"function"!=typeof C.getSnapshotBeforeUpdate||o===g.memoizedProps&&A===g.memoizedState||(e.flags|=1024),e.memoizedProps=t,e.memoizedState=s),C.props=t,C.state=s,C.context=a,t=r):("function"!=typeof C.componentDidUpdate||o===g.memoizedProps&&A===g.memoizedState||(e.flags|=4),"function"!=typeof C.getSnapshotBeforeUpdate||o===g.memoizedProps&&A===g.memoizedState||(e.flags|=1024),t=!1)}return fo(g,e,I,t,l,n)}function fo(g,e,I,t,n,l){Vo(g,e);var C=0!=(128&e.flags);if(!t&&!C)return n&&Fn(e,I,!1),Qo(g,e,l);t=e.stateNode,po.current=e;var o=C&&"function"!=typeof I.getDerivedStateFromError?null:t.render();return e.flags|=1,null!==g&&C?(e.child=Ol(e,g.child,null,l),e.child=Ol(e,null,o,l)):ho(g,e,o,l),e.memoizedState=t.state,n&&Fn(e,I,!0),e.child}function Xo(g){var e=g.stateNode;e.pendingContext?Hn(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Hn(0,e.context,!1),tC(g,e.containerInfo)}function ko(g,e,I,t,n){return dl(),sl(n),e.flags|=256,ho(g,e,I,t),e.child}var Jo,Yo,Ho,wo,No={dehydrated:null,treeContext:null,retryLane:0};function Fo(g){return{baseLanes:g,cachePool:null,transitions:null}}function Ko(g,e,I){var t,n=e.pendingProps,C=oC.current,o=!1,a=0!=(128&e.flags);if((t=a)||(t=(null===g||null!==g.memoizedState)&&0!=(2&C)),t?(o=!0,e.flags&=-129):null!==g&&null===g.memoizedState||(C|=1),Vn(oC,1&C),null===g)return rl(e),null!==(g=e.memoizedState)&&null!==(g=g.dehydrated)?(0==(1&e.mode)?e.lanes=1:"$!"===g.data?e.lanes=8:e.lanes=1073741824,null):(a=n.children,g=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},0==(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=a):o=Fr(a,n,0,null),g=Nr(g,n,I,null),o.return=e,g.return=e,o.sibling=g,e.child=o,e.child.memoizedState=Fo(I),e.memoizedState=No,g):xo(e,a));if(null!==(C=g.memoizedState)&&null!==(t=C.dehydrated))return function(g,e,I,t,n,C,o){if(I)return 256&e.flags?(e.flags&=-257,zo(g,e,o,t=io(Error(l(422))))):null!==e.memoizedState?(e.child=g.child,e.flags|=128,null):(C=t.fallback,n=e.mode,t=Fr({mode:"visible",children:t.children},n,0,null),(C=Nr(C,n,o,null)).flags|=2,t.return=e,C.return=e,t.sibling=C,e.child=t,0!=(1&e.mode)&&Ol(e,g.child,null,o),e.child.memoizedState=Fo(o),e.memoizedState=No,C);if(0==(1&e.mode))return zo(g,e,o,null);if("$!"===n.data){if(t=n.nextSibling&&n.nextSibling.dataset)var a=t.dgst;return t=a,zo(g,e,o,t=io(C=Error(l(419)),t,void 0))}if(a=0!=(o&g.childLanes),Go||a){if(null!==(t=Xa)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!=(n&(t.suspendedLanes|o))?0:n)&&n!==C.retryLane&&(C.retryLane=n,fl(g,n),tr(t,g,n,-1))}return mr(),zo(g,e,o,t=io(Error(l(421))))}return"$?"===n.data?(e.flags|=128,e.child=g.child,e=vr.bind(null,g),n._reactRetry=e,null):(g=C.treeContext,tl=an(n.nextSibling),Il=e,nl=!0,ll=null,null!==g&&(Dn[jn++]=On,Dn[jn++]=qn,Dn[jn++]=Pn,On=g.id,qn=g.overflow,Pn=e),(e=xo(e,t.children)).flags|=4096,e)}(g,e,a,n,t,C,I);if(o){o=n.fallback,a=e.mode,t=(C=g.child).sibling;var r={mode:"hidden",children:n.children};return 0==(1&a)&&e.child!==C?((n=e.child).childLanes=0,n.pendingProps=r,e.deletions=null):(n=Hr(C,r)).subtreeFlags=14680064&C.subtreeFlags,null!==t?o=Hr(t,o):(o=Nr(o,a,I,null)).flags|=2,o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=null===(a=g.child.memoizedState)?Fo(I):{baseLanes:a.baseLanes|I,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=g.childLanes&~I,e.memoizedState=No,n}return g=(o=g.child).sibling,n=Hr(o,{mode:"visible",children:n.children}),0==(1&e.mode)&&(n.lanes=I),n.return=e,n.sibling=null,null!==g&&(null===(I=e.deletions)?(e.deletions=[g],e.flags|=16):I.push(g)),e.child=n,e.memoizedState=null,n}function xo(g,e){return(e=Fr({mode:"visible",children:e},g.mode,0,null)).return=g,g.child=e}function zo(g,e,I,t){return null!==t&&sl(t),Ol(e,g.child,null,I),(g=xo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,g}function Mo(g,e,I){g.lanes|=e;var t=g.alternate;null!==t&&(t.lanes|=e),Bl(g.return,e,I)}function Eo(g,e,I,t,n){var l=g.memoizedState;null===l?g.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:t,tail:I,tailMode:n}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=t,l.tail=I,l.tailMode=n)}function Lo(g,e,I){var t=e.pendingProps,n=t.revealOrder,l=t.tail;if(ho(g,e,t.children,I),0!=(2&(t=oC.current)))t=1&t|2,e.flags|=128;else{if(null!==g&&0!=(128&g.flags))g:for(g=e.child;null!==g;){if(13===g.tag)null!==g.memoizedState&&Mo(g,I,e);else if(19===g.tag)Mo(g,I,e);else if(null!==g.child){g.child.return=g,g=g.child;continue}if(g===e)break g;for(;null===g.sibling;){if(null===g.return||g.return===e)break g;g=g.return}g.sibling.return=g.return,g=g.sibling}t&=1}if(Vn(oC,t),0==(1&e.mode))e.memoizedState=null;else switch(n){case"forwards":for(I=e.child,n=null;null!==I;)null!==(g=I.alternate)&&null===aC(g)&&(n=I),I=I.sibling;null===(I=n)?(n=e.child,e.child=null):(n=I.sibling,I.sibling=null),Eo(e,!1,n,I,l);break;case"backwards":for(I=null,n=e.child,e.child=null;null!==n;){if(null!==(g=n.alternate)&&null===aC(g)){e.child=n;break}g=n.sibling,n.sibling=I,I=n,n=g}Eo(e,!0,I,null,l);break;case"together":Eo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uo(g,e){0==(1&e.mode)&&null!==g&&(g.alternate=null,e.alternate=null,e.flags|=2)}function Qo(g,e,I){if(null!==g&&(e.dependencies=g.dependencies),Fa|=e.lanes,0==(I&e.childLanes))return null;if(null!==g&&e.child!==g.child)throw Error(l(153));if(null!==e.child){for(I=Hr(g=e.child,g.pendingProps),e.child=I,I.return=e;null!==g.sibling;)g=g.sibling,(I=I.sibling=Hr(g,g.pendingProps)).return=e;I.sibling=null}return e.child}function To(g,e){if(!nl)switch(g.tailMode){case"hidden":e=g.tail;for(var I=null;null!==e;)null!==e.alternate&&(I=e),e=e.sibling;null===I?g.tail=null:I.sibling=null;break;case"collapsed":I=g.tail;for(var t=null;null!==I;)null!==I.alternate&&(t=I),I=I.sibling;null===t?e||null===g.tail?g.tail=null:g.tail.sibling=null:t.sibling=null}}function Do(g){var e=null!==g.alternate&&g.alternate.child===g.child,I=0,t=0;if(e)for(var n=g.child;null!==n;)I|=n.lanes|n.childLanes,t|=14680064&n.subtreeFlags,t|=14680064&n.flags,n.return=g,n=n.sibling;else for(n=g.child;null!==n;)I|=n.lanes|n.childLanes,t|=n.subtreeFlags,t|=n.flags,n.return=g,n=n.sibling;return g.subtreeFlags|=t,g.childLanes=I,e}function jo(g,e,I){var t=e.pendingProps;switch(el(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Do(e),null;case 1:case 17:return Jn(e.type)&&Yn(),Do(e),null;case 3:return t=e.stateNode,nC(),Wn(fn),Wn(vn),iC(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==g&&null!==g.child||(cl(e)?e.flags|=4:null===g||g.memoizedState.isDehydrated&&0==(256&e.flags)||(e.flags|=1024,null!==ll&&(or(ll),ll=null))),Yo(g,e),Do(e),null;case 5:CC(e);var n=IC(eC.current);if(I=e.type,null!==g&&null!=e.stateNode)Ho(g,e,I,t,n),g.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!t){if(null===e.stateNode)throw Error(l(166));return Do(e),null}if(g=IC(_l.current),cl(e)){t=e.stateNode,I=e.type;var C=e.memoizedProps;switch(t[An]=e,t[dn]=C,g=0!=(1&e.mode),I){case"dialog":Kt("cancel",t),Kt("close",t);break;case"iframe":case"object":case"embed":Kt("load",t);break;case"video":case"audio":for(n=0;n<Ht.length;n++)Kt(Ht[n],t);break;case"source":Kt("error",t);break;case"img":case"image":case"link":Kt("error",t),Kt("load",t);break;case"details":Kt("toggle",t);break;case"input":O(t,C),Kt("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!C.multiple},Kt("invalid",t);break;case"textarea":ng(t,C),Kt("invalid",t)}for(var a in Zg(I,C),n=null,C)if(C.hasOwnProperty(a)){var r=C[a];"children"===a?"string"==typeof r?t.textContent!==r&&(!0!==C.suppressHydrationWarning&&qt(t.textContent,r,g),n=["children",r]):"number"==typeof r&&t.textContent!==""+r&&(!0!==C.suppressHydrationWarning&&qt(t.textContent,r,g),n=["children",""+r]):o.hasOwnProperty(a)&&null!=r&&"onScroll"===a&&Kt("scroll",t)}switch(I){case"input":T(t),_(t,C,!0);break;case"textarea":T(t),Cg(t);break;case"select":case"option":break;default:"function"==typeof C.onClick&&(t.onclick=$t)}t=n,e.updateQueue=t,null!==t&&(e.flags|=4)}else{a=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===g&&(g=og(I)),"http://www.w3.org/1999/xhtml"===g?"script"===I?((g=a.createElement("div")).innerHTML="<script><\/script>",g=g.removeChild(g.firstChild)):"string"==typeof t.is?g=a.createElement(I,{is:t.is}):(g=a.createElement(I),"select"===I&&(a=g,t.multiple?a.multiple=!0:t.size&&(a.size=t.size))):g=a.createElementNS(g,I),g[An]=e,g[dn]=t,Jo(g,e,!1,!1),e.stateNode=g;g:{switch(a=pg(I,t),I){case"dialog":Kt("cancel",g),Kt("close",g),n=t;break;case"iframe":case"object":case"embed":Kt("load",g),n=t;break;case"video":case"audio":for(n=0;n<Ht.length;n++)Kt(Ht[n],g);n=t;break;case"source":Kt("error",g),n=t;break;case"img":case"image":case"link":Kt("error",g),Kt("load",g),n=t;break;case"details":Kt("toggle",g),n=t;break;case"input":O(g,t),n=P(g,t),Kt("invalid",g);break;case"option":default:n=t;break;case"select":g._wrapperState={wasMultiple:!!t.multiple},n=F({},t,{value:void 0}),Kt("invalid",g);break;case"textarea":ng(g,t),n=tg(g,t),Kt("invalid",g)}for(C in Zg(I,n),r=n)if(r.hasOwnProperty(C)){var i=r[C];"style"===C?mg(g,i):"dangerouslySetInnerHTML"===C?null!=(i=i?i.__html:void 0)&&cg(g,i):"children"===C?"string"==typeof i?("textarea"!==I||""!==i)&&Ag(g,i):"number"==typeof i&&Ag(g,""+i):"suppressContentEditableWarning"!==C&&"suppressHydrationWarning"!==C&&"autoFocus"!==C&&(o.hasOwnProperty(C)?null!=i&&"onScroll"===C&&Kt("scroll",g):null!=i&&p(g,C,i,a))}switch(I){case"input":T(g),_(g,t,!1);break;case"textarea":T(g),Cg(g);break;case"option":null!=t.value&&g.setAttribute("value",""+U(t.value));break;case"select":g.multiple=!!t.multiple,null!=(C=t.value)?Ig(g,!!t.multiple,C,!1):null!=t.defaultValue&&Ig(g,!!t.multiple,t.defaultValue,!0);break;default:"function"==typeof n.onClick&&(g.onclick=$t)}switch(I){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break g;case"img":t=!0;break g;default:t=!1}}t&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Do(e),null;case 6:if(g&&null!=e.stateNode)wo(g,e,g.memoizedProps,t);else{if("string"!=typeof t&&null===e.stateNode)throw Error(l(166));if(I=IC(eC.current),IC(_l.current),cl(e)){if(t=e.stateNode,I=e.memoizedProps,t[An]=e,(C=t.nodeValue!==I)&&null!==(g=Il))switch(g.tag){case 3:qt(t.nodeValue,I,0!=(1&g.mode));break;case 5:!0!==g.memoizedProps.suppressHydrationWarning&&qt(t.nodeValue,I,0!=(1&g.mode))}C&&(e.flags|=4)}else(t=(9===I.nodeType?I:I.ownerDocument).createTextNode(t))[An]=e,e.stateNode=t}return Do(e),null;case 13:if(Wn(oC),t=e.memoizedState,null===g||null!==g.memoizedState&&null!==g.memoizedState.dehydrated){if(nl&&null!==tl&&0!=(1&e.mode)&&0==(128&e.flags))Al(),dl(),e.flags|=98560,C=!1;else if(C=cl(e),null!==t&&null!==t.dehydrated){if(null===g){if(!C)throw Error(l(318));if(!(C=null!==(C=e.memoizedState)?C.dehydrated:null))throw Error(l(317));C[An]=e}else dl(),0==(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Do(e),C=!1}else null!==ll&&(or(ll),ll=null),C=!0;if(!C)return 65536&e.flags?e:null}return 0!=(128&e.flags)?(e.lanes=I,e):((t=null!==t)!=(null!==g&&null!==g.memoizedState)&&t&&(e.child.flags|=8192,0!=(1&e.mode)&&(null===g||0!=(1&oC.current)?0===wa&&(wa=3):mr())),null!==e.updateQueue&&(e.flags|=4),Do(e),null);case 4:return nC(),Yo(g,e),null===g&&Mt(e.stateNode.containerInfo),Do(e),null;case 10:return yl(e.type._context),Do(e),null;case 19:if(Wn(oC),null===(C=e.memoizedState))return Do(e),null;if(t=0!=(128&e.flags),null===(a=C.rendering))if(t)To(C,!1);else{if(0!==wa||null!==g&&0!=(128&g.flags))for(g=e.child;null!==g;){if(null!==(a=aC(g))){for(e.flags|=128,To(C,!1),null!==(t=a.updateQueue)&&(e.updateQueue=t,e.flags|=4),e.subtreeFlags=0,t=I,I=e.child;null!==I;)g=t,(C=I).flags&=14680066,null===(a=C.alternate)?(C.childLanes=0,C.lanes=g,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=a.childLanes,C.lanes=a.lanes,C.child=a.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=a.memoizedProps,C.memoizedState=a.memoizedState,C.updateQueue=a.updateQueue,C.type=a.type,g=a.dependencies,C.dependencies=null===g?null:{lanes:g.lanes,firstContext:g.firstContext}),I=I.sibling;return Vn(oC,1&oC.current|2),e.child}g=g.sibling}null!==C.tail&&qg()>La&&(e.flags|=128,t=!0,To(C,!1),e.lanes=4194304)}else{if(!t)if(null!==(g=aC(a))){if(e.flags|=128,t=!0,null!==(I=g.updateQueue)&&(e.updateQueue=I,e.flags|=4),To(C,!0),null===C.tail&&"hidden"===C.tailMode&&!a.alternate&&!nl)return Do(e),null}else 2*qg()-C.renderingStartTime>La&&1073741824!==I&&(e.flags|=128,t=!0,To(C,!1),e.lanes=4194304);C.isBackwards?(a.sibling=e.child,e.child=a):(null!==(I=C.last)?I.sibling=a:e.child=a,C.last=a)}return null!==C.tail?(e=C.tail,C.rendering=e,C.tail=e.sibling,C.renderingStartTime=qg(),e.sibling=null,I=oC.current,Vn(oC,t?1&I|2:1&I),e):(Do(e),null);case 22:case 23:return Ar(),t=null!==e.memoizedState,null!==g&&null!==g.memoizedState!==t&&(e.flags|=8192),t&&0!=(1&e.mode)?0!=(1073741824&Ya)&&(Do(e),6&e.subtreeFlags&&(e.flags|=8192)):Do(e),null;case 24:case 25:return null}throw Error(l(156,e.tag))}function Po(g,e){switch(el(e),e.tag){case 1:return Jn(e.type)&&Yn(),65536&(g=e.flags)?(e.flags=-65537&g|128,e):null;case 3:return nC(),Wn(fn),Wn(vn),iC(),0!=(65536&(g=e.flags))&&0==(128&g)?(e.flags=-65537&g|128,e):null;case 5:return CC(e),null;case 13:if(Wn(oC),null!==(g=e.memoizedState)&&null!==g.dehydrated){if(null===e.alternate)throw Error(l(340));dl()}return 65536&(g=e.flags)?(e.flags=-65537&g|128,e):null;case 19:return Wn(oC),null;case 4:return nC(),null;case 10:return yl(e.type._context),null;case 22:case 23:return Ar(),null;default:return null}}Jo=function(g,e){for(var I=e.child;null!==I;){if(5===I.tag||6===I.tag)g.appendChild(I.stateNode);else if(4!==I.tag&&null!==I.child){I.child.return=I,I=I.child;continue}if(I===e)break;for(;null===I.sibling;){if(null===I.return||I.return===e)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},Yo=function(){},Ho=function(g,e,I,t){var n=g.memoizedProps;if(n!==t){g=e.stateNode,IC(_l.current);var l,C=null;switch(I){case"input":n=P(g,n),t=P(g,t),C=[];break;case"select":n=F({},n,{value:void 0}),t=F({},t,{value:void 0}),C=[];break;case"textarea":n=tg(g,n),t=tg(g,t),C=[];break;default:"function"!=typeof n.onClick&&"function"==typeof t.onClick&&(g.onclick=$t)}for(i in Zg(I,t),I=null,n)if(!t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&null!=n[i])if("style"===i){var a=n[i];for(l in a)a.hasOwnProperty(l)&&(I||(I={}),I[l]="")}else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?C||(C=[]):(C=C||[]).push(i,null));for(i in t){var r=t[i];if(a=null!=n?n[i]:void 0,t.hasOwnProperty(i)&&r!==a&&(null!=r||null!=a))if("style"===i)if(a){for(l in a)!a.hasOwnProperty(l)||r&&r.hasOwnProperty(l)||(I||(I={}),I[l]="");for(l in r)r.hasOwnProperty(l)&&a[l]!==r[l]&&(I||(I={}),I[l]=r[l])}else I||(C||(C=[]),C.push(i,I)),I=r;else"dangerouslySetInnerHTML"===i?(r=r?r.__html:void 0,a=a?a.__html:void 0,null!=r&&a!==r&&(C=C||[]).push(i,r)):"children"===i?"string"!=typeof r&&"number"!=typeof r||(C=C||[]).push(i,""+r):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(o.hasOwnProperty(i)?(null!=r&&"onScroll"===i&&Kt("scroll",g),C||a===r||(C=[])):(C=C||[]).push(i,r))}I&&(C=C||[]).push("style",I);var i=C;(e.updateQueue=i)&&(e.flags|=4)}},wo=function(g,e,I,t){I!==t&&(e.flags|=4)};var Oo=!1,qo=!1,$o="function"==typeof WeakSet?WeakSet:Set,_o=null;function ga(g,e){var I=g.ref;if(null!==I)if("function"==typeof I)try{I(null)}catch(I){Wr(g,e,I)}else I.current=null}function ea(g,e,I){try{I()}catch(I){Wr(g,e,I)}}var Ia=!1;function ta(g,e,I){var t=e.updateQueue;if(null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&g)===g){var l=n.destroy;n.destroy=void 0,void 0!==l&&ea(e,I,l)}n=n.next}while(n!==t)}}function na(g,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var I=e=e.next;do{if((I.tag&g)===g){var t=I.create;I.destroy=t()}I=I.next}while(I!==e)}}function la(g){var e=g.ref;if(null!==e){var I=g.stateNode;g.tag,g=I,"function"==typeof e?e(g):e.current=g}}function Ca(g){var e=g.alternate;null!==e&&(g.alternate=null,Ca(e)),g.child=null,g.deletions=null,g.sibling=null,5===g.tag&&null!==(e=g.stateNode)&&(delete e[An],delete e[dn],delete e[un],delete e[mn],delete e[bn]),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function oa(g){return 5===g.tag||3===g.tag||4===g.tag}function aa(g){g:for(;;){for(;null===g.sibling;){if(null===g.return||oa(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;5!==g.tag&&6!==g.tag&&18!==g.tag;){if(2&g.flags)continue g;if(null===g.child||4===g.tag)continue g;g.child.return=g,g=g.child}if(!(2&g.flags))return g.stateNode}}function ra(g,e,I){var t=g.tag;if(5===t||6===t)g=g.stateNode,e?8===I.nodeType?I.parentNode.insertBefore(g,e):I.insertBefore(g,e):(8===I.nodeType?(e=I.parentNode).insertBefore(g,I):(e=I).appendChild(g),null!=(I=I._reactRootContainer)||null!==e.onclick||(e.onclick=$t));else if(4!==t&&null!==(g=g.child))for(ra(g,e,I),g=g.sibling;null!==g;)ra(g,e,I),g=g.sibling}function ia(g,e,I){var t=g.tag;if(5===t||6===t)g=g.stateNode,e?I.insertBefore(g,e):I.appendChild(g);else if(4!==t&&null!==(g=g.child))for(ia(g,e,I),g=g.sibling;null!==g;)ia(g,e,I),g=g.sibling}var ca=null,Aa=!1;function da(g,e,I){for(I=I.child;null!==I;)sa(g,e,I),I=I.sibling}function sa(g,e,I){if(le&&"function"==typeof le.onCommitFiberUnmount)try{le.onCommitFiberUnmount(ne,I)}catch(g){}switch(I.tag){case 5:qo||ga(I,e);case 6:var t=ca,n=Aa;ca=null,da(g,e,I),Aa=n,null!==(ca=t)&&(Aa?(g=ca,I=I.stateNode,8===g.nodeType?g.parentNode.removeChild(I):g.removeChild(I)):ca.removeChild(I.stateNode));break;case 18:null!==ca&&(Aa?(g=ca,I=I.stateNode,8===g.nodeType?on(g.parentNode,I):1===g.nodeType&&on(g,I),Ee(g)):on(ca,I.stateNode));break;case 4:t=ca,n=Aa,ca=I.stateNode.containerInfo,Aa=!0,da(g,e,I),ca=t,Aa=n;break;case 0:case 11:case 14:case 15:if(!qo&&null!==(t=I.updateQueue)&&null!==(t=t.lastEffect)){n=t=t.next;do{var l=n,C=l.destroy;l=l.tag,void 0!==C&&(0!=(2&l)||0!=(4&l))&&ea(I,e,C),n=n.next}while(n!==t)}da(g,e,I);break;case 1:if(!qo&&(ga(I,e),"function"==typeof(t=I.stateNode).componentWillUnmount))try{t.props=I.memoizedProps,t.state=I.memoizedState,t.componentWillUnmount()}catch(g){Wr(I,e,g)}da(g,e,I);break;case 21:da(g,e,I);break;case 22:1&I.mode?(qo=(t=qo)||null!==I.memoizedState,da(g,e,I),qo=t):da(g,e,I);break;default:da(g,e,I)}}function ua(g){var e=g.updateQueue;if(null!==e){g.updateQueue=null;var I=g.stateNode;null===I&&(I=g.stateNode=new $o),e.forEach((function(e){var t=fr.bind(null,g,e);I.has(e)||(I.add(e),e.then(t,t))}))}}function ma(g,e){var I=e.deletions;if(null!==I)for(var t=0;t<I.length;t++){var n=I[t];try{var C=g,o=e,a=o;g:for(;null!==a;){switch(a.tag){case 5:ca=a.stateNode,Aa=!1;break g;case 3:case 4:ca=a.stateNode.containerInfo,Aa=!0;break g}a=a.return}if(null===ca)throw Error(l(160));sa(C,o,n),ca=null,Aa=!1;var r=n.alternate;null!==r&&(r.return=null),n.return=null}catch(g){Wr(n,e,g)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ba(e,g),e=e.sibling}function ba(g,e){var I=g.alternate,t=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:if(ma(e,g),Za(g),4&t){try{ta(3,g,g.return),na(3,g)}catch(e){Wr(g,g.return,e)}try{ta(5,g,g.return)}catch(e){Wr(g,g.return,e)}}break;case 1:ma(e,g),Za(g),512&t&&null!==I&&ga(I,I.return);break;case 5:if(ma(e,g),Za(g),512&t&&null!==I&&ga(I,I.return),32&g.flags){var n=g.stateNode;try{Ag(n,"")}catch(e){Wr(g,g.return,e)}}if(4&t&&null!=(n=g.stateNode)){var C=g.memoizedProps,o=null!==I?I.memoizedProps:C,a=g.type,r=g.updateQueue;if(g.updateQueue=null,null!==r)try{"input"===a&&"radio"===C.type&&null!=C.name&&q(n,C),pg(a,o);var i=pg(a,C);for(o=0;o<r.length;o+=2){var c=r[o],A=r[o+1];"style"===c?mg(n,A):"dangerouslySetInnerHTML"===c?cg(n,A):"children"===c?Ag(n,A):p(n,c,A,i)}switch(a){case"input":$(n,C);break;case"textarea":lg(n,C);break;case"select":var d=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!C.multiple;var s=C.value;null!=s?Ig(n,!!C.multiple,s,!1):d!==!!C.multiple&&(null!=C.defaultValue?Ig(n,!!C.multiple,C.defaultValue,!0):Ig(n,!!C.multiple,C.multiple?[]:"",!1))}n[dn]=C}catch(e){Wr(g,g.return,e)}}break;case 6:if(ma(e,g),Za(g),4&t){if(null===g.stateNode)throw Error(l(162));n=g.stateNode,C=g.memoizedProps;try{n.nodeValue=C}catch(e){Wr(g,g.return,e)}}break;case 3:if(ma(e,g),Za(g),4&t&&null!==I&&I.memoizedState.isDehydrated)try{Ee(e.containerInfo)}catch(e){Wr(g,g.return,e)}break;case 4:default:ma(e,g),Za(g);break;case 13:ma(e,g),Za(g),8192&(n=g.child).flags&&(C=null!==n.memoizedState,n.stateNode.isHidden=C,!C||null!==n.alternate&&null!==n.alternate.memoizedState||(Ea=qg())),4&t&&ua(g);break;case 22:if(c=null!==I&&null!==I.memoizedState,1&g.mode?(qo=(i=qo)||c,ma(e,g),qo=i):ma(e,g),Za(g),8192&t){if(i=null!==g.memoizedState,(g.stateNode.isHidden=i)&&!c&&0!=(1&g.mode))for(_o=g,c=g.child;null!==c;){for(A=_o=c;null!==_o;){switch(s=(d=_o).child,d.tag){case 0:case 11:case 14:case 15:ta(4,d,d.return);break;case 1:ga(d,d.return);var u=d.stateNode;if("function"==typeof u.componentWillUnmount){t=d,I=d.return;try{e=t,u.props=e.memoizedProps,u.state=e.memoizedState,u.componentWillUnmount()}catch(g){Wr(t,I,g)}}break;case 5:ga(d,d.return);break;case 22:if(null!==d.memoizedState){ya(A);continue}}null!==s?(s.return=d,_o=s):ya(A)}c=c.sibling}g:for(c=null,A=g;;){if(5===A.tag){if(null===c){c=A;try{n=A.stateNode,i?"function"==typeof(C=n.style).setProperty?C.setProperty("display","none","important"):C.display="none":(a=A.stateNode,o=null!=(r=A.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,a.style.display=ug("display",o))}catch(e){Wr(g,g.return,e)}}}else if(6===A.tag){if(null===c)try{A.stateNode.nodeValue=i?"":A.memoizedProps}catch(e){Wr(g,g.return,e)}}else if((22!==A.tag&&23!==A.tag||null===A.memoizedState||A===g)&&null!==A.child){A.child.return=A,A=A.child;continue}if(A===g)break g;for(;null===A.sibling;){if(null===A.return||A.return===g)break g;c===A&&(c=null),A=A.return}c===A&&(c=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:ma(e,g),Za(g),4&t&&ua(g);case 21:}}function Za(g){var e=g.flags;if(2&e){try{g:{for(var I=g.return;null!==I;){if(oa(I)){var t=I;break g}I=I.return}throw Error(l(160))}switch(t.tag){case 5:var n=t.stateNode;32&t.flags&&(Ag(n,""),t.flags&=-33),ia(g,aa(g),n);break;case 3:case 4:var C=t.stateNode.containerInfo;ra(g,aa(g),C);break;default:throw Error(l(161))}}catch(e){Wr(g,g.return,e)}g.flags&=-3}4096&e&&(g.flags&=-4097)}function pa(g,e,I){_o=g,Ga(g,e,I)}function Ga(g,e,I){for(var t=0!=(1&g.mode);null!==_o;){var n=_o,l=n.child;if(22===n.tag&&t){var C=null!==n.memoizedState||Oo;if(!C){var o=n.alternate,a=null!==o&&null!==o.memoizedState||qo;o=Oo;var r=qo;if(Oo=C,(qo=a)&&!r)for(_o=n;null!==_o;)a=(C=_o).child,22===C.tag&&null!==C.memoizedState?Ba(n):null!==a?(a.return=C,_o=a):Ba(n);for(;null!==l;)_o=l,Ga(l,e,I),l=l.sibling;_o=n,Oo=o,qo=r}ha(g)}else 0!=(8772&n.subtreeFlags)&&null!==l?(l.return=n,_o=l):ha(g)}}function ha(g){for(;null!==_o;){var e=_o;if(0!=(8772&e.flags)){var I=e.alternate;try{if(0!=(8772&e.flags))switch(e.tag){case 0:case 11:case 15:qo||na(5,e);break;case 1:var t=e.stateNode;if(4&e.flags&&!qo)if(null===I)t.componentDidMount();else{var n=e.elementType===e.type?I.memoizedProps:ml(e.type,I.memoizedProps);t.componentDidUpdate(n,I.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var C=e.updateQueue;null!==C&&Kl(e,C,t);break;case 3:var o=e.updateQueue;if(null!==o){if(I=null,null!==e.child)switch(e.child.tag){case 5:case 1:I=e.child.stateNode}Kl(e,o,I)}break;case 5:var a=e.stateNode;if(null===I&&4&e.flags){I=a;var r=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":r.autoFocus&&I.focus();break;case"img":r.src&&(I.src=r.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var i=e.alternate;if(null!==i){var c=i.memoizedState;if(null!==c){var A=c.dehydrated;null!==A&&Ee(A)}}}break;default:throw Error(l(163))}qo||512&e.flags&&la(e)}catch(g){Wr(e,e.return,g)}}if(e===g){_o=null;break}if(null!==(I=e.sibling)){I.return=e.return,_o=I;break}_o=e.return}}function ya(g){for(;null!==_o;){var e=_o;if(e===g){_o=null;break}var I=e.sibling;if(null!==I){I.return=e.return,_o=I;break}_o=e.return}}function Ba(g){for(;null!==_o;){var e=_o;try{switch(e.tag){case 0:case 11:case 15:var I=e.return;try{na(4,e)}catch(g){Wr(e,I,g)}break;case 1:var t=e.stateNode;if("function"==typeof t.componentDidMount){var n=e.return;try{t.componentDidMount()}catch(g){Wr(e,n,g)}}var l=e.return;try{la(e)}catch(g){Wr(e,l,g)}break;case 5:var C=e.return;try{la(e)}catch(g){Wr(e,C,g)}}}catch(g){Wr(e,e.return,g)}if(e===g){_o=null;break}var o=e.sibling;if(null!==o){o.return=e.return,_o=o;break}_o=e.return}}var Sa,Wa=Math.ceil,Va=G.ReactCurrentDispatcher,Ra=G.ReactCurrentOwner,va=G.ReactCurrentBatchConfig,fa=0,Xa=null,ka=null,Ja=0,Ya=0,Ha=Sn(0),wa=0,Na=null,Fa=0,Ka=0,xa=0,za=null,Ma=null,Ea=0,La=1/0,Ua=null,Qa=!1,Ta=null,Da=null,ja=!1,Pa=null,Oa=0,qa=0,$a=null,_a=-1,gr=0;function er(){return 0!=(6&fa)?qg():-1!==_a?_a:_a=qg()}function Ir(g){return 0==(1&g.mode)?1:0!=(2&fa)&&0!==Ja?Ja&-Ja:null!==ul.transition?(0===gr&&(gr=ue()),gr):0!==(g=pe)?g:g=void 0===(g=window.event)?16:Oe(g.type)}function tr(g,e,I,t){if(50<qa)throw qa=0,$a=null,Error(l(185));be(g,I,t),0!=(2&fa)&&g===Xa||(g===Xa&&(0==(2&fa)&&(Ka|=I),4===wa&&ar(g,Ja)),nr(g,t),1===I&&0===fa&&0==(1&e.mode)&&(La=qg()+500,xn&&En()))}function nr(g,e){var I=g.callbackNode;!function(g,e){for(var I=g.suspendedLanes,t=g.pingedLanes,n=g.expirationTimes,l=g.pendingLanes;0<l;){var C=31-Ce(l),o=1<<C,a=n[C];-1===a?0!=(o&I)&&0==(o&t)||(n[C]=de(o,e)):a<=e&&(g.expiredLanes|=o),l&=~o}}(g,e);var t=Ae(g,g===Xa?Ja:0);if(0===t)null!==I&&jg(I),g.callbackNode=null,g.callbackPriority=0;else if(e=t&-t,g.callbackPriority!==e){if(null!=I&&jg(I),1===e)0===g.tag?function(g){xn=!0,Mn(g)}(rr.bind(null,g)):Mn(rr.bind(null,g)),ln((function(){0==(6&fa)&&En()})),I=null;else{switch(Ge(t)){case 1:I=_g;break;case 4:I=ge;break;case 16:default:I=ee;break;case 536870912:I=te}I=Xr(I,lr.bind(null,g))}g.callbackPriority=e,g.callbackNode=I}}function lr(g,e){if(_a=-1,gr=0,0!=(6&fa))throw Error(l(327));var I=g.callbackNode;if(Br()&&g.callbackNode!==I)return null;var t=Ae(g,g===Xa?Ja:0);if(0===t)return null;if(0!=(30&t)||0!=(t&g.expiredLanes)||e)e=br(g,t);else{e=t;var n=fa;fa|=2;var C=ur();for(Xa===g&&Ja===e||(Ua=null,La=qg()+500,dr(g,e));;)try{pr();break}catch(e){sr(g,e)}hl(),Va.current=C,fa=n,null!==ka?e=0:(Xa=null,Ja=0,e=wa)}if(0!==e){if(2===e&&0!==(n=se(g))&&(t=n,e=Cr(g,n)),1===e)throw I=Na,dr(g,0),ar(g,t),nr(g,qg()),I;if(6===e)ar(g,t);else{if(n=g.current.alternate,0==(30&t)&&!function(g){for(var e=g;;){if(16384&e.flags){var I=e.updateQueue;if(null!==I&&null!==(I=I.stores))for(var t=0;t<I.length;t++){var n=I[t],l=n.getSnapshot;n=n.value;try{if(!Ct(l(),n))return!1}catch(g){return!1}}}if(I=e.child,16384&e.subtreeFlags&&null!==I)I.return=e,e=I;else{if(e===g)break;for(;null===e.sibling;){if(null===e.return||e.return===g)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(n)&&(2===(e=br(g,t))&&0!==(C=se(g))&&(t=C,e=Cr(g,C)),1===e))throw I=Na,dr(g,0),ar(g,t),nr(g,qg()),I;switch(g.finishedWork=n,g.finishedLanes=t,e){case 0:case 1:throw Error(l(345));case 2:case 5:yr(g,Ma,Ua);break;case 3:if(ar(g,t),(130023424&t)===t&&10<(e=Ea+500-qg())){if(0!==Ae(g,0))break;if(((n=g.suspendedLanes)&t)!==t){er(),g.pingedLanes|=g.suspendedLanes&n;break}g.timeoutHandle=In(yr.bind(null,g,Ma,Ua),e);break}yr(g,Ma,Ua);break;case 4:if(ar(g,t),(4194240&t)===t)break;for(e=g.eventTimes,n=-1;0<t;){var o=31-Ce(t);C=1<<o,(o=e[o])>n&&(n=o),t&=~C}if(t=n,10<(t=(120>(t=qg()-t)?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*Wa(t/1960))-t)){g.timeoutHandle=In(yr.bind(null,g,Ma,Ua),t);break}yr(g,Ma,Ua);break;default:throw Error(l(329))}}}return nr(g,qg()),g.callbackNode===I?lr.bind(null,g):null}function Cr(g,e){var I=za;return g.current.memoizedState.isDehydrated&&(dr(g,e).flags|=256),2!==(g=br(g,e))&&(e=Ma,Ma=I,null!==e&&or(e)),g}function or(g){null===Ma?Ma=g:Ma.push.apply(Ma,g)}function ar(g,e){for(e&=~xa,e&=~Ka,g.suspendedLanes|=e,g.pingedLanes&=~e,g=g.expirationTimes;0<e;){var I=31-Ce(e),t=1<<I;g[I]=-1,e&=~t}}function rr(g){if(0!=(6&fa))throw Error(l(327));Br();var e=Ae(g,0);if(0==(1&e))return nr(g,qg()),null;var I=br(g,e);if(0!==g.tag&&2===I){var t=se(g);0!==t&&(e=t,I=Cr(g,t))}if(1===I)throw I=Na,dr(g,0),ar(g,e),nr(g,qg()),I;if(6===I)throw Error(l(345));return g.finishedWork=g.current.alternate,g.finishedLanes=e,yr(g,Ma,Ua),nr(g,qg()),null}function ir(g,e){var I=fa;fa|=1;try{return g(e)}finally{0===(fa=I)&&(La=qg()+500,xn&&En())}}function cr(g){null!==Pa&&0===Pa.tag&&0==(6&fa)&&Br();var e=fa;fa|=1;var I=va.transition,t=pe;try{if(va.transition=null,pe=1,g)return g()}finally{pe=t,va.transition=I,0==(6&(fa=e))&&En()}}function Ar(){Ya=Ha.current,Wn(Ha)}function dr(g,e){g.finishedWork=null,g.finishedLanes=0;var I=g.timeoutHandle;if(-1!==I&&(g.timeoutHandle=-1,tn(I)),null!==ka)for(I=ka.return;null!==I;){var t=I;switch(el(t),t.tag){case 1:null!=(t=t.type.childContextTypes)&&Yn();break;case 3:nC(),Wn(fn),Wn(vn),iC();break;case 5:CC(t);break;case 4:nC();break;case 13:case 19:Wn(oC);break;case 10:yl(t.type._context);break;case 22:case 23:Ar()}I=I.return}if(Xa=g,ka=g=Hr(g.current,null),Ja=Ya=e,wa=0,Na=null,xa=Ka=Fa=0,Ma=za=null,null!==Vl){for(e=0;e<Vl.length;e++)if(null!==(t=(I=Vl[e]).interleaved)){I.interleaved=null;var n=t.next,l=I.pending;if(null!==l){var C=l.next;l.next=n,t.next=C}I.pending=t}Vl=null}return g}function sr(g,e){for(;;){var I=ka;try{if(hl(),cC.current=lo,bC){for(var t=sC.memoizedState;null!==t;){var n=t.queue;null!==n&&(n.pending=null),t=t.next}bC=!1}if(dC=0,mC=uC=sC=null,ZC=!1,pC=0,Ra.current=null,null===I||null===I.return){wa=1,Na=e,ka=null;break}g:{var C=g,o=I.return,a=I,r=e;if(e=Ja,a.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){var i=r,c=a,A=c.tag;if(0==(1&c.mode)&&(0===A||11===A||15===A)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var s=bo(o);if(null!==s){s.flags&=-257,Zo(s,o,a,0,e),1&s.mode&&mo(C,i,e),r=i;var u=(e=s).updateQueue;if(null===u){var m=new Set;m.add(r),e.updateQueue=m}else u.add(r);break g}if(0==(1&e)){mo(C,i,e),mr();break g}r=Error(l(426))}else if(nl&&1&a.mode){var b=bo(o);if(null!==b){0==(65536&b.flags)&&(b.flags|=256),Zo(b,o,a,0,e),sl(ro(r,a));break g}}C=r=ro(r,a),4!==wa&&(wa=2),null===za?za=[C]:za.push(C),C=o;do{switch(C.tag){case 3:C.flags|=65536,e&=-e,C.lanes|=e,Nl(C,so(0,r,e));break g;case 1:a=r;var Z=C.type,p=C.stateNode;if(0==(128&C.flags)&&("function"==typeof Z.getDerivedStateFromError||null!==p&&"function"==typeof p.componentDidCatch&&(null===Da||!Da.has(p)))){C.flags|=65536,e&=-e,C.lanes|=e,Nl(C,uo(C,a,e));break g}}C=C.return}while(null!==C)}hr(I)}catch(g){e=g,ka===I&&null!==I&&(ka=I=I.return);continue}break}}function ur(){var g=Va.current;return Va.current=lo,null===g?lo:g}function mr(){0!==wa&&3!==wa&&2!==wa||(wa=4),null===Xa||0==(268435455&Fa)&&0==(268435455&Ka)||ar(Xa,Ja)}function br(g,e){var I=fa;fa|=2;var t=ur();for(Xa===g&&Ja===e||(Ua=null,dr(g,e));;)try{Zr();break}catch(e){sr(g,e)}if(hl(),fa=I,Va.current=t,null!==ka)throw Error(l(261));return Xa=null,Ja=0,wa}function Zr(){for(;null!==ka;)Gr(ka)}function pr(){for(;null!==ka&&!Pg();)Gr(ka)}function Gr(g){var e=Sa(g.alternate,g,Ya);g.memoizedProps=g.pendingProps,null===e?hr(g):ka=e,Ra.current=null}function hr(g){var e=g;do{var I=e.alternate;if(g=e.return,0==(32768&e.flags)){if(null!==(I=jo(I,e,Ya)))return void(ka=I)}else{if(null!==(I=Po(I,e)))return I.flags&=32767,void(ka=I);if(null===g)return wa=6,void(ka=null);g.flags|=32768,g.subtreeFlags=0,g.deletions=null}if(null!==(e=e.sibling))return void(ka=e);ka=e=g}while(null!==e);0===wa&&(wa=5)}function yr(g,e,I){var t=pe,n=va.transition;try{va.transition=null,pe=1,function(g,e,I,t){do{Br()}while(null!==Pa);if(0!=(6&fa))throw Error(l(327));I=g.finishedWork;var n=g.finishedLanes;if(null===I)return null;if(g.finishedWork=null,g.finishedLanes=0,I===g.current)throw Error(l(177));g.callbackNode=null,g.callbackPriority=0;var C=I.lanes|I.childLanes;if(function(g,e){var I=g.pendingLanes&~e;g.pendingLanes=e,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=e,g.mutableReadLanes&=e,g.entangledLanes&=e,e=g.entanglements;var t=g.eventTimes;for(g=g.expirationTimes;0<I;){var n=31-Ce(I),l=1<<n;e[n]=0,t[n]=-1,g[n]=-1,I&=~l}}(g,C),g===Xa&&(ka=Xa=null,Ja=0),0==(2064&I.subtreeFlags)&&0==(2064&I.flags)||ja||(ja=!0,Xr(ee,(function(){return Br(),null}))),C=0!=(15990&I.flags),0!=(15990&I.subtreeFlags)||C){C=va.transition,va.transition=null;var o=pe;pe=1;var a=fa;fa|=4,Ra.current=null,function(g,e){if(_t=Ue,At(g=ct())){if("selectionStart"in g)var I={start:g.selectionStart,end:g.selectionEnd};else g:{var t=(I=(I=g.ownerDocument)&&I.defaultView||window).getSelection&&I.getSelection();if(t&&0!==t.rangeCount){I=t.anchorNode;var n=t.anchorOffset,C=t.focusNode;t=t.focusOffset;try{I.nodeType,C.nodeType}catch(g){I=null;break g}var o=0,a=-1,r=-1,i=0,c=0,A=g,d=null;e:for(;;){for(var s;A!==I||0!==n&&3!==A.nodeType||(a=o+n),A!==C||0!==t&&3!==A.nodeType||(r=o+t),3===A.nodeType&&(o+=A.nodeValue.length),null!==(s=A.firstChild);)d=A,A=s;for(;;){if(A===g)break e;if(d===I&&++i===n&&(a=o),d===C&&++c===t&&(r=o),null!==(s=A.nextSibling))break;d=(A=d).parentNode}A=s}I=-1===a||-1===r?null:{start:a,end:r}}else I=null}I=I||{start:0,end:0}}else I=null;for(gn={focusedElem:g,selectionRange:I},Ue=!1,_o=e;null!==_o;)if(g=(e=_o).child,0!=(1028&e.subtreeFlags)&&null!==g)g.return=e,_o=g;else for(;null!==_o;){e=_o;try{var u=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==u){var m=u.memoizedProps,b=u.memoizedState,Z=e.stateNode,p=Z.getSnapshotBeforeUpdate(e.elementType===e.type?m:ml(e.type,m),b);Z.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var G=e.stateNode.containerInfo;1===G.nodeType?G.textContent="":9===G.nodeType&&G.documentElement&&G.removeChild(G.documentElement);break;default:throw Error(l(163))}}catch(g){Wr(e,e.return,g)}if(null!==(g=e.sibling)){g.return=e.return,_o=g;break}_o=e.return}u=Ia,Ia=!1}(g,I),ba(I,g),dt(gn),Ue=!!_t,gn=_t=null,g.current=I,pa(I,g,n),Og(),fa=a,pe=o,va.transition=C}else g.current=I;if(ja&&(ja=!1,Pa=g,Oa=n),0===(C=g.pendingLanes)&&(Da=null),function(g){if(le&&"function"==typeof le.onCommitFiberRoot)try{le.onCommitFiberRoot(ne,g,void 0,128==(128&g.current.flags))}catch(g){}}(I.stateNode),nr(g,qg()),null!==e)for(t=g.onRecoverableError,I=0;I<e.length;I++)t((n=e[I]).value,{componentStack:n.stack,digest:n.digest});if(Qa)throw Qa=!1,g=Ta,Ta=null,g;0!=(1&Oa)&&0!==g.tag&&Br(),0!=(1&(C=g.pendingLanes))?g===$a?qa++:(qa=0,$a=g):qa=0,En()}(g,e,I,t)}finally{va.transition=n,pe=t}return null}function Br(){if(null!==Pa){var g=Ge(Oa),e=va.transition,I=pe;try{if(va.transition=null,pe=16>g?16:g,null===Pa)var t=!1;else{if(g=Pa,Pa=null,Oa=0,0!=(6&fa))throw Error(l(331));var n=fa;for(fa|=4,_o=g.current;null!==_o;){var C=_o,o=C.child;if(0!=(16&_o.flags)){var a=C.deletions;if(null!==a){for(var r=0;r<a.length;r++){var i=a[r];for(_o=i;null!==_o;){var c=_o;switch(c.tag){case 0:case 11:case 15:ta(8,c,C)}var A=c.child;if(null!==A)A.return=c,_o=A;else for(;null!==_o;){var d=(c=_o).sibling,s=c.return;if(Ca(c),c===i){_o=null;break}if(null!==d){d.return=s,_o=d;break}_o=s}}}var u=C.alternate;if(null!==u){var m=u.child;if(null!==m){u.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(null!==m)}}_o=C}}if(0!=(2064&C.subtreeFlags)&&null!==o)o.return=C,_o=o;else g:for(;null!==_o;){if(0!=(2048&(C=_o).flags))switch(C.tag){case 0:case 11:case 15:ta(9,C,C.return)}var Z=C.sibling;if(null!==Z){Z.return=C.return,_o=Z;break g}_o=C.return}}var p=g.current;for(_o=p;null!==_o;){var G=(o=_o).child;if(0!=(2064&o.subtreeFlags)&&null!==G)G.return=o,_o=G;else g:for(o=p;null!==_o;){if(0!=(2048&(a=_o).flags))try{switch(a.tag){case 0:case 11:case 15:na(9,a)}}catch(g){Wr(a,a.return,g)}if(a===o){_o=null;break g}var h=a.sibling;if(null!==h){h.return=a.return,_o=h;break g}_o=a.return}}if(fa=n,En(),le&&"function"==typeof le.onPostCommitFiberRoot)try{le.onPostCommitFiberRoot(ne,g)}catch(g){}t=!0}return t}finally{pe=I,va.transition=e}}return!1}function Sr(g,e,I){g=Hl(g,e=so(0,e=ro(I,e),1),1),e=er(),null!==g&&(be(g,1,e),nr(g,e))}function Wr(g,e,I){if(3===g.tag)Sr(g,g,I);else for(;null!==e;){if(3===e.tag){Sr(e,g,I);break}if(1===e.tag){var t=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof t.componentDidCatch&&(null===Da||!Da.has(t))){e=Hl(e,g=uo(e,g=ro(I,g),1),1),g=er(),null!==e&&(be(e,1,g),nr(e,g));break}}e=e.return}}function Vr(g,e,I){var t=g.pingCache;null!==t&&t.delete(e),e=er(),g.pingedLanes|=g.suspendedLanes&I,Xa===g&&(Ja&I)===I&&(4===wa||3===wa&&(130023424&Ja)===Ja&&500>qg()-Ea?dr(g,0):xa|=I),nr(g,e)}function Rr(g,e){0===e&&(0==(1&g.mode)?e=1:(e=ie,0==(130023424&(ie<<=1))&&(ie=4194304)));var I=er();null!==(g=fl(g,e))&&(be(g,e,I),nr(g,I))}function vr(g){var e=g.memoizedState,I=0;null!==e&&(I=e.retryLane),Rr(g,I)}function fr(g,e){var I=0;switch(g.tag){case 13:var t=g.stateNode,n=g.memoizedState;null!==n&&(I=n.retryLane);break;case 19:t=g.stateNode;break;default:throw Error(l(314))}null!==t&&t.delete(e),Rr(g,I)}function Xr(g,e){return Dg(g,e)}function kr(g,e,I,t){this.tag=g,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(g,e,I,t){return new kr(g,e,I,t)}function Yr(g){return!(!(g=g.prototype)||!g.isReactComponent)}function Hr(g,e){var I=g.alternate;return null===I?((I=Jr(g.tag,e,g.key,g.mode)).elementType=g.elementType,I.type=g.type,I.stateNode=g.stateNode,I.alternate=g,g.alternate=I):(I.pendingProps=e,I.type=g.type,I.flags=0,I.subtreeFlags=0,I.deletions=null),I.flags=14680064&g.flags,I.childLanes=g.childLanes,I.lanes=g.lanes,I.child=g.child,I.memoizedProps=g.memoizedProps,I.memoizedState=g.memoizedState,I.updateQueue=g.updateQueue,e=g.dependencies,I.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},I.sibling=g.sibling,I.index=g.index,I.ref=g.ref,I}function wr(g,e,I,t,n,C){var o=2;if(t=g,"function"==typeof g)Yr(g)&&(o=1);else if("string"==typeof g)o=5;else g:switch(g){case B:return Nr(I.children,n,C,e);case S:o=8,n|=8;break;case W:return(g=Jr(12,I,e,2|n)).elementType=W,g.lanes=C,g;case f:return(g=Jr(13,I,e,n)).elementType=f,g.lanes=C,g;case X:return(g=Jr(19,I,e,n)).elementType=X,g.lanes=C,g;case Y:return Fr(I,n,C,e);default:if("object"==typeof g&&null!==g)switch(g.$$typeof){case V:o=10;break g;case R:o=9;break g;case v:o=11;break g;case k:o=14;break g;case J:o=16,t=null;break g}throw Error(l(130,null==g?g:typeof g,""))}return(e=Jr(o,I,e,n)).elementType=g,e.type=t,e.lanes=C,e}function Nr(g,e,I,t){return(g=Jr(7,g,t,e)).lanes=I,g}function Fr(g,e,I,t){return(g=Jr(22,g,t,e)).elementType=Y,g.lanes=I,g.stateNode={isHidden:!1},g}function Kr(g,e,I){return(g=Jr(6,g,null,e)).lanes=I,g}function xr(g,e,I){return(e=Jr(4,null!==g.children?g.children:[],g.key,e)).lanes=I,e.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},e}function zr(g,e,I,t,n){this.tag=e,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=t,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Mr(g,e,I,t,n,l,C,o,a){return g=new zr(g,e,I,o,a),1===e?(e=1,!0===l&&(e|=8)):e=0,l=Jr(3,null,null,e),g.current=l,l.stateNode=g,l.memoizedState={element:t,isDehydrated:I,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(l),g}function Er(g){if(!g)return Rn;g:{if(Eg(g=g._reactInternals)!==g||1!==g.tag)throw Error(l(170));var e=g;do{switch(e.tag){case 3:e=e.stateNode.context;break g;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break g}}e=e.return}while(null!==e);throw Error(l(171))}if(1===g.tag){var I=g.type;if(Jn(I))return wn(g,I,e)}return e}function Lr(g,e,I,t,n,l,C,o,a){return(g=Mr(I,t,!0,g,0,l,0,o,a)).context=Er(null),I=g.current,(l=Yl(t=er(),n=Ir(I))).callback=null!=e?e:null,Hl(I,l,n),g.current.lanes=n,be(g,n,t),nr(g,t),g}function Ur(g,e,I,t){var n=e.current,l=er(),C=Ir(n);return I=Er(I),null===e.context?e.context=I:e.pendingContext=I,(e=Yl(l,C)).payload={element:g},null!==(t=void 0===t?null:t)&&(e.callback=t),null!==(g=Hl(n,e,C))&&(tr(g,n,C,l),wl(g,n,C)),C}function Qr(g){return(g=g.current).child?(g.child.tag,g.child.stateNode):null}function Tr(g,e){if(null!==(g=g.memoizedState)&&null!==g.dehydrated){var I=g.retryLane;g.retryLane=0!==I&&I<e?I:e}}function Dr(g,e){Tr(g,e),(g=g.alternate)&&Tr(g,e)}Sa=function(g,e,I){if(null!==g)if(g.memoizedProps!==e.pendingProps||fn.current)Go=!0;else{if(0==(g.lanes&I)&&0==(128&e.flags))return Go=!1,function(g,e,I){switch(e.tag){case 3:Xo(e),dl();break;case 5:lC(e);break;case 1:Jn(e.type)&&Nn(e);break;case 4:tC(e,e.stateNode.containerInfo);break;case 10:var t=e.type._context,n=e.memoizedProps.value;Vn(bl,t._currentValue),t._currentValue=n;break;case 13:if(null!==(t=e.memoizedState))return null!==t.dehydrated?(Vn(oC,1&oC.current),e.flags|=128,null):0!=(I&e.child.childLanes)?Ko(g,e,I):(Vn(oC,1&oC.current),null!==(g=Qo(g,e,I))?g.sibling:null);Vn(oC,1&oC.current);break;case 19:if(t=0!=(I&e.childLanes),0!=(128&g.flags)){if(t)return Lo(g,e,I);e.flags|=128}if(null!==(n=e.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Vn(oC,oC.current),t)break;return null;case 22:case 23:return e.lanes=0,Wo(g,e,I)}return Qo(g,e,I)}(g,e,I);Go=0!=(131072&g.flags)}else Go=!1,nl&&0!=(1048576&e.flags)&&_n(e,Tn,e.index);switch(e.lanes=0,e.tag){case 2:var t=e.type;Uo(g,e),g=e.pendingProps;var n=kn(e,vn.current);Sl(e,I),n=BC(null,e,t,g,n,I);var C=SC();return e.flags|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(t)?(C=!0,Nn(e)):C=!1,e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,kl(e),n.updater=Ml,e.stateNode=n,n._reactInternals=e,Ql(e,t,g,I),e=fo(null,e,t,!0,C,I)):(e.tag=0,nl&&C&&gl(e),ho(null,e,n,I),e=e.child),e;case 16:t=e.elementType;g:{switch(Uo(g,e),g=e.pendingProps,t=(n=t._init)(t._payload),e.type=t,n=e.tag=function(g){if("function"==typeof g)return Yr(g)?1:0;if(null!=g){if((g=g.$$typeof)===v)return 11;if(g===k)return 14}return 2}(t),g=ml(t,g),n){case 0:e=Ro(null,e,t,g,I);break g;case 1:e=vo(null,e,t,g,I);break g;case 11:e=yo(null,e,t,g,I);break g;case 14:e=Bo(null,e,t,ml(t.type,g),I);break g}throw Error(l(306,t,""))}return e;case 0:return t=e.type,n=e.pendingProps,Ro(g,e,t,n=e.elementType===t?n:ml(t,n),I);case 1:return t=e.type,n=e.pendingProps,vo(g,e,t,n=e.elementType===t?n:ml(t,n),I);case 3:g:{if(Xo(e),null===g)throw Error(l(387));t=e.pendingProps,n=(C=e.memoizedState).element,Jl(g,e),Fl(e,t,null,I);var o=e.memoizedState;if(t=o.element,C.isDehydrated){if(C={element:t,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=C,e.memoizedState=C,256&e.flags){e=ko(g,e,t,I,n=ro(Error(l(423)),e));break g}if(t!==n){e=ko(g,e,t,I,n=ro(Error(l(424)),e));break g}for(tl=an(e.stateNode.containerInfo.firstChild),Il=e,nl=!0,ll=null,I=ql(e,null,t,I),e.child=I;I;)I.flags=-3&I.flags|4096,I=I.sibling}else{if(dl(),t===n){e=Qo(g,e,I);break g}ho(g,e,t,I)}e=e.child}return e;case 5:return lC(e),null===g&&rl(e),t=e.type,n=e.pendingProps,C=null!==g?g.memoizedProps:null,o=n.children,en(t,n)?o=null:null!==C&&en(t,C)&&(e.flags|=32),Vo(g,e),ho(g,e,o,I),e.child;case 6:return null===g&&rl(e),null;case 13:return Ko(g,e,I);case 4:return tC(e,e.stateNode.containerInfo),t=e.pendingProps,null===g?e.child=Ol(e,null,t,I):ho(g,e,t,I),e.child;case 11:return t=e.type,n=e.pendingProps,yo(g,e,t,n=e.elementType===t?n:ml(t,n),I);case 7:return ho(g,e,e.pendingProps,I),e.child;case 8:case 12:return ho(g,e,e.pendingProps.children,I),e.child;case 10:g:{if(t=e.type._context,n=e.pendingProps,C=e.memoizedProps,o=n.value,Vn(bl,t._currentValue),t._currentValue=o,null!==C)if(Ct(C.value,o)){if(C.children===n.children&&!fn.current){e=Qo(g,e,I);break g}}else for(null!==(C=e.child)&&(C.return=e);null!==C;){var a=C.dependencies;if(null!==a){o=C.child;for(var r=a.firstContext;null!==r;){if(r.context===t){if(1===C.tag){(r=Yl(-1,I&-I)).tag=2;var i=C.updateQueue;if(null!==i){var c=(i=i.shared).pending;null===c?r.next=r:(r.next=c.next,c.next=r),i.pending=r}}C.lanes|=I,null!==(r=C.alternate)&&(r.lanes|=I),Bl(C.return,I,e),a.lanes|=I;break}r=r.next}}else if(10===C.tag)o=C.type===e.type?null:C.child;else if(18===C.tag){if(null===(o=C.return))throw Error(l(341));o.lanes|=I,null!==(a=o.alternate)&&(a.lanes|=I),Bl(o,I,e),o=C.sibling}else o=C.child;if(null!==o)o.return=C;else for(o=C;null!==o;){if(o===e){o=null;break}if(null!==(C=o.sibling)){C.return=o.return,o=C;break}o=o.return}C=o}ho(g,e,n.children,I),e=e.child}return e;case 9:return n=e.type,t=e.pendingProps.children,Sl(e,I),t=t(n=Wl(n)),e.flags|=1,ho(g,e,t,I),e.child;case 14:return n=ml(t=e.type,e.pendingProps),Bo(g,e,t,n=ml(t.type,n),I);case 15:return So(g,e,e.type,e.pendingProps,I);case 17:return t=e.type,n=e.pendingProps,n=e.elementType===t?n:ml(t,n),Uo(g,e),e.tag=1,Jn(t)?(g=!0,Nn(e)):g=!1,Sl(e,I),Ll(e,t,n),Ql(e,t,n,I),fo(null,e,t,!0,g,I);case 19:return Lo(g,e,I);case 22:return Wo(g,e,I)}throw Error(l(156,e.tag))};var jr="function"==typeof reportError?reportError:function(g){console.error(g)};function Pr(g){this._internalRoot=g}function Or(g){this._internalRoot=g}function qr(g){return!(!g||1!==g.nodeType&&9!==g.nodeType&&11!==g.nodeType)}function $r(g){return!(!g||1!==g.nodeType&&9!==g.nodeType&&11!==g.nodeType&&(8!==g.nodeType||" react-mount-point-unstable "!==g.nodeValue))}function _r(){}function gi(g,e,I,t,n){var l=I._reactRootContainer;if(l){var C=l;if("function"==typeof n){var o=n;n=function(){var g=Qr(C);o.call(g)}}Ur(e,C,g,n)}else C=function(g,e,I,t,n){if(n){if("function"==typeof t){var l=t;t=function(){var g=Qr(C);l.call(g)}}var C=Lr(e,t,g,0,null,!1,0,"",_r);return g._reactRootContainer=C,g[sn]=C.current,Mt(8===g.nodeType?g.parentNode:g),cr(),C}for(;n=g.lastChild;)g.removeChild(n);if("function"==typeof t){var o=t;t=function(){var g=Qr(a);o.call(g)}}var a=Mr(g,0,!1,null,0,!1,0,"",_r);return g._reactRootContainer=a,g[sn]=a.current,Mt(8===g.nodeType?g.parentNode:g),cr((function(){Ur(e,a,I,t)})),a}(I,e,g,n,t);return Qr(C)}Or.prototype.render=Pr.prototype.render=function(g){var e=this._internalRoot;if(null===e)throw Error(l(409));Ur(g,e,null,null)},Or.prototype.unmount=Pr.prototype.unmount=function(){var g=this._internalRoot;if(null!==g){this._internalRoot=null;var e=g.containerInfo;cr((function(){Ur(null,g,null,null)})),e[sn]=null}},Or.prototype.unstable_scheduleHydration=function(g){if(g){var e=Se();g={blockedOn:null,target:g,priority:e};for(var I=0;I<Ye.length&&0!==e&&e<Ye[I].priority;I++);Ye.splice(I,0,g),0===I&&Fe(g)}},he=function(g){switch(g.tag){case 3:var e=g.stateNode;if(e.current.memoizedState.isDehydrated){var I=ce(e.pendingLanes);0!==I&&(Ze(e,1|I),nr(e,qg()),0==(6&fa)&&(La=qg()+500,En()))}break;case 13:cr((function(){var e=fl(g,1);if(null!==e){var I=er();tr(e,g,1,I)}})),Dr(g,1)}},ye=function(g){if(13===g.tag){var e=fl(g,134217728);null!==e&&tr(e,g,134217728,er()),Dr(g,134217728)}},Be=function(g){if(13===g.tag){var e=Ir(g),I=fl(g,e);null!==I&&tr(I,g,e,er()),Dr(g,e)}},Se=function(){return pe},We=function(g,e){var I=pe;try{return pe=g,e()}finally{pe=I}},yg=function(g,e,I){switch(e){case"input":if($(g,I),e=I.name,"radio"===I.type&&null!=e){for(I=g;I.parentNode;)I=I.parentNode;for(I=I.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<I.length;e++){var t=I[e];if(t!==g&&t.form===g.form){var n=hn(t);if(!n)throw Error(l(90));D(t),$(t,n)}}}break;case"textarea":lg(g,I);break;case"select":null!=(e=I.value)&&Ig(g,!!I.multiple,e,!1)}},vg=ir,fg=cr;var ei={usingClientEntryPoint:!1,Events:[pn,Gn,hn,Vg,Rg,ir]},Ii={findFiberByHostInstance:Zn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ti={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(g){return null===(g=Qg(g))?null:g.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ni.isDisabled&&ni.supportsFiber)try{ne=ni.inject(ti),le=ni}catch(ig){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ei,e.createPortal=function(g,e){var I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qr(e))throw Error(l(200));return function(g,e,I){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==t?null:""+t,children:g,containerInfo:e,implementation:I}}(g,e,null,I)},e.createRoot=function(g,e){if(!qr(g))throw Error(l(299));var I=!1,t="",n=jr;return null!=e&&(!0===e.unstable_strictMode&&(I=!0),void 0!==e.identifierPrefix&&(t=e.identifierPrefix),void 0!==e.onRecoverableError&&(n=e.onRecoverableError)),e=Mr(g,1,!1,null,0,I,0,t,n),g[sn]=e.current,Mt(8===g.nodeType?g.parentNode:g),new Pr(e)},e.findDOMNode=function(g){if(null==g)return null;if(1===g.nodeType)return g;var e=g._reactInternals;if(void 0===e){if("function"==typeof g.render)throw Error(l(188));throw g=Object.keys(g).join(","),Error(l(268,g))}return null===(g=Qg(e))?null:g.stateNode},e.flushSync=function(g){return cr(g)},e.hydrate=function(g,e,I){if(!$r(e))throw Error(l(200));return gi(null,g,e,!0,I)},e.hydrateRoot=function(g,e,I){if(!qr(g))throw Error(l(405));var t=null!=I&&I.hydratedSources||null,n=!1,C="",o=jr;if(null!=I&&(!0===I.unstable_strictMode&&(n=!0),void 0!==I.identifierPrefix&&(C=I.identifierPrefix),void 0!==I.onRecoverableError&&(o=I.onRecoverableError)),e=Lr(e,null,g,1,null!=I?I:null,n,0,C,o),g[sn]=e.current,Mt(g),t)for(g=0;g<t.length;g++)n=(n=(I=t[g])._getVersion)(I._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[I,n]:e.mutableSourceEagerHydrationData.push(I,n);return new Or(e)},e.render=function(g,e,I){if(!$r(e))throw Error(l(200));return gi(null,g,e,!1,I)},e.unmountComponentAtNode=function(g){if(!$r(g))throw Error(l(40));return!!g._reactRootContainer&&(cr((function(){gi(null,null,g,!1,(function(){g._reactRootContainer=null,g[sn]=null}))})),!0)},e.unstable_batchedUpdates=ir,e.unstable_renderSubtreeIntoContainer=function(g,e,I,t){if(!$r(I))throw Error(l(200));if(null==g||void 0===g._reactInternals)throw Error(l(38));return gi(g,e,I,!1,t)},e.version="18.2.0-next-9e3b772b8-20220608"},745:function(g,e,I){"use strict";var t=I(3935);e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot},3935:function(g,e,I){"use strict";!function g(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(g){console.error(g)}}(),g.exports=I(4448)},9590:function(g){var e="undefined"!=typeof Element,I="function"==typeof Map,t="function"==typeof Set,n="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function l(g,C){if(g===C)return!0;if(g&&C&&"object"==typeof g&&"object"==typeof C){if(g.constructor!==C.constructor)return!1;var o,a,r,i;if(Array.isArray(g)){if((o=g.length)!=C.length)return!1;for(a=o;0!=a--;)if(!l(g[a],C[a]))return!1;return!0}if(I&&g instanceof Map&&C instanceof Map){if(g.size!==C.size)return!1;for(i=g.entries();!(a=i.next()).done;)if(!C.has(a.value[0]))return!1;for(i=g.entries();!(a=i.next()).done;)if(!l(a.value[1],C.get(a.value[0])))return!1;return!0}if(t&&g instanceof Set&&C instanceof Set){if(g.size!==C.size)return!1;for(i=g.entries();!(a=i.next()).done;)if(!C.has(a.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(g)&&ArrayBuffer.isView(C)){if((o=g.length)!=C.length)return!1;for(a=o;0!=a--;)if(g[a]!==C[a])return!1;return!0}if(g.constructor===RegExp)return g.source===C.source&&g.flags===C.flags;if(g.valueOf!==Object.prototype.valueOf&&"function"==typeof g.valueOf&&"function"==typeof C.valueOf)return g.valueOf()===C.valueOf();if(g.toString!==Object.prototype.toString&&"function"==typeof g.toString&&"function"==typeof C.toString)return g.toString()===C.toString();if((o=(r=Object.keys(g)).length)!==Object.keys(C).length)return!1;for(a=o;0!=a--;)if(!Object.prototype.hasOwnProperty.call(C,r[a]))return!1;if(e&&g instanceof Element)return!1;for(a=o;0!=a--;)if(("_owner"!==r[a]&&"__v"!==r[a]&&"__o"!==r[a]||!g.$$typeof)&&!l(g[r[a]],C[r[a]]))return!1;return!0}return g!=g&&C!=C}g.exports=function(g,e){try{return l(g,e)}catch(g){if((g.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw g}}},1529:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PathTooltip=void 0;const t=I(7582).__importStar(I(7294));e.PathTooltip=g=>{const[e,I]=t.useState(!0),[n,l]=t.useState({x:0,y:0,w:0,h:0,isLeft:!1,isTop:!1}),[C]=t.useState(g.fontSize||12),[o]=t.useState(g.fontFamily||"sans-serif"),[a]=t.useState(g.bgColor||"black"),[r]=t.useState(g.textColor||"white"),[i]=t.useState(g.rtl||!1),c=g.pathRef,A=g.svgRef,d=t.createRef();t.useEffect((()=>{c&&c.current&&(c.current.addEventListener("mouseover",(()=>{I(!1)})),c.current.addEventListener("mouseleave",(()=>{I(!0)})),c.current.addEventListener("mousemove",(g=>{e||(g=>{if(A&&c&&d&&A.current&&c.current&&d.current){const e=A.current.getBoundingClientRect(),I=d.current.getBoundingClientRect(),t=g.x-e.x>e.width/2,n=g.y-e.y>e.height/2,C=I.width+20,o=I.height+20,a=t?g.x-e.x+8-C:g.x-e.x-8,r=n?g.y-e.y-12-o:g.y-e.y+8;l({x:a,y:r,w:C,h:o,isLeft:t,isTop:n})}})(g)})))}),[c,A,d,e]);const s=(n.x+7).toString()+","+(n.y-10).toString()+" "+(n.x+30).toString()+","+n.y.toString()+" "+(n.x+22).toString()+","+n.y.toString(),u=(n.x+n.w-8).toString()+","+(n.y-10).toString()+" "+(n.x+n.w-25).toString()+","+n.y.toString()+" "+(n.x+n.w-15).toString()+","+n.y.toString(),m=(n.x+7).toString()+","+(n.y+n.h+10).toString()+" "+(n.x+15).toString()+","+(n.y+n.h).toString()+" "+(n.x+7).toString()+","+(n.y+n.h).toString(),b=(n.x+n.w-7).toString()+","+(n.y+n.h+10).toString()+" "+(n.x+n.w-15).toString()+","+(n.y+n.h).toString()+" "+(n.x+n.w-7).toString()+","+(n.y+n.h).toString(),Z=n.isLeft&&n.isTop?b:n.isTop?m:n.isLeft?u:s,p=(g,e)=>{let I=0,t=-1;if(g.length<=e)return["",g];for(;I<=g.length&&I<=e;)" "===g[I]&&(t=I),I++;return-1!==t?[g.slice(0,t),g.slice(t+1)]:[g.slice(0,e),g.slice(e+1)]},G=[],h=p(g.tip,35-(1*C-11));G.push(h[0]);let y=h[1],B=h[1];for(;""!==y;){const g=p(y===B?y:B,35-(1*C-11));y=g[0],B=g[1],G.push(""===y?g[1]:g[0])}return t.default.createElement("g",{pointerEvents:"none"},t.default.createElement("rect",{x:n.x,y:n.y,width:n.w,rx:5,ry:5,height:n.h,fill:a,visibility:e?"hidden":"visible"}),t.default.createElement("polygon",{fill:a,visibility:e?"hidden":"visible",points:Z}),t.default.createElement("text",{ref:d,x:i?n.x+n.w-10:n.x+10,y:n.y,cursor:"default",fontFamily:o,fontSize:C,fill:r,visibility:e?"hidden":"visible"},g.tip.length>35-1*(C-11)?G.map(((g,e)=>t.default.createElement("tspan",{key:g,x:i?n.x+n.w-10:n.x+10,y:n.y+(1*C-11+20)+20*e},g))):t.default.createElement("tspan",{x:i?n.x+n.w-10:n.x+10,y:n.y+(1*C-11+20)},g.tip)))}},2090:function(g,e,I){g.exports=function(g){"use strict";function e(g){if(g&&g.__esModule)return g;var e=Object.create(null);return g&&Object.keys(g).forEach((function(I){if("default"!==I){var t=Object.getOwnPropertyDescriptor(g,I);Object.defineProperty(e,I,t.get?t:{enumerable:!0,get:function(){return g[I]}})}})),e.default=g,Object.freeze(e)}var I=e(g);function t(){return t=Object.assign?Object.assign.bind():function(g){for(var e=1;e<arguments.length;e++){var I=arguments[e];for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&(g[t]=I[t])}return g},t.apply(this,arguments)}function n(g,e,I){return e in g?Object.defineProperty(g,e,{value:I,enumerable:!0,configurable:!0,writable:!0}):g[e]=I,g}function l(g,e){(null==e||e>g.length)&&(e=g.length);for(var I=0,t=new Array(e);I<e;I++)t[I]=g[I];return t}function C(g,e){return function(g){if(Array.isArray(g))return g}(g)||function(g,e){var I=null==g?null:"undefined"!=typeof Symbol&&g[Symbol.iterator]||g["@@iterator"];if(null!=I){var t,n,l=[],C=!0,o=!1;try{for(I=I.call(g);!(C=(t=I.next()).done)&&(l.push(t.value),!e||l.length!==e);C=!0);}catch(g){o=!0,n=g}finally{try{C||null==I.return||I.return()}finally{if(o)throw n}}return l}}(g,e)||function(g,e){if(g){if("string"==typeof g)return l(g,e);var I=Object.prototype.toString.call(g).slice(8,-1);return"Object"===I&&g.constructor&&(I=g.constructor.name),"Map"===I||"Set"===I?Array.from(g):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?l(g,e):void 0}}(g,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(g,e){if(null==g)return{};var I,t,n=function(g,e){if(null==g)return{};var I,t,n={},l=Object.keys(g);for(t=0;t<l.length;t++)I=l[t],e.indexOf(I)>=0||(n[I]=g[I]);return n}(g,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);for(t=0;t<l.length;t++)I=l[t],e.indexOf(I)>=0||Object.prototype.propertyIsEnumerable.call(g,I)&&(n[I]=g[I])}return n}var a={exports:{}},r={exports:{}},i={},c="function"==typeof Symbol&&Symbol.for,A=c?Symbol.for("react.element"):60103,d=c?Symbol.for("react.portal"):60106,s=c?Symbol.for("react.fragment"):60107,u=c?Symbol.for("react.strict_mode"):60108,m=c?Symbol.for("react.profiler"):60114,b=c?Symbol.for("react.provider"):60109,Z=c?Symbol.for("react.context"):60110,p=c?Symbol.for("react.async_mode"):60111,G=c?Symbol.for("react.concurrent_mode"):60111,h=c?Symbol.for("react.forward_ref"):60112,y=c?Symbol.for("react.suspense"):60113,B=c?Symbol.for("react.suspense_list"):60120,S=c?Symbol.for("react.memo"):60115,W=c?Symbol.for("react.lazy"):60116,V=c?Symbol.for("react.block"):60121,R=c?Symbol.for("react.fundamental"):60117,v=c?Symbol.for("react.responder"):60118,f=c?Symbol.for("react.scope"):60119;function X(g){if("object"==typeof g&&null!==g){var e=g.$$typeof;switch(e){case A:switch(g=g.type){case p:case G:case s:case m:case u:case y:return g;default:switch(g=g&&g.$$typeof){case Z:case h:case W:case S:case b:return g;default:return e}}case d:return e}}}function k(g){return X(g)===G}i.AsyncMode=p,i.ConcurrentMode=G,i.ContextConsumer=Z,i.ContextProvider=b,i.Element=A,i.ForwardRef=h,i.Fragment=s,i.Lazy=W,i.Memo=S,i.Portal=d,i.Profiler=m,i.StrictMode=u,i.Suspense=y,i.isAsyncMode=function(g){return k(g)||X(g)===p},i.isConcurrentMode=k,i.isContextConsumer=function(g){return X(g)===Z},i.isContextProvider=function(g){return X(g)===b},i.isElement=function(g){return"object"==typeof g&&null!==g&&g.$$typeof===A},i.isForwardRef=function(g){return X(g)===h},i.isFragment=function(g){return X(g)===s},i.isLazy=function(g){return X(g)===W},i.isMemo=function(g){return X(g)===S},i.isPortal=function(g){return X(g)===d},i.isProfiler=function(g){return X(g)===m},i.isStrictMode=function(g){return X(g)===u},i.isSuspense=function(g){return X(g)===y},i.isValidElementType=function(g){return"string"==typeof g||"function"==typeof g||g===s||g===G||g===m||g===u||g===y||g===B||"object"==typeof g&&null!==g&&(g.$$typeof===W||g.$$typeof===S||g.$$typeof===b||g.$$typeof===Z||g.$$typeof===h||g.$$typeof===R||g.$$typeof===v||g.$$typeof===f||g.$$typeof===V)},i.typeOf=X,r.exports=i,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de","5"===Object.getOwnPropertyNames(g)[0])return!1;for(var e={},I=0;I<10;I++)e["_"+String.fromCharCode(I)]=I;var t=Object.getOwnPropertyNames(e).map((function(g){return e[g]}));if("0123456789"!==t.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(g){n[g]=g})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(g){return!1}}()&&Object.assign;Function.call.bind(Object.prototype.hasOwnProperty),r.exports;function J(){}function Y(){}Y.resetWarningCache=J;a.exports=function(){function g(g,e,I,t,n,l){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==l){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}function e(){return g}g.isRequired=g;var I={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:e,element:g,elementType:g,instanceOf:e,node:g,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Y,resetWarningCache:J};return I.PropTypes=I,I}();var H=a.exports;function w(g,e,I){var t=void 0===e?null:e,n=function(g,e){var I=atob(g);if(e){for(var t=new Uint8Array(I.length),n=0,l=I.length;n<l;++n)t[n]=I.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(t.buffer))}return I}(g,void 0!==I&&I),l=n.indexOf("\n",10)+1,C=n.substring(l)+(t?"//# sourceMappingURL="+t:""),o=new Blob([C],{type:"application/javascript"});return URL.createObjectURL(o)}var N,F,K,x,z=(N="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg==",F=null,K=!1,function(g){return x=x||w(N,F,K),new Worker(x,g)}),M=["constraints","onError","onLoad","onScan","resolution","qrArea"];function E(g,e){var I=Object.keys(g);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(g);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(g,e).enumerable}))),I.push.apply(I,t)}return I}function L(g){for(var e=1;e<arguments.length;e++){var I=null!=arguments[e]?arguments[e]:{};e%2?E(Object(I),!0).forEach((function(e){n(g,e,I[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(I)):E(Object(I)).forEach((function(e){Object.defineProperty(g,e,Object.getOwnPropertyDescriptor(I,e))}))}return g}var U=function(g){g&&(g.getVideoTracks&&g.getAudioTracks?(g.getVideoTracks().forEach((function(e){g.removeTrack(e),e.stop()})),g.getAudioTracks().forEach((function(e){g.removeTrack(e),e.stop()}))):g.stop())},Q=function(g){var e=g.constraints,n=g.onError,l=g.onLoad,a=g.onScan,r=g.resolution,i=g.qrArea,c=o(g,M),A=I.useRef(null),d=I.useRef(null),s=I.useRef(document.createElement("canvas")),u=I.useRef(null),m=I.useRef(),b=C(I.useState(null),2),Z=b[0],p=b[1],G=I.useRef(!1),h=I.useRef();I.useEffect((function(){h.current=new z;var g=h.current;return g.onmessage=function(g){a&&a(g.data?L(L({},g.data),{},{canvas:s.current}):null),G.current=!1},function(){g.terminate()}}),[a]);var y=JSON.stringify(i),B=I.useCallback((function(){var g=JSON.parse(y),e=h.current,I=d.current&&d.current.readyState===d.current.HAVE_ENOUGH_DATA;if(!G.current&&I){G.current=!0;var t,n=d.current.videoWidth,l=d.current.videoHeight,C=n>l?n:l,o=Math.floor(r/C*100)/100;l=Math.floor(o*l),n=Math.floor(o*n),s.current.width=n,s.current.height=l,u.current=s.current.getContext("2d"),u.current.drawImage(d.current,0,0,n,l),t=g&&2===g.length&&g[0]>0&&g[1]>0?u.current.getImageData(Math.floor((n-g[0])/2),Math.floor((l-g[1])/2),g[0],g[1]):u.current.getImageData(0,0,n,l),e.postMessage(t)}m.current=requestAnimationFrame(B)}),[r,y]),S=JSON.stringify(e);return I.useEffect((function(){var g=JSON.parse(S),e=!0;return navigator.mediaDevices.getUserMedia(g).then((function(g){if(e){A.current=g;try{d.current&&(d.current.srcObject=g,d.current.setAttribute("playsinline",!0))}catch(e){p(window.URL.createObjectURL(g))}l&&l(),m.current=requestAnimationFrame(B)}else U(g)})).catch((function(g){return e?n(g):null})),function(){cancelAnimationFrame(m.current),e=!1,U(A.current),Z&&window.URL.revokeObjectURL(Z)}}),[B,S,n,l,Z]),I.createElement("video",t({autoPlay:!0,playsInline:!0,src:Z,ref:d},c))};return Q.propTypes={constraints:H.object,onError:H.func.isRequired,onLoad:H.func,onScan:H.func.isRequired,resolution:H.number,qrArea:H.array},Q.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]},Q}(I(7294))},2164:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=I(7582).__importStar(I(7294));e.default=function({color:g}){return t.createElement("rect",{x:0,y:0,width:"100%",height:"100%",stroke:g,fill:"none"})}},7951:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=I(7582).__importStar(I(7294));function n(g){return e=>{e.currentTarget.style.strokeWidth="1",e.currentTarget.style.strokeOpacity=String(g)}}e.default=t.forwardRef((function({href:g,...e},I){const l=t.createElement("path",{onMouseOver:(C=Number(e.strokeOpacity),g=>{g.currentTarget.style.strokeWidth="2",g.currentTarget.style.strokeOpacity=String(Math.min(C+.3,1))}),onMouseOut:n(Number(e.strokeOpacity)),ref:I,...e});var C;return g?t.createElement("a",{..."string"==typeof g?{href:g}:g},l):l}))},7425:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=I(7582).__importStar(I(7294));e.default=function({label:g,...e}){return t.createElement("text",{...e},g)}},6061:function(g,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTooltip=e.defaultCountryStyle=e.sizeMap=e.heightRatio=e.defaultColor=e.defaultSize=void 0,e.defaultSize="xl",e.defaultColor="#dddddd",e.heightRatio=3/4,e.sizeMap={sm:240,md:336,lg:480,xl:640,xxl:1200},e.defaultCountryStyle=(g,e)=>I=>{const{countryValue:t,minValue:n,maxValue:l,color:C}=I,o="string"==typeof t?n:t;let a=void 0!==o?.2+(o-n)/(l-n)*.6:0;return Number.isNaN(a)&&(a=.8),{fill:C,fillOpacity:a,stroke:g,strokeWidth:1,strokeOpacity:e,cursor:"pointer"}},e.defaultTooltip=g=>{const{countryName:e,countryValue:I,prefix:t,suffix:n}=g;return`${e} ${t} ${I.toLocaleString()} ${n}`}},4848:function(g,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={features:[{N:"Fiji",I:"FJ",C:[[[[180,-16.067],[180,-16.555],[179.364,-16.801],[178.725,-17.012],[178.597,-16.639],[179.097,-16.434],[179.414,-16.379],[180,-16.067]]],[[[178.126,-17.505],[178.374,-17.34],[178.718,-17.628],[178.553,-18.151],[177.933,-18.288],[177.381,-18.164],[177.285,-17.725],[177.671,-17.381],[178.126,-17.505]]],[[[-179.793,-16.021],[-179.917,-16.502],[-180,-16.555],[-180,-16.067],[-179.793,-16.021]]]]},{N:"Tanzania",I:"TZ",C:[[[[33.904,-.95],[34.073,-1.06],[37.699,-3.097],[37.767,-3.677],[39.202,-4.677],[38.741,-5.909],[38.8,-6.476],[39.44,-6.84],[39.47,-7.1],[39.195,-7.704],[39.252,-8.008],[39.187,-8.486],[39.536,-9.112],[39.95,-10.098],[40.317,-10.317],[40.317,-10.317],[39.521,-10.897],[38.428,-11.285],[37.828,-11.269],[37.471,-11.569],[36.775,-11.595],[36.514,-11.721],[35.312,-11.439],[34.56,-11.52],[34.28,-10.16],[33.941,-9.694],[33.74,-9.417],[32.759,-9.231],[32.192,-8.93],[31.556,-8.762],[31.158,-8.595],[30.74,-8.34],[30.74,-8.34],[30.2,-7.08],[29.62,-6.52],[29.42,-5.94],[29.52,-5.42],[29.34,-4.5],[29.754,-4.452],[30.116,-4.09],[30.506,-3.569],[30.752,-3.359],[30.743,-3.034],[30.528,-2.808],[30.47,-2.414],[30.47,-2.414],[30.758,-2.287],[30.816,-1.699],[30.419,-1.135],[30.77,-1.015],[31.866,-1.027],[33.904,-.95]]]]},{N:"Western Sahara",I:"EH",C:[[[[-8.666,27.656],[-8.665,27.589],[-8.684,27.396],[-8.687,25.881],[-11.969,25.933],[-11.937,23.375],[-12.874,23.285],[-13.119,22.771],[-12.929,21.327],[-16.845,21.333],[-17.063,21],[-17.02,21.422],[-17.003,21.421],[-14.751,21.501],[-14.631,21.861],[-14.221,22.31],[-13.891,23.691],[-12.501,24.77],[-12.031,26.031],[-11.718,26.104],[-11.393,26.883],[-10.551,26.991],[-10.189,26.861],[-9.735,26.861],[-9.413,27.088],[-8.795,27.121],[-8.818,27.656],[-8.666,27.656]]]]},{N:"Canada",I:"CA",C:[[[[-122.84,49],[-122.974,49.003],[-124.91,49.985],[-125.625,50.417],[-127.436,50.831],[-127.993,51.716],[-127.85,52.33],[-129.13,52.755],[-129.305,53.562],[-130.515,54.288],[-130.536,54.803],[-130.536,54.803],[-129.98,55.285],[-130.008,55.916],[-131.708,56.552],[-132.73,57.693],[-133.356,58.41],[-134.271,58.861],[-134.945,59.271],[-135.476,59.788],[-136.48,59.464],[-137.452,58.905],[-138.341,59.562],[-139.039,60],[-140.013,60.277],[-140.998,60.306],[-140.993,66],[-140.986,69.712],[-140.986,69.712],[-139.121,69.471],[-137.546,68.99],[-136.504,68.898],[-135.626,69.315],[-134.415,69.627],[-132.929,69.505],[-131.431,69.945],[-129.795,70.194],[-129.108,69.779],[-128.362,70.013],[-128.138,70.484],[-127.447,70.377],[-125.756,69.481],[-124.425,70.158],[-124.29,69.4],[-123.061,69.564],[-122.683,69.856],[-121.472,69.798],[-119.943,69.378],[-117.603,69.011],[-116.226,68.842],[-115.247,68.906],[-113.898,68.399],[-115.305,67.903],[-113.497,67.688],[-110.798,67.806],[-109.946,67.981],[-108.88,67.381],[-107.792,67.887],[-108.813,68.312],[-108.167,68.654],[-106.95,68.7],[-106.15,68.8],[-105.343,68.561],[-104.338,68.018],[-103.221,68.098],[-101.454,67.647],[-99.902,67.806],[-98.443,67.782],[-98.559,68.404],[-97.669,68.579],[-96.12,68.239],[-96.126,67.293],[-95.489,68.091],[-94.685,68.064],[-94.233,69.069],[-95.304,69.686],[-96.471,70.09],[-96.391,71.195],[-95.209,71.921],[-93.89,71.76],[-92.878,71.319],[-91.52,70.191],[-92.407,69.7],[-90.547,69.498],[-90.552,68.475],[-89.215,69.259],[-88.02,68.615],[-88.317,67.873],[-87.35,67.199],[-86.306,67.921],[-85.577,68.785],[-85.522,69.882],[-84.101,69.805],[-82.623,69.658],[-81.28,69.162],[-81.22,68.666],[-81.964,68.133],[-81.259,67.597],[-81.387,67.111],[-83.345,66.412],[-84.735,66.257],[-85.769,66.558],[-86.068,66.056],[-87.031,65.213],[-87.323,64.776],[-88.483,64.099],[-89.914,64.033],[-90.704,63.61],[-90.77,62.96],[-91.933,62.835],[-93.157,62.025],[-94.242,60.899],[-94.629,60.11],[-94.685,58.949],[-93.215,58.782],[-92.765,57.846],[-92.297,57.087],[-90.898,57.285],[-89.04,56.852],[-88.04,56.472],[-87.324,55.999],[-86.071,55.724],[-85.012,55.303],[-83.361,55.245],[-82.273,55.148],[-82.436,54.282],[-82.125,53.277],[-81.401,52.158],[-79.913,51.208],[-79.143,51.534],[-78.602,52.562],[-79.124,54.141],[-79.83,54.668],[-78.229,55.136],[-77.096,55.837],[-76.541,56.534],[-76.623,57.203],[-77.302,58.052],[-78.517,58.805],[-77.337,59.853],[-77.773,60.758],[-78.107,62.32],[-77.411,62.551],[-75.696,62.278],[-74.668,62.181],[-73.84,62.444],[-72.909,62.105],[-71.677,61.525],[-71.374,61.137],[-69.59,61.061],[-69.62,60.221],[-69.288,58.957],[-68.375,58.801],[-67.65,58.212],[-66.202,58.767],[-65.245,59.871],[-64.584,60.336],[-63.805,59.443],[-62.502,58.167],[-61.397,56.967],[-61.799,56.339],[-60.469,55.775],[-59.57,55.204],[-57.975,54.945],[-57.333,54.627],[-56.937,53.78],[-56.158,53.647],[-55.756,53.27],[-55.683,52.147],[-56.409,51.771],[-57.127,51.42],[-58.775,51.064],[-60.033,50.243],[-61.724,50.08],[-63.863,50.291],[-65.363,50.298],[-66.399,50.229],[-67.236,49.512],[-68.511,49.068],[-69.954,47.745],[-71.105,46.822],[-70.255,46.986],[-68.65,48.3],[-66.552,49.133],[-65.056,49.233],[-64.171,48.742],[-65.115,48.071],[-64.799,46.993],[-64.472,46.238],[-63.173,45.739],[-61.521,45.884],[-60.518,47.008],[-60.449,46.283],[-59.803,45.92],[-61.04,45.265],[-63.255,44.67],[-64.247,44.266],[-65.364,43.545],[-66.123,43.619],[-66.162,44.465],[-64.425,45.292],[-66.026,45.259],[-67.137,45.138],[-67.791,45.703],[-67.79,47.066],[-68.234,47.355],[-68.905,47.185],[-69.237,47.448],[-70,46.693],[-70.305,45.915],[-70.66,45.46],[-71.085,45.305],[-71.405,45.255],[-71.505,45.008],[-73.348,45.007],[-74.867,45],[-75.318,44.816],[-76.375,44.096],[-76.5,44.018],[-76.82,43.629],[-77.738,43.629],[-78.72,43.625],[-79.172,43.466],[-79.01,43.27],[-78.92,42.965],[-78.939,42.864],[-80.247,42.366],[-81.278,42.209],[-82.439,41.675],[-82.69,41.675],[-83.03,41.833],[-83.142,41.976],[-83.12,42.08],[-82.9,42.43],[-82.43,42.98],[-82.138,43.571],[-82.338,44.44],[-82.551,45.348],[-83.593,45.817],[-83.47,45.995],[-83.616,46.117],[-83.891,46.117],[-84.092,46.275],[-84.142,46.512],[-84.337,46.409],[-84.605,46.44],[-84.544,46.539],[-84.779,46.637],[-84.876,46.9],[-85.652,47.22],[-86.462,47.553],[-87.44,47.94],[-88.378,48.303],[-89.273,48.02],[-89.6,48.01],[-90.83,48.27],[-91.64,48.14],[-92.61,48.45],[-93.631,48.609],[-94.329,48.671],[-94.64,48.84],[-94.818,49.389],[-95.156,49.384],[-95.159,49],[-97.229,49.001],[-100.65,49],[-104.048,49],[-107.05,49],[-110.05,49],[-113,49],[-116.048,49],[-117.031,49],[-120,49],[-122.84,49]]],[[[-83.994,62.453],[-83.25,62.914],[-81.877,62.905],[-81.898,62.711],[-83.069,62.159],[-83.775,62.182],[-83.994,62.453]]],[[[-79.776,72.803],[-80.876,73.333],[-80.834,73.693],[-80.353,73.76],[-78.064,73.652],[-76.34,73.103],[-76.251,72.826],[-77.314,72.856],[-78.392,72.877],[-79.486,72.742],[-79.776,72.803]]],[[[-80.315,62.086],[-79.929,62.386],[-79.52,62.364],[-79.266,62.159],[-79.658,61.633],[-80.1,61.718],[-80.362,62.016],[-80.315,62.086]]],[[[-93.613,74.98],[-94.157,74.592],[-95.609,74.667],[-96.821,74.928],[-96.289,75.378],[-94.851,75.647],[-93.978,75.296],[-93.613,74.98]]],[[[-93.84,77.52],[-94.296,77.491],[-96.17,77.555],[-96.436,77.835],[-94.423,77.82],[-93.721,77.634],[-93.84,77.52]]],[[[-96.754,78.766],[-95.559,78.418],[-95.83,78.057],[-97.31,77.851],[-98.124,78.083],[-98.553,78.458],[-98.632,78.872],[-97.337,78.832],[-96.754,78.766]]],[[[-88.15,74.392],[-89.765,74.516],[-92.422,74.838],[-92.768,75.387],[-92.89,75.883],[-93.894,76.319],[-95.962,76.441],[-97.121,76.751],[-96.745,77.161],[-94.684,77.098],[-93.574,76.776],[-91.605,76.779],[-90.742,76.45],[-90.97,76.074],[-89.822,75.848],[-89.187,75.61],[-87.838,75.566],[-86.379,75.482],[-84.79,75.699],[-82.753,75.784],[-81.129,75.714],[-80.058,75.337],[-79.834,74.923],[-80.458,74.657],[-81.949,74.442],[-83.229,74.564],[-86.097,74.41],[-88.15,74.392]]],[[[-111.264,78.153],[-109.854,77.996],[-110.187,77.697],[-112.051,77.409],[-113.534,77.732],[-112.725,78.051],[-111.264,78.153]]],[[[-110.964,78.804],[-109.663,78.602],[-110.881,78.407],[-112.542,78.408],[-112.526,78.551],[-111.5,78.85],[-110.964,78.804]]],[[[-55.6,51.317],[-56.134,50.687],[-56.796,49.812],[-56.143,50.15],[-55.471,49.936],[-55.822,49.587],[-54.935,49.313],[-54.474,49.557],[-53.477,49.249],[-53.786,48.517],[-53.086,48.688],[-52.959,48.157],[-52.648,47.536],[-53.069,46.655],[-53.521,46.618],[-54.179,46.807],[-53.962,47.625],[-54.24,47.752],[-55.401,46.885],[-55.997,46.92],[-55.291,47.39],[-56.251,47.633],[-57.325,47.573],[-59.266,47.603],[-59.419,47.899],[-58.797,48.252],[-59.232,48.523],[-58.392,49.126],[-57.359,50.718],[-56.739,51.287],[-55.871,51.632],[-55.407,51.588],[-55.6,51.317]]],[[[-83.883,65.11],[-82.788,64.767],[-81.642,64.455],[-81.553,63.98],[-80.817,64.057],[-80.103,63.726],[-80.991,63.411],[-82.547,63.652],[-83.109,64.102],[-84.1,63.57],[-85.523,63.052],[-85.867,63.637],[-87.222,63.541],[-86.353,64.036],[-86.225,64.823],[-85.884,65.739],[-85.161,65.657],[-84.976,65.218],[-84.464,65.372],[-83.883,65.11]]],[[[-78.771,72.352],[-77.825,72.75],[-75.606,72.244],[-74.229,71.767],[-74.099,71.331],[-72.242,71.557],[-71.2,70.92],[-68.786,70.525],[-67.915,70.122],[-66.969,69.186],[-68.805,68.72],[-66.45,68.067],[-64.862,67.848],[-63.425,66.928],[-61.852,66.862],[-62.163,66.16],[-63.918,64.999],[-65.149,65.426],[-66.721,66.388],[-68.015,66.263],[-68.141,65.69],[-67.09,65.108],[-65.732,64.648],[-65.32,64.383],[-64.669,63.393],[-65.014,62.674],[-66.275,62.945],[-68.783,63.746],[-67.37,62.884],[-66.328,62.28],[-66.166,61.931],[-68.877,62.33],[-71.023,62.911],[-72.235,63.398],[-71.886,63.68],[-73.378,64.194],[-74.834,64.679],[-74.819,64.389],[-77.71,64.23],[-78.556,64.573],[-77.897,65.309],[-76.018,65.327],[-73.96,65.455],[-74.294,65.812],[-73.945,66.311],[-72.651,67.285],[-72.926,67.727],[-73.312,68.069],[-74.843,68.555],[-76.869,68.895],[-76.229,69.148],[-77.287,69.77],[-78.169,69.826],[-78.957,70.167],[-79.492,69.872],[-81.305,69.743],[-84.945,69.967],[-87.06,70.26],[-88.682,70.411],[-89.513,70.762],[-88.468,71.218],[-89.888,71.223],[-90.205,72.235],[-89.437,73.129],[-88.408,73.538],[-85.826,73.804],[-86.562,73.157],[-85.774,72.534],[-84.85,73.34],[-82.316,73.751],[-80.6,72.717],[-80.749,72.062],[-78.771,72.352]]],[[[-94.504,74.135],[-92.42,74.1],[-90.51,73.857],[-92.004,72.966],[-93.196,72.772],[-94.269,72.025],[-95.41,72.062],[-96.034,72.94],[-96.018,73.437],[-95.496,73.862],[-94.504,74.135]]],[[[-122.855,76.117],[-122.855,76.117],[-121.158,76.865],[-119.104,77.512],[-117.57,77.498],[-116.199,77.645],[-116.336,76.877],[-117.106,76.53],[-118.04,76.481],[-119.899,76.053],[-121.5,75.9],[-122.855,76.117]]],[[[-132.71,54.04],[-131.75,54.12],[-132.049,52.985],[-131.179,52.18],[-131.578,52.182],[-132.18,52.64],[-132.55,53.1],[-133.055,53.411],[-133.24,53.851],[-133.18,54.17],[-132.71,54.04]]],[[[-105.492,79.302],[-103.529,79.165],[-100.825,78.8],[-100.06,78.325],[-99.671,77.908],[-101.304,78.019],[-102.95,78.343],[-105.176,78.38],[-104.21,78.677],[-105.42,78.918],[-105.492,79.302]]],[[[-123.51,48.51],[-124.013,48.371],[-125.655,48.825],[-125.955,49.18],[-126.85,49.53],[-127.03,49.815],[-128.059,49.995],[-128.445,50.539],[-128.358,50.771],[-127.309,50.553],[-126.695,50.401],[-125.755,50.295],[-125.415,49.95],[-124.921,49.475],[-123.923,49.062],[-123.51,48.51]]],[[[-121.538,74.449],[-120.11,74.241],[-117.556,74.186],[-116.584,73.896],[-115.511,73.475],[-116.768,73.223],[-119.22,72.52],[-120.46,71.82],[-120.46,71.384],[-123.092,70.902],[-123.62,71.34],[-125.929,71.869],[-125.5,72.292],[-124.807,73.023],[-123.94,73.68],[-124.918,74.293],[-121.538,74.449]]],[[[-107.819,75.846],[-106.929,76.013],[-105.881,75.969],[-105.705,75.48],[-106.313,75.005],[-109.7,74.85],[-112.223,74.417],[-113.744,74.394],[-113.871,74.72],[-111.794,75.162],[-116.312,75.043],[-117.71,75.222],[-116.346,76.199],[-115.405,76.479],[-112.591,76.141],[-110.814,75.549],[-109.067,75.473],[-110.497,76.43],[-109.581,76.794],[-108.549,76.678],[-108.211,76.202],[-107.819,75.846]]],[[[-106.523,73.076],[-105.402,72.673],[-104.775,71.698],[-104.465,70.993],[-102.785,70.498],[-100.981,70.024],[-101.089,69.584],[-102.731,69.504],[-102.093,69.12],[-102.43,68.753],[-104.24,68.91],[-105.96,69.18],[-107.123,69.119],[-109,68.78],[-111.534,68.63],[-113.313,68.536],[-113.855,69.007],[-115.22,69.28],[-116.108,69.168],[-117.34,69.96],[-116.675,70.067],[-115.131,70.237],[-113.721,70.192],[-112.416,70.366],[-114.35,70.6],[-116.487,70.52],[-117.905,70.541],[-118.432,70.909],[-116.113,71.309],[-117.656,71.295],[-119.402,71.559],[-118.563,72.308],[-117.866,72.706],[-115.189,73.315],[-114.167,73.121],[-114.666,72.653],[-112.441,72.955],[-111.05,72.45],[-109.92,72.961],[-109.007,72.633],[-108.188,71.651],[-107.686,72.065],[-108.396,73.09],[-107.516,73.236],[-106.523,73.076]]],[[[-100.438,72.706],[-101.54,73.36],[-100.356,73.844],[-99.164,73.633],[-97.38,73.76],[-97.12,73.47],[-98.054,72.991],[-96.54,72.56],[-96.72,71.66],[-98.36,71.273],[-99.323,71.356],[-100.015,71.738],[-102.5,72.51],[-102.48,72.83],[-100.438,72.706]]],[[[-106.6,73.6],[-105.26,73.64],[-104.5,73.42],[-105.38,72.76],[-106.94,73.46],[-106.6,73.6]]],[[[-98.5,76.72],[-97.736,76.257],[-97.704,75.743],[-98.16,75],[-99.809,74.897],[-100.884,75.057],[-100.863,75.641],[-102.502,75.564],[-102.566,76.337],[-101.49,76.305],[-99.983,76.646],[-98.577,76.589],[-98.5,76.72]]],[[[-96.016,80.602],[-95.323,80.907],[-94.298,80.977],[-94.735,81.206],[-92.41,81.257],[-91.133,80.723],[-89.45,80.509],[-87.81,80.32],[-87.02,79.66],[-85.814,79.337],[-87.188,79.039],[-89.035,78.287],[-90.804,78.215],[-92.877,78.343],[-93.951,78.751],[-93.936,79.114],[-93.145,79.38],[-94.974,79.372],[-96.076,79.705],[-96.71,80.158],[-96.016,80.602]]],[[[-91.587,81.894],[-90.1,82.085],[-88.932,82.118],[-86.97,82.28],[-85.5,82.652],[-84.26,82.6],[-83.18,82.32],[-82.42,82.86],[-81.1,83.02],[-79.307,83.131],[-76.25,83.172],[-75.719,83.064],[-72.832,83.233],[-70.666,83.17],[-68.5,83.106],[-65.827,83.028],[-63.68,82.9],[-61.85,82.629],[-61.894,82.362],[-64.334,81.928],[-66.753,81.725],[-67.658,81.501],[-65.48,81.507],[-67.84,80.9],[-69.47,80.617],[-71.18,79.8],[-73.243,79.634],[-73.88,79.43],[-76.908,79.323],[-75.529,79.198],[-76.22,79.019],[-75.393,78.526],[-76.344,78.183],[-77.889,77.9],[-78.363,77.509],[-79.76,77.21],[-79.62,76.983],[-77.911,77.022],[-77.889,76.778],[-80.561,76.178],[-83.174,76.454],[-86.112,76.299],[-87.6,76.42],[-89.491,76.472],[-89.616,76.952],[-87.767,77.178],[-88.26,77.9],[-87.65,77.97],[-84.976,77.539],[-86.34,78.18],[-87.962,78.372],[-87.152,78.759],[-85.379,78.997],[-85.095,79.345],[-86.507,79.736],[-86.932,80.251],[-84.198,80.208],[-83.409,80.1],[-81.848,80.464],[-84.1,80.58],[-87.599,80.516],[-89.367,80.856],[-90.2,81.26],[-91.368,81.553],[-91.587,81.894]]],[[[-75.216,67.444],[-75.866,67.149],[-76.987,67.099],[-77.236,67.588],[-76.812,68.149],[-75.895,68.287],[-75.115,68.01],[-75.103,67.582],[-75.216,67.444]]],[[[-96.257,69.49],[-95.648,69.108],[-96.27,68.757],[-97.617,69.06],[-98.432,68.951],[-99.797,69.4],[-98.917,69.71],[-98.218,70.144],[-97.157,69.86],[-96.557,69.68],[-96.257,69.49]]],[[[-64.519,49.873],[-64.173,49.957],[-62.858,49.706],[-61.836,49.289],[-61.806,49.105],[-62.293,49.087],[-63.589,49.401],[-64.519,49.873]]],[[[-64.015,47.036],[-63.664,46.55],[-62.939,46.416],[-62.012,46.443],[-62.504,46.033],[-62.874,45.968],[-64.143,46.393],[-64.393,46.727],[-64.015,47.036]]]]},{N:"United States",I:"US",C:[[[[-155.402,20.08],[-155.225,19.993],[-155.062,19.859],[-154.807,19.509],[-154.831,19.453],[-155.222,19.24],[-155.542,19.083],[-155.688,18.916],[-155.937,19.059],[-155.908,19.339],[-156.073,19.703],[-156.024,19.814],[-155.85,19.977],[-155.919,20.174],[-155.861,20.267],[-155.785,20.249],[-155.402,20.08]]],[[[-155.996,20.764],[-156.079,20.644],[-156.414,20.572],[-156.587,20.783],[-156.702,20.864],[-156.711,20.927],[-156.613,21.012],[-156.257,20.917],[-155.996,20.764]]],[[[-156.758,21.177],[-156.789,21.069],[-157.325,21.098],[-157.25,21.22],[-156.758,21.177]]],[[[-158.025,21.717],[-157.942,21.653],[-157.653,21.322],[-157.707,21.264],[-157.779,21.277],[-158.127,21.312],[-158.254,21.539],[-158.293,21.579],[-158.025,21.717]]],[[[-159.366,22.215],[-159.345,21.982],[-159.464,21.883],[-159.801,22.065],[-159.749,22.138],[-159.596,22.236],[-159.366,22.215]]],[[[-166.468,60.384],[-165.674,60.294],[-165.579,59.91],[-166.193,59.754],[-166.848,59.941],[-167.455,60.213],[-166.468,60.384]]],[[[-153.229,57.969],[-152.565,57.901],[-152.141,57.591],[-153.006,57.116],[-154.005,56.735],[-154.516,56.993],[-154.671,57.461],[-153.763,57.817],[-153.229,57.969]]],[[[-140.986,69.712],[-140.986,69.712],[-140.993,66],[-140.998,60.306],[-140.013,60.277],[-139.039,60],[-138.341,59.562],[-137.452,58.905],[-136.48,59.464],[-135.476,59.788],[-134.945,59.271],[-134.271,58.861],[-133.356,58.41],[-132.73,57.693],[-131.708,56.552],[-130.008,55.916],[-129.98,55.285],[-130.536,54.803],[-130.536,54.803],[-130.536,54.803],[-131.086,55.179],[-131.967,55.498],[-132.25,56.37],[-133.539,57.179],[-134.078,58.123],[-135.038,58.188],[-136.628,58.212],[-137.8,58.5],[-139.868,59.538],[-140.825,59.728],[-142.574,60.084],[-143.959,59.999],[-145.926,60.459],[-147.114,60.885],[-148.224,60.673],[-148.018,59.978],[-148.571,59.914],[-149.728,59.706],[-150.608,59.368],[-151.716,59.156],[-151.859,59.745],[-151.41,60.726],[-150.347,61.034],[-150.621,61.284],[-151.896,60.727],[-152.578,60.062],[-154.019,59.35],[-153.288,58.865],[-154.232,58.146],[-155.307,57.728],[-156.308,57.423],[-156.556,56.98],[-158.117,56.464],[-158.433,55.994],[-159.603,55.567],[-160.29,55.644],[-161.223,55.365],[-162.238,55.024],[-163.069,54.69],[-164.786,54.404],[-164.942,54.572],[-163.848,55.039],[-162.87,55.348],[-161.804,55.895],[-160.564,56.008],[-160.071,56.418],[-158.684,57.017],[-158.461,57.217],[-157.723,57.57],[-157.55,58.328],[-157.042,58.919],[-158.195,58.616],[-158.517,58.788],[-159.059,58.424],[-159.712,58.931],[-159.981,58.573],[-160.355,59.071],[-161.355,58.671],[-161.969,58.672],[-162.055,59.267],[-161.874,59.634],[-162.518,59.99],[-163.818,59.798],[-164.662,60.267],[-165.346,60.507],[-165.351,61.074],[-166.121,61.5],[-165.734,62.075],[-164.919,62.633],[-164.563,63.146],[-163.753,63.219],[-163.067,63.059],[-162.261,63.542],[-161.534,63.456],[-160.773,63.766],[-160.958,64.223],[-161.518,64.403],[-160.778,64.789],[-161.392,64.777],[-162.453,64.559],[-162.758,64.339],[-163.546,64.559],[-164.961,64.447],[-166.425,64.687],[-166.845,65.089],[-168.111,65.67],[-166.705,66.088],[-164.475,66.577],[-163.653,66.577],[-163.789,66.077],[-161.678,66.116],[-162.49,66.736],[-163.72,67.116],[-164.431,67.616],[-165.39,68.043],[-166.764,68.359],[-166.205,68.883],[-164.431,68.916],[-163.169,69.371],[-162.931,69.858],[-161.909,70.333],[-160.935,70.448],[-159.039,70.892],[-158.12,70.825],[-156.581,71.358],[-155.068,71.148],[-154.344,70.696],[-153.9,70.89],[-152.21,70.83],[-152.27,70.6],[-150.74,70.43],[-149.72,70.53],[-147.613,70.214],[-145.69,70.12],[-144.92,69.99],[-143.589,70.153],[-142.073,69.852],[-140.986,69.712],[-140.986,69.712]]],[[[-171.732,63.783],[-171.114,63.592],[-170.491,63.695],[-169.683,63.431],[-168.689,63.298],[-168.772,63.189],[-169.529,62.977],[-170.291,63.194],[-170.671,63.376],[-171.553,63.318],[-171.791,63.406],[-171.732,63.783]]],[[[-122.84,49],[-120,49],[-117.031,49],[-116.048,49],[-113,49],[-110.05,49],[-107.05,49],[-104.048,49],[-100.65,49],[-97.229,49.001],[-95.159,49],[-95.156,49.384],[-94.818,49.389],[-94.64,48.84],[-94.329,48.671],[-93.631,48.609],[-92.61,48.45],[-91.64,48.14],[-90.83,48.27],[-89.6,48.01],[-89.273,48.02],[-88.378,48.303],[-87.44,47.94],[-86.462,47.553],[-85.652,47.22],[-84.876,46.9],[-84.779,46.637],[-84.544,46.539],[-84.605,46.44],[-84.337,46.409],[-84.142,46.512],[-84.092,46.275],[-83.891,46.117],[-83.616,46.117],[-83.47,45.995],[-83.593,45.817],[-82.551,45.348],[-82.338,44.44],[-82.138,43.571],[-82.43,42.98],[-82.9,42.43],[-83.12,42.08],[-83.142,41.976],[-83.03,41.833],[-82.69,41.675],[-82.439,41.675],[-81.278,42.209],[-80.247,42.366],[-78.939,42.864],[-78.92,42.965],[-79.01,43.27],[-79.172,43.466],[-78.72,43.625],[-77.738,43.629],[-76.82,43.629],[-76.5,44.018],[-76.375,44.096],[-75.318,44.816],[-74.867,45],[-73.348,45.007],[-71.505,45.008],[-71.405,45.255],[-71.085,45.305],[-70.66,45.46],[-70.305,45.915],[-70,46.693],[-69.237,47.448],[-68.905,47.185],[-68.234,47.355],[-67.79,47.066],[-67.791,45.703],[-67.137,45.138],[-66.965,44.81],[-68.033,44.325],[-69.06,43.98],[-70.116,43.684],[-70.645,43.09],[-70.815,42.865],[-70.825,42.335],[-70.495,41.805],[-70.08,41.78],[-70.185,42.145],[-69.885,41.923],[-69.965,41.637],[-70.64,41.475],[-71.12,41.494],[-71.86,41.32],[-72.295,41.27],[-72.876,41.221],[-73.71,40.931],[-72.241,41.119],[-71.945,40.93],[-73.345,40.63],[-73.982,40.628],[-73.952,40.751],[-74.257,40.474],[-73.962,40.428],[-74.178,39.709],[-74.906,38.94],[-74.98,39.196],[-75.2,39.248],[-75.528,39.498],[-75.32,38.96],[-75.072,38.782],[-75.057,38.404],[-75.377,38.016],[-75.94,37.217],[-76.031,37.257],[-75.722,37.937],[-76.233,38.319],[-76.35,39.15],[-76.543,38.718],[-76.329,38.083],[-76.99,38.24],[-76.302,37.918],[-76.259,36.966],[-75.972,36.897],[-75.868,36.551],[-75.727,35.551],[-76.363,34.809],[-77.398,34.512],[-78.055,33.925],[-78.554,33.861],[-79.061,33.494],[-79.204,33.158],[-80.301,32.509],[-80.865,32.033],[-81.336,31.44],[-81.49,30.73],[-81.314,30.036],[-80.98,29.18],[-80.536,28.472],[-80.53,28.04],[-80.057,26.88],[-80.088,26.206],[-80.132,25.817],[-80.381,25.206],[-80.68,25.08],[-81.172,25.201],[-81.33,25.64],[-81.71,25.87],[-82.24,26.73],[-82.705,27.495],[-82.855,27.886],[-82.65,28.55],[-82.93,29.1],[-83.71,29.937],[-84.1,30.09],[-85.109,29.636],[-85.288,29.686],[-85.773,30.153],[-86.4,30.4],[-87.53,30.274],[-88.418,30.385],[-89.18,30.316],[-89.594,30.16],[-89.414,29.894],[-89.43,29.489],[-89.218,29.291],[-89.408,29.16],[-89.779,29.307],[-90.155,29.117],[-90.88,29.149],[-91.627,29.677],[-92.499,29.552],[-93.226,29.784],[-93.848,29.714],[-94.69,29.48],[-95.6,28.739],[-96.594,28.307],[-97.14,27.83],[-97.37,27.38],[-97.38,26.69],[-97.33,26.21],[-97.14,25.87],[-97.53,25.84],[-98.24,26.06],[-99.02,26.37],[-99.3,26.84],[-99.52,27.54],[-100.11,28.11],[-100.456,28.696],[-100.958,29.381],[-101.662,29.779],[-102.48,29.76],[-103.11,28.97],[-103.94,29.27],[-104.457,29.572],[-104.706,30.122],[-105.037,30.644],[-105.632,31.084],[-106.143,31.4],[-106.508,31.755],[-108.24,31.755],[-108.242,31.342],[-109.035,31.342],[-111.024,31.335],[-113.305,32.039],[-114.815,32.525],[-114.721,32.721],[-115.991,32.612],[-117.128,32.535],[-117.296,33.046],[-117.944,33.621],[-118.411,33.741],[-118.52,34.028],[-119.081,34.078],[-119.439,34.348],[-120.368,34.447],[-120.623,34.609],[-120.744,35.157],[-121.715,36.162],[-122.547,37.552],[-122.512,37.783],[-122.953,38.114],[-123.727,38.952],[-123.865,39.767],[-124.398,40.313],[-124.179,41.142],[-124.214,42],[-124.533,42.766],[-124.142,43.708],[-124.021,44.616],[-123.899,45.523],[-124.08,46.865],[-124.396,47.72],[-124.687,48.184],[-124.566,48.38],[-123.12,48.04],[-122.587,47.096],[-122.34,47.36],[-122.5,48.18],[-122.84,49]]]]},{N:"Kazakhstan",I:"KZ",C:[[[[87.36,49.215],[86.599,48.549],[85.768,48.456],[85.72,47.453],[85.164,47.001],[83.18,47.33],[82.459,45.54],[81.947,45.317],[79.966,44.918],[80.866,43.18],[80.18,42.92],[80.26,42.35],[79.644,42.497],[79.142,42.856],[77.658,42.961],[76,42.988],[75.637,42.878],[74.213,43.298],[73.645,43.091],[73.49,42.501],[71.845,42.845],[71.186,42.704],[70.962,42.266],[70.389,42.081],[69.07,41.384],[68.632,40.669],[68.26,40.662],[67.986,41.136],[66.714,41.168],[66.511,41.988],[66.023,41.995],[66.098,42.998],[64.901,43.728],[63.186,43.65],[62.013,43.504],[61.058,44.406],[60.24,44.784],[58.69,45.5],[58.503,45.587],[55.929,44.996],[55.968,41.309],[55.455,41.26],[54.755,42.044],[54.079,42.324],[52.944,42.116],[52.502,41.783],[52.446,42.027],[52.692,42.444],[52.501,42.792],[51.342,43.133],[50.891,44.031],[50.339,44.284],[50.306,44.61],[51.279,44.515],[51.317,45.246],[52.167,45.408],[53.041,45.259],[53.221,46.235],[53.043,46.853],[52.042,46.805],[51.192,47.049],[50.034,46.609],[49.101,46.399],[48.593,46.561],[48.695,47.076],[48.057,47.744],[47.315,47.716],[46.466,48.394],[47.044,49.152],[46.752,49.356],[47.549,50.455],[48.578,49.875],[48.702,50.605],[50.767,51.693],[52.329,51.719],[54.533,51.026],[55.717,50.622],[56.778,51.044],[58.363,51.064],[59.642,50.545],[59.933,50.842],[61.337,50.799],[61.588,51.273],[59.968,51.96],[60.927,52.448],[60.74,52.72],[61.7,52.98],[60.978,53.665],[61.437,54.006],[65.179,54.354],[65.667,54.601],[68.169,54.97],[69.068,55.385],[70.865,55.17],[71.18,54.133],[72.224,54.377],[73.509,54.036],[73.426,53.49],[74.385,53.547],[76.891,54.491],[76.525,54.177],[77.801,53.404],[80.036,50.865],[80.568,51.388],[81.946,50.812],[83.383,51.069],[83.935,50.889],[84.416,50.311],[85.116,50.117],[85.541,49.693],[86.829,49.827],[87.36,49.215]]]]},{N:"Uzbekistan",I:"UZ",C:[[[[55.968,41.309],[55.929,44.996],[58.503,45.587],[58.69,45.5],[60.24,44.784],[61.058,44.406],[62.013,43.504],[63.186,43.65],[64.901,43.728],[66.098,42.998],[66.023,41.995],[66.511,41.988],[66.714,41.168],[67.986,41.136],[68.26,40.662],[68.632,40.669],[69.07,41.384],[70.389,42.081],[70.962,42.266],[71.259,42.168],[70.42,41.52],[71.158,41.144],[71.87,41.393],[73.055,40.866],[71.775,40.146],[71.014,40.244],[70.601,40.219],[70.458,40.496],[70.667,40.96],[69.329,40.728],[69.012,40.086],[68.536,39.533],[67.701,39.58],[67.442,39.14],[68.176,38.902],[68.392,38.157],[67.83,37.145],[67.076,37.356],[66.519,37.363],[66.546,37.975],[65.216,38.403],[64.17,38.892],[63.518,39.363],[62.374,40.054],[61.883,41.085],[61.547,41.266],[60.466,41.22],[60.083,41.425],[59.976,42.223],[58.629,42.752],[57.787,42.171],[56.932,41.826],[57.096,41.322],[55.968,41.309]]]]},{N:"Papua New Guinea",I:"PG",C:[[[[141,-2.6],[142.735,-3.289],[144.584,-3.861],[145.273,-4.374],[145.83,-4.876],[145.982,-5.466],[147.648,-6.084],[147.891,-6.614],[146.971,-6.722],[147.192,-7.388],[148.085,-8.044],[148.734,-9.105],[149.307,-9.071],[149.267,-9.514],[150.039,-9.684],[149.739,-9.873],[150.802,-10.294],[150.691,-10.583],[150.028,-10.652],[149.782,-10.393],[148.923,-10.281],[147.913,-10.13],[147.135,-9.492],[146.568,-8.943],[146.048,-8.067],[144.744,-7.63],[143.897,-7.915],[143.286,-8.245],[143.414,-8.983],[142.628,-9.327],[142.068,-9.16],[141.034,-9.118],[141.017,-5.859],[141,-2.6]]],[[[152.64,-3.66],[153.02,-3.98],[153.14,-4.5],[152.827,-4.766],[152.639,-4.176],[152.406,-3.79],[151.953,-3.462],[151.384,-3.035],[150.662,-2.741],[150.94,-2.5],[151.48,-2.78],[151.82,-3],[152.24,-3.24],[152.64,-3.66]]],[[[151.301,-5.841],[150.754,-6.084],[150.241,-6.318],[149.71,-6.317],[148.89,-6.026],[148.319,-5.747],[148.402,-5.438],[149.298,-5.584],[149.846,-5.506],[149.996,-5.026],[150.14,-5.001],[150.237,-5.532],[150.807,-5.456],[151.09,-5.114],[151.648,-4.757],[151.538,-4.168],[152.137,-4.149],[152.339,-4.313],[152.319,-4.868],[151.983,-5.478],[151.459,-5.56],[151.301,-5.841]]],[[[154.76,-5.34],[155.063,-5.567],[155.548,-6.201],[156.02,-6.54],[155.88,-6.82],[155.6,-6.92],[155.167,-6.536],[154.729,-5.901],[154.514,-5.139],[154.653,-5.042],[154.76,-5.34]]]]},{N:"Indonesia",I:"ID",C:[[[[141,-2.6],[141.017,-5.859],[141.034,-9.118],[140.143,-8.297],[139.128,-8.096],[138.881,-8.381],[137.614,-8.412],[138.039,-7.598],[138.669,-7.32],[138.408,-6.233],[137.928,-5.393],[135.989,-4.547],[135.165,-4.463],[133.663,-3.539],[133.368,-4.025],[132.984,-4.113],[132.757,-3.746],[132.754,-3.312],[131.99,-2.821],[133.067,-2.46],[133.78,-2.48],[133.696,-2.215],[132.232,-2.213],[131.836,-1.617],[130.943,-1.433],[130.52,-.938],[131.868,-.695],[132.38,-.37],[133.986,-.78],[134.143,-1.152],[134.423,-2.769],[135.458,-3.368],[136.293,-2.307],[137.441,-1.704],[138.33,-1.703],[139.185,-2.051],[139.927,-2.409],[141,-2.6]]],[[[124.969,-8.893],[125.07,-9.09],[125.089,-9.393],[124.436,-10.14],[123.58,-10.36],[123.46,-10.24],[123.55,-9.9],[123.98,-9.29],[124.969,-8.893]]],[[[134.21,-6.895],[134.113,-6.142],[134.29,-5.783],[134.5,-5.445],[134.727,-5.738],[134.725,-6.214],[134.21,-6.895]]],[[[117.882,4.138],[117.313,3.234],[118.048,2.288],[117.876,1.828],[118.997,.902],[117.812,.784],[117.478,.102],[117.522,-.804],[116.56,-1.488],[116.534,-2.484],[116.148,-4.013],[116.001,-3.657],[114.865,-4.107],[114.469,-3.496],[113.756,-3.439],[113.257,-3.119],[112.068,-3.478],[111.703,-2.994],[111.048,-3.049],[110.224,-2.934],[110.071,-1.593],[109.572,-1.315],[109.092,-.46],[108.953,.415],[109.069,1.342],[109.663,2.006],[109.83,1.338],[110.514,.773],[111.159,.976],[111.798,.904],[112.38,1.41],[112.86,1.498],[113.806,1.218],[114.621,1.431],[115.134,2.821],[115.519,3.169],[115.866,4.307],[117.015,4.306],[117.882,4.138]]],[[[129.371,-2.802],[130.471,-3.094],[130.835,-3.858],[129.991,-3.446],[129.155,-3.363],[128.591,-3.429],[127.899,-3.393],[128.136,-2.844],[129.371,-2.802]]],[[[126.875,-3.791],[126.184,-3.607],[125.989,-3.177],[127.001,-3.129],[127.249,-3.459],[126.875,-3.791]]],[[[127.932,2.175],[128.004,1.629],[128.595,1.541],[128.688,1.132],[128.636,.258],[128.12,.356],[127.968,-.252],[128.38,-.78],[128.1,-.9],[127.696,-.267],[127.399,1.012],[127.601,1.811],[127.932,2.175]]],[[[122.928,.875],[124.078,.917],[125.066,1.643],[125.241,1.42],[124.437,.428],[123.686,.236],[122.723,.431],[121.057,.381],[120.183,.237],[120.041,-.52],[120.936,-1.409],[121.476,-.956],[123.341,-.616],[123.258,-1.076],[122.823,-.931],[122.389,-1.517],[121.508,-1.904],[122.455,-3.186],[122.272,-3.53],[123.171,-4.684],[123.162,-5.341],[122.629,-5.635],[122.236,-5.283],[122.72,-4.464],[121.738,-4.851],[121.489,-4.575],[121.619,-4.188],[120.898,-3.602],[120.972,-2.628],[120.305,-2.932],[120.39,-4.098],[120.431,-5.528],[119.797,-5.673],[119.367,-5.38],[119.654,-4.459],[119.499,-3.494],[119.078,-3.487],[118.768,-2.802],[119.181,-2.147],[119.323,-1.353],[119.826,.154],[120.036,.566],[120.886,1.309],[121.667,1.014],[122.928,.875]]],[[[120.295,-10.259],[118.968,-9.558],[119.9,-9.361],[120.426,-9.666],[120.776,-9.97],[120.716,-10.24],[120.295,-10.259]]],[[[121.342,-8.537],[122.007,-8.461],[122.904,-8.094],[122.757,-8.65],[121.254,-8.934],[119.924,-8.81],[119.921,-8.445],[120.715,-8.237],[121.342,-8.537]]],[[[118.261,-8.362],[118.878,-8.281],[119.127,-8.706],[117.97,-8.907],[117.278,-9.041],[116.74,-9.033],[117.084,-8.457],[117.632,-8.449],[117.9,-8.096],[118.261,-8.362]]],[[[108.487,-6.422],[108.623,-6.778],[110.539,-6.877],[110.76,-6.465],[112.615,-6.946],[112.979,-7.594],[114.479,-7.777],[115.706,-8.371],[114.565,-8.752],[113.465,-8.349],[112.56,-8.376],[111.522,-8.302],[110.586,-8.123],[109.428,-7.741],[108.694,-7.642],[108.278,-7.767],[106.454,-7.355],[106.281,-6.925],[105.365,-6.851],[106.052,-5.896],[107.265,-5.955],[108.072,-6.346],[108.487,-6.422]]],[[[104.37,-1.085],[104.539,-1.782],[104.888,-2.34],[105.622,-2.429],[106.109,-3.062],[105.857,-4.306],[105.818,-5.852],[104.71,-5.873],[103.868,-5.037],[102.584,-4.22],[102.156,-3.614],[101.399,-2.8],[100.903,-2.05],[100.142,-.65],[99.264,.183],[98.97,1.043],[98.601,1.824],[97.7,2.453],[97.177,3.309],[96.424,3.869],[95.381,4.971],[95.293,5.48],[95.937,5.44],[97.485,5.246],[98.369,4.268],[99.143,3.59],[99.694,3.174],[100.641,2.099],[101.658,2.084],[102.498,1.399],[103.077,.561],[103.838,.105],[103.438,-.712],[104.011,-1.059],[104.37,-1.085]]]]},{N:"Argentina",I:"AR",C:[[[[-68.634,-52.636],[-68.25,-53.1],[-67.75,-53.85],[-66.45,-54.45],[-65.05,-54.7],[-65.5,-55.2],[-66.45,-55.25],[-66.96,-54.897],[-67.562,-54.87],[-68.633,-54.87],[-68.634,-52.636]]],[[[-57.625,-30.216],[-57.875,-31.017],[-58.142,-32.045],[-58.133,-33.041],[-58.35,-33.263],[-58.427,-33.909],[-58.495,-34.431],[-57.226,-35.288],[-57.362,-35.977],[-56.737,-36.413],[-56.788,-36.902],[-57.749,-38.184],[-59.232,-38.72],[-61.237,-38.928],[-62.336,-38.828],[-62.126,-39.424],[-62.331,-40.173],[-62.146,-40.677],[-62.746,-41.029],[-63.77,-41.167],[-64.732,-40.803],[-65.118,-41.064],[-64.979,-42.058],[-64.303,-42.359],[-63.756,-42.044],[-63.458,-42.563],[-64.379,-42.874],[-65.182,-43.495],[-65.329,-44.501],[-65.565,-45.037],[-66.51,-45.04],[-67.294,-45.552],[-67.581,-46.302],[-66.597,-47.034],[-65.641,-47.236],[-65.985,-48.133],[-67.166,-48.697],[-67.816,-49.87],[-68.729,-50.264],[-69.139,-50.733],[-68.816,-51.771],[-68.15,-52.35],[-68.572,-52.299],[-69.498,-52.143],[-71.915,-52.009],[-72.329,-51.426],[-72.31,-50.677],[-72.976,-50.741],[-73.328,-50.379],[-73.415,-49.318],[-72.648,-48.879],[-72.331,-48.244],[-72.447,-47.739],[-71.917,-46.885],[-71.552,-45.561],[-71.659,-44.974],[-71.223,-44.784],[-71.33,-44.408],[-71.794,-44.207],[-71.464,-43.788],[-71.915,-43.409],[-72.149,-42.255],[-71.747,-42.051],[-71.916,-40.832],[-71.681,-39.808],[-71.414,-38.916],[-70.815,-38.553],[-71.119,-37.577],[-71.122,-36.658],[-70.365,-36.005],[-70.388,-35.17],[-69.817,-34.194],[-69.815,-33.274],[-70.074,-33.091],[-70.535,-31.365],[-69.919,-30.336],[-70.014,-29.368],[-69.656,-28.459],[-69.001,-27.521],[-68.296,-26.899],[-68.595,-26.507],[-68.386,-26.185],[-68.418,-24.519],[-67.328,-24.025],[-66.985,-22.986],[-67.107,-22.736],[-66.273,-21.832],[-64.965,-22.076],[-64.377,-22.798],[-63.987,-21.994],[-62.846,-22.035],[-62.685,-22.249],[-60.847,-23.881],[-60.029,-24.033],[-58.807,-24.771],[-57.777,-25.162],[-57.634,-25.604],[-58.618,-27.124],[-57.61,-27.396],[-56.487,-27.548],[-55.696,-27.388],[-54.789,-26.622],[-54.625,-25.739],[-54.13,-25.548],[-53.628,-26.125],[-53.649,-26.923],[-54.491,-27.475],[-55.162,-27.882],[-56.291,-28.853],[-57.625,-30.216]]]]},{N:"Chile",I:"CL",C:[[[[-68.634,-52.636],[-68.633,-54.87],[-67.562,-54.87],[-66.96,-54.897],[-67.291,-55.301],[-68.149,-55.612],[-68.64,-55.58],[-69.232,-55.499],[-69.958,-55.198],[-71.006,-55.054],[-72.264,-54.495],[-73.285,-53.958],[-74.663,-52.837],[-73.838,-53.047],[-72.434,-53.715],[-71.108,-54.074],[-70.592,-53.616],[-70.267,-52.931],[-69.346,-52.518],[-68.634,-52.636]]],[[[-69.59,-17.58],[-69.1,-18.26],[-68.967,-18.982],[-68.442,-19.405],[-68.757,-20.373],[-68.22,-21.494],[-67.828,-22.873],[-67.107,-22.736],[-66.985,-22.986],[-67.328,-24.025],[-68.418,-24.519],[-68.386,-26.185],[-68.595,-26.507],[-68.296,-26.899],[-69.001,-27.521],[-69.656,-28.459],[-70.014,-29.368],[-69.919,-30.336],[-70.535,-31.365],[-70.074,-33.091],[-69.815,-33.274],[-69.817,-34.194],[-70.388,-35.17],[-70.365,-36.005],[-71.122,-36.658],[-71.119,-37.577],[-70.815,-38.553],[-71.414,-38.916],[-71.681,-39.808],[-71.916,-40.832],[-71.747,-42.051],[-72.149,-42.255],[-71.915,-43.409],[-71.464,-43.788],[-71.794,-44.207],[-71.33,-44.408],[-71.223,-44.784],[-71.659,-44.974],[-71.552,-45.561],[-71.917,-46.885],[-72.447,-47.739],[-72.331,-48.244],[-72.648,-48.879],[-73.415,-49.318],[-73.328,-50.379],[-72.976,-50.741],[-72.31,-50.677],[-72.329,-51.426],[-71.915,-52.009],[-69.498,-52.143],[-68.572,-52.299],[-69.461,-52.292],[-69.943,-52.538],[-70.845,-52.899],[-71.006,-53.833],[-71.43,-53.856],[-72.558,-53.531],[-73.703,-52.835],[-73.703,-52.835],[-74.947,-52.263],[-75.26,-51.629],[-74.977,-51.043],[-75.48,-50.378],[-75.608,-48.674],[-75.183,-47.712],[-74.127,-46.939],[-75.644,-46.648],[-74.692,-45.764],[-74.352,-44.103],[-73.24,-44.455],[-72.718,-42.383],[-73.389,-42.118],[-73.701,-43.366],[-74.332,-43.225],[-74.018,-41.795],[-73.677,-39.942],[-73.218,-39.259],[-73.506,-38.283],[-73.588,-37.156],[-73.167,-37.124],[-72.553,-35.509],[-71.862,-33.909],[-71.438,-32.419],[-71.669,-30.921],[-71.37,-30.096],[-71.49,-28.861],[-70.905,-27.64],[-70.725,-25.706],[-70.404,-23.629],[-70.091,-21.393],[-70.164,-19.756],[-70.373,-18.348],[-69.858,-18.093],[-69.59,-17.58]]]]},{N:"Democratic Republic of the Congo",I:"CD",C:[[[[29.34,-4.5],[29.52,-5.42],[29.42,-5.94],[29.62,-6.52],[30.2,-7.08],[30.74,-8.34],[30.74,-8.34],[30.346,-8.238],[29.003,-8.407],[28.735,-8.527],[28.45,-9.165],[28.674,-9.606],[28.496,-10.79],[28.372,-11.794],[28.642,-11.972],[29.342,-12.361],[29.616,-12.179],[29.7,-13.257],[28.934,-13.249],[28.524,-12.699],[28.155,-12.272],[27.389,-12.133],[27.164,-11.609],[26.553,-11.924],[25.752,-11.785],[25.418,-11.331],[24.783,-11.239],[24.315,-11.263],[24.257,-10.952],[23.912,-10.927],[23.457,-10.868],[22.837,-11.018],[22.403,-10.993],[22.155,-11.085],[22.209,-9.895],[21.875,-9.524],[21.802,-8.909],[21.949,-8.306],[21.746,-7.92],[21.728,-7.291],[20.515,-7.3],[20.602,-6.939],[20.092,-6.943],[20.038,-7.116],[19.418,-7.155],[19.167,-7.738],[19.017,-7.988],[18.464,-7.847],[18.134,-7.988],[17.473,-8.069],[17.09,-7.546],[16.86,-7.222],[16.573,-6.623],[16.327,-5.877],[13.376,-5.864],[13.025,-5.984],[12.735,-5.966],[12.322,-6.1],[12.182,-5.79],[12.437,-5.684],[12.468,-5.248],[12.632,-4.991],[12.996,-4.781],[13.258,-4.883],[13.6,-4.5],[14.145,-4.51],[14.209,-4.793],[14.583,-4.97],[15.171,-4.344],[15.754,-3.855],[16.006,-3.535],[15.973,-2.712],[16.407,-1.741],[16.865,-1.226],[17.524,-.744],[17.639,-.425],[17.664,-.058],[17.827,.289],[17.774,.856],[17.899,1.742],[18.094,2.366],[18.394,2.9],[18.453,3.504],[18.543,4.202],[18.932,4.71],[19.468,5.032],[20.291,4.692],[20.928,4.323],[21.659,4.224],[22.405,4.029],[22.704,4.633],[22.841,4.71],[23.297,4.61],[24.411,5.109],[24.805,4.897],[25.129,4.927],[25.279,5.17],[25.65,5.256],[26.403,5.151],[27.044,5.128],[27.374,5.234],[27.98,4.408],[28.429,4.287],[28.697,4.455],[29.159,4.389],[29.716,4.601],[29.954,4.174],[30.834,3.509],[30.834,3.509],[30.773,2.34],[31.174,2.204],[30.853,1.849],[30.469,1.584],[30.086,1.062],[29.876,.597],[29.82,-.205],[29.588,-.587],[29.579,-1.341],[29.292,-1.62],[29.255,-2.215],[29.117,-2.292],[29.025,-2.839],[29.276,-3.294],[29.34,-4.5]]]]},{N:"Somalia",I:"SO",C:[[[[41.585,-1.683],[40.993,-.858],[40.981,2.785],[41.855,3.919],[42.129,4.234],[42.77,4.253],[43.661,4.958],[44.964,5.002],[47.789,8.003],[48.487,8.838],[48.938,9.452],[48.938,9.974],[48.938,10.982],[48.942,11.394],[48.948,11.411],[48.948,11.411],[49.268,11.43],[49.729,11.579],[50.259,11.68],[50.732,12.022],[51.111,12.025],[51.134,11.748],[51.042,11.167],[51.045,10.641],[50.834,10.28],[50.552,9.199],[50.071,8.082],[49.453,6.805],[48.595,5.339],[47.741,4.219],[46.565,2.855],[45.564,2.046],[44.068,1.053],[43.136,.292],[42.042,-.919],[41.811,-1.446],[41.585,-1.683]]]]},{N:"Kenya",I:"KE",C:[[[[39.202,-4.677],[37.767,-3.677],[37.699,-3.097],[34.073,-1.06],[33.904,-.95],[33.894,.11],[34.18,.515],[34.672,1.177],[35.036,1.906],[34.596,3.054],[34.479,3.556],[34.005,4.25],[34.62,4.847],[35.298,5.506],[35.817,5.338],[35.817,4.777],[36.159,4.448],[36.855,4.448],[38.121,3.599],[38.437,3.589],[38.671,3.616],[38.893,3.501],[39.559,3.422],[39.855,3.839],[40.768,4.257],[41.172,3.919],[41.855,3.919],[40.981,2.785],[40.993,-.858],[41.585,-1.683],[40.885,-2.083],[40.638,-2.5],[40.263,-2.573],[40.121,-3.278],[39.8,-3.681],[39.605,-4.347],[39.202,-4.677]]]]},{N:"Sudan",I:"SD",C:[[[[24.567,8.229],[23.806,8.666],[23.459,8.954],[23.395,9.265],[23.557,9.681],[23.554,10.089],[22.978,10.714],[22.864,11.142],[22.876,11.385],[22.509,11.679],[22.498,12.26],[22.288,12.646],[21.937,12.588],[22.038,12.955],[22.297,13.372],[22.183,13.786],[22.512,14.093],[22.304,14.327],[22.568,14.944],[23.025,15.681],[23.887,15.611],[23.838,19.58],[23.85,20],[25,20.003],[25,22],[29.02,22],[32.9,22],[36.866,22],[37.189,21.019],[36.969,20.837],[37.115,19.808],[37.482,18.614],[37.863,18.368],[38.41,17.998],[37.904,17.428],[37.167,17.263],[36.853,16.957],[36.754,16.292],[36.323,14.822],[36.43,14.422],[36.27,13.563],[35.864,12.578],[35.26,12.083],[34.832,11.319],[34.731,10.91],[34.257,10.63],[33.962,9.584],[33.975,8.685],[33.963,9.464],[33.825,9.484],[33.842,9.982],[33.722,10.325],[33.207,10.72],[33.087,11.441],[33.207,12.179],[32.743,12.248],[32.675,12.025],[32.074,11.973],[32.314,11.681],[32.4,11.081],[31.851,10.531],[31.353,9.81],[30.838,9.707],[29.997,10.291],[29.619,10.085],[29.516,9.793],[29.001,9.604],[28.967,9.398],[27.971,9.398],[27.834,9.604],[27.113,9.639],[26.752,9.467],[26.477,9.553],[25.962,10.136],[25.791,10.411],[25.07,10.274],[24.795,9.81],[24.537,8.918],[24.194,8.729],[23.887,8.62],[24.567,8.229]]]]},{N:"Chad",I:"TD",C:[[[[23.838,19.58],[23.887,15.611],[23.025,15.681],[22.568,14.944],[22.304,14.327],[22.512,14.093],[22.183,13.786],[22.297,13.372],[22.038,12.955],[21.937,12.588],[22.288,12.646],[22.498,12.26],[22.509,11.679],[22.876,11.385],[22.864,11.142],[22.231,10.972],[21.724,10.567],[21.001,9.476],[20.06,9.013],[19.094,9.075],[18.812,8.983],[18.911,8.631],[18.39,8.281],[17.965,7.891],[16.706,7.508],[16.456,7.735],[16.291,7.754],[16.106,7.497],[15.279,7.422],[15.436,7.693],[15.121,8.382],[14.98,8.796],[14.544,8.966],[13.954,9.549],[14.171,10.021],[14.627,9.921],[14.909,9.992],[15.468,9.982],[14.924,10.891],[14.96,11.556],[14.893,12.219],[14.496,12.859],[14.596,13.33],[13.954,13.353],[13.957,13.997],[13.54,14.367],[13.972,15.684],[15.248,16.627],[15.3,17.928],[15.686,19.957],[15.903,20.388],[15.487,20.73],[15.471,21.048],[15.097,21.309],[14.851,22.863],[15.861,23.41],[19.849,21.495],[23.838,19.58]]]]},{N:"Haiti",I:"HT",C:[[[[-71.712,19.714],[-71.625,19.17],[-71.701,18.785],[-71.945,18.617],[-71.688,18.317],[-71.708,18.045],[-72.372,18.215],[-72.844,18.146],[-73.455,18.218],[-73.922,18.031],[-74.458,18.343],[-74.37,18.665],[-73.45,18.526],[-72.695,18.446],[-72.335,18.668],[-72.792,19.102],[-72.784,19.484],[-73.415,19.64],[-73.19,19.916],[-72.58,19.872],[-71.712,19.714]]]]},{N:"Dominican Republic",I:"DO",C:[[[[-71.708,18.045],[-71.688,18.317],[-71.945,18.617],[-71.701,18.785],[-71.625,19.17],[-71.712,19.714],[-71.587,19.885],[-70.807,19.88],[-70.214,19.623],[-69.951,19.648],[-69.769,19.293],[-69.222,19.313],[-69.254,19.015],[-68.809,18.979],[-68.318,18.612],[-68.689,18.205],[-69.165,18.423],[-69.624,18.381],[-69.953,18.428],[-70.133,18.246],[-70.517,18.184],[-70.669,18.427],[-71,18.283],[-71.4,17.599],[-71.658,17.758],[-71.708,18.045]]]]},{N:"Russia",I:"RU",C:[[[[178.725,71.099],[180,71.516],[180,70.832],[178.903,70.781],[178.725,71.099]]],[[[93.778,81.025],[95.941,81.25],[97.884,80.747],[100.187,79.78],[99.94,78.881],[97.758,78.756],[94.973,79.045],[93.313,79.427],[92.545,80.144],[91.181,80.341],[93.778,81.025]]],[[[102.838,79.281],[105.372,78.713],[105.075,78.307],[99.438,77.921],[101.265,79.234],[102.086,79.346],[102.838,79.281]]],[[[138.831,76.137],[141.472,76.093],[145.086,75.563],[144.3,74.82],[140.614,74.848],[138.955,74.611],[136.974,75.262],[137.512,75.949],[138.831,76.137]]],[[[148.222,75.346],[150.732,75.084],[149.576,74.689],[147.977,74.778],[146.119,75.173],[146.358,75.497],[148.222,75.346]]],[[[139.863,73.37],[140.812,73.765],[142.062,73.858],[143.483,73.475],[143.604,73.212],[142.088,73.205],[140.038,73.317],[139.863,73.37]]],[[[44.847,80.59],[46.799,80.772],[48.318,80.784],[48.523,80.515],[49.097,80.754],[50.04,80.919],[51.523,80.7],[51.136,80.547],[49.794,80.415],[48.894,80.34],[48.755,80.175],[47.586,80.01],[46.503,80.247],[47.072,80.559],[44.847,80.59]]],[[[22.731,54.328],[20.892,54.313],[19.661,54.426],[19.888,54.866],[21.268,55.19],[22.316,55.015],[22.758,54.857],[22.651,54.583],[22.731,54.328]]],[[[53.508,73.75],[55.902,74.627],[55.632,75.081],[57.869,75.609],[61.17,76.252],[64.498,76.439],[66.211,76.81],[68.157,76.94],[68.852,76.545],[68.181,76.234],[64.637,75.738],[61.584,75.261],[58.477,74.309],[56.987,73.333],[55.419,72.371],[55.623,71.541],[57.536,70.72],[56.945,70.633],[53.677,70.763],[53.412,71.207],[51.602,71.475],[51.456,72.015],[52.478,72.229],[52.444,72.775],[54.428,73.628],[53.508,73.75]]],[[[142.915,53.705],[143.261,52.741],[143.235,51.757],[143.648,50.748],[144.654,48.976],[143.174,49.307],[142.559,47.862],[143.533,46.837],[143.505,46.138],[142.748,46.741],[142.092,45.967],[141.907,46.806],[142.018,47.78],[141.904,48.859],[142.136,49.615],[142.18,50.952],[141.594,51.935],[141.683,53.302],[142.607,53.762],[142.21,54.225],[142.655,54.366],[142.915,53.705]]],[[[-174.928,67.206],[-175.014,66.584],[-174.34,66.336],[-174.572,67.062],[-171.857,66.913],[-169.9,65.977],[-170.891,65.541],[-172.53,65.438],[-172.555,64.461],[-172.955,64.253],[-173.892,64.283],[-174.654,64.631],[-175.984,64.923],[-176.207,65.357],[-177.223,65.52],[-178.36,65.391],[-178.903,65.74],[-178.686,66.112],[-179.884,65.875],[-179.433,65.404],[-180,64.98],[-180,68.964],[-177.55,68.2],[-174.928,67.206]]],[[[-178.694,70.893],[-180,70.832],[-180,71.516],[-179.872,71.558],[-179.024,71.556],[-177.578,71.269],[-177.664,71.133],[-178.694,70.893]]],[[[49.101,46.399],[48.645,45.806],[47.676,45.641],[46.682,44.609],[47.591,43.66],[47.493,42.987],[48.584,41.809],[48.584,41.809],[47.987,41.406],[47.816,41.151],[47.373,41.22],[46.686,41.827],[46.405,41.861],[45.776,42.092],[45.47,42.503],[44.538,42.712],[43.931,42.555],[43.756,42.741],[42.394,43.22],[40.922,43.382],[40.077,43.553],[39.955,43.435],[38.68,44.28],[37.539,44.657],[36.675,45.245],[37.403,45.405],[38.233,46.241],[37.674,46.637],[39.148,47.045],[39.121,47.263],[38.224,47.102],[38.255,47.546],[38.771,47.826],[39.738,47.899],[39.896,48.232],[39.675,48.784],[40.081,49.307],[40.069,49.601],[38.595,49.926],[38.011,49.916],[37.393,50.384],[36.626,50.226],[35.356,50.577],[35.378,50.774],[35.022,51.208],[34.225,51.256],[34.142,51.566],[34.392,51.769],[33.753,52.335],[32.716,52.238],[32.412,52.289],[32.159,52.061],[31.786,52.102],[31.786,52.102],[31.54,52.742],[31.305,53.074],[31.498,53.167],[32.305,53.133],[32.694,53.351],[32.406,53.618],[31.731,53.794],[31.791,53.975],[31.384,54.157],[30.758,54.812],[30.972,55.082],[30.874,55.551],[29.896,55.789],[29.372,55.67],[29.23,55.918],[28.177,56.169],[27.855,56.759],[27.77,57.244],[27.288,57.475],[27.717,57.792],[27.42,58.725],[28.132,59.301],[27.981,59.475],[27.981,59.475],[29.118,60.028],[28.07,60.504],[28.07,60.504],[30.211,61.78],[31.14,62.358],[31.516,62.868],[30.036,63.553],[30.445,64.204],[29.544,64.949],[30.218,65.806],[29.055,66.944],[29.977,67.698],[28.446,68.365],[28.592,69.065],[29.4,69.157],[31.101,69.558],[31.101,69.558],[32.133,69.906],[33.775,69.301],[36.514,69.063],[40.292,67.932],[41.06,67.457],[41.126,66.792],[40.016,66.266],[38.383,66],[33.919,66.76],[33.184,66.633],[34.815,65.9],[34.879,65.436],[34.944,64.414],[36.231,64.109],[37.013,63.85],[37.142,64.335],[36.54,64.764],[37.176,65.143],[39.593,64.521],[40.436,64.764],[39.763,65.497],[42.093,66.476],[43.016,66.419],[43.95,66.069],[44.532,66.756],[43.698,67.352],[44.188,67.951],[43.453,68.571],[46.25,68.25],[46.821,67.69],[45.555,67.567],[45.562,67.01],[46.349,66.668],[47.894,66.885],[48.139,67.522],[50.228,67.999],[53.717,68.857],[54.472,68.808],[53.486,68.201],[54.726,68.097],[55.443,68.439],[57.317,68.466],[58.802,68.881],[59.941,68.278],[61.078,68.941],[60.03,69.52],[60.55,69.85],[63.504,69.547],[64.888,69.235],[68.512,68.092],[69.181,68.616],[68.164,69.144],[68.135,69.356],[66.93,69.455],[67.26,69.929],[66.725,70.709],[66.695,71.029],[68.54,71.935],[69.196,72.843],[69.94,73.04],[72.588,72.776],[72.796,72.22],[71.848,71.409],[72.47,71.09],[72.792,70.391],[72.565,69.021],[73.668,68.408],[73.239,67.74],[71.28,66.32],[72.423,66.173],[72.821,66.533],[73.921,66.789],[74.187,67.284],[75.052,67.76],[74.469,68.329],[74.936,68.989],[73.842,69.071],[73.602,69.628],[74.4,70.632],[73.101,71.447],[74.891,72.121],[74.659,72.832],[75.158,72.855],[75.684,72.301],[75.289,71.336],[76.359,71.153],[75.903,71.874],[77.577,72.267],[79.652,72.32],[81.5,71.75],[80.611,72.583],[80.511,73.648],[82.25,73.85],[84.655,73.806],[86.822,73.937],[86.01,74.46],[87.167,75.116],[88.316,75.144],[90.26,75.64],[92.901,75.773],[93.234,76.047],[95.86,76.14],[96.678,75.915],[98.923,76.447],[100.76,76.43],[101.035,76.862],[101.991,77.288],[104.352,77.698],[106.067,77.374],[104.705,77.127],[106.97,76.974],[107.24,76.48],[108.154,76.723],[111.077,76.71],[113.332,76.222],[114.134,75.848],[113.885,75.328],[112.779,75.032],[110.151,74.477],[109.4,74.18],[110.64,74.04],[112.119,73.788],[113.02,73.977],[113.53,73.335],[113.969,73.595],[115.568,73.753],[118.776,73.588],[119.02,73.12],[123.201,72.971],[123.258,73.735],[125.38,73.56],[126.976,73.565],[128.591,73.039],[129.052,72.399],[128.46,71.98],[129.716,71.193],[131.289,70.787],[132.254,71.836],[133.858,71.386],[135.562,71.655],[137.498,71.348],[138.234,71.628],[139.87,71.488],[139.148,72.416],[140.468,72.849],[149.5,72.2],[150.351,71.606],[152.969,70.842],[157.007,71.031],[158.998,70.867],[159.83,70.453],[159.709,69.722],[160.941,69.437],[162.279,69.642],[164.052,69.668],[165.94,69.472],[167.836,69.583],[169.578,68.694],[170.817,69.014],[170.008,69.653],[170.453,70.097],[173.644,69.817],[175.724,69.877],[178.6,69.4],[180,68.964],[180,64.98],[179.993,64.974],[178.707,64.535],[177.411,64.608],[178.313,64.076],[178.908,63.252],[179.37,62.983],[179.486,62.569],[179.228,62.304],[177.364,62.522],[174.569,61.769],[173.68,61.653],[172.15,60.95],[170.698,60.336],[170.331,59.882],[168.9,60.574],[166.295,59.789],[165.84,60.16],[164.877,59.732],[163.539,59.869],[163.217,59.211],[162.017,58.243],[162.053,57.839],[163.192,57.615],[163.058,56.159],[162.13,56.122],[161.701,55.286],[162.117,54.855],[160.369,54.344],[160.022,53.203],[158.531,52.959],[158.231,51.943],[156.79,51.011],[156.42,51.7],[155.992,53.159],[155.434,55.381],[155.914,56.768],[156.758,57.365],[156.81,57.832],[158.364,58.056],[160.151,59.315],[161.872,60.343],[163.67,61.141],[164.474,62.551],[163.258,62.466],[162.658,61.642],[160.121,60.544],[159.302,61.774],[156.721,61.434],[154.218,59.758],[155.044,59.145],[152.812,58.884],[151.266,58.781],[151.338,59.504],[149.784,59.656],[148.545,59.164],[145.487,59.336],[142.198,59.04],[138.958,57.088],[135.126,54.73],[136.702,54.604],[137.193,53.977],[138.165,53.755],[138.805,54.255],[139.902,54.19],[141.345,53.09],[141.379,52.239],[140.597,51.24],[140.513,50.046],[140.062,48.447],[138.555,47],[138.22,46.308],[136.862,45.144],[135.515,43.989],[134.869,43.398],[133.537,42.811],[132.906,42.798],[132.278,43.285],[130.936,42.553],[130.78,42.22],[130.78,42.22],[130.78,42.22],[130.78,42.22],[130.64,42.395],[130.64,42.395],[130.634,42.903],[131.145,42.93],[131.289,44.112],[131.025,44.968],[131.883,45.321],[133.097,45.144],[133.77,46.117],[134.112,47.212],[134.501,47.578],[135.026,48.478],[133.374,48.183],[132.507,47.789],[130.987,47.79],[130.582,48.73],[129.398,49.441],[127.657,49.76],[127.287,50.74],[126.939,51.354],[126.564,51.784],[125.946,52.793],[125.068,53.161],[123.571,53.459],[122.246,53.432],[121.003,53.251],[120.177,52.754],[120.726,52.516],[120.738,51.964],[120.182,51.644],[119.279,50.583],[119.288,50.143],[117.879,49.511],[116.679,49.889],[115.486,49.805],[114.962,50.14],[114.362,50.248],[112.898,49.544],[111.581,49.378],[110.662,49.13],[109.402,49.293],[108.475,49.283],[107.868,49.794],[106.889,50.274],[105.887,50.406],[104.622,50.275],[103.677,50.09],[102.256,50.511],[102.065,51.26],[100.889,51.517],[99.982,51.634],[98.861,52.047],[97.826,51.011],[98.232,50.422],[97.26,49.726],[95.814,49.977],[94.816,50.013],[94.148,50.481],[93.104,50.495],[92.235,50.802],[90.714,50.332],[88.806,49.471],[87.751,49.297],[87.36,49.215],[86.829,49.827],[85.541,49.693],[85.116,50.117],[84.416,50.311],[83.935,50.889],[83.383,51.069],[81.946,50.812],[80.568,51.388],[80.036,50.865],[77.801,53.404],[76.525,54.177],[76.891,54.491],[74.385,53.547],[73.426,53.49],[73.509,54.036],[72.224,54.377],[71.18,54.133],[70.865,55.17],[69.068,55.385],[68.169,54.97],[65.667,54.601],[65.179,54.354],[61.437,54.006],[60.978,53.665],[61.7,52.98],[60.74,52.72],[60.927,52.448],[59.968,51.96],[61.588,51.273],[61.337,50.799],[59.933,50.842],[59.642,50.545],[58.363,51.064],[56.778,51.044],[55.717,50.622],[54.533,51.026],[52.329,51.719],[50.767,51.693],[48.702,50.605],[48.578,49.875],[47.549,50.455],[46.752,49.356],[47.044,49.152],[46.466,48.394],[47.315,47.716],[48.057,47.744],[48.695,47.076],[48.593,46.561],[49.101,46.399]]]]},{N:"Bahamas",I:"BS",C:[[[[-78.98,26.79],[-78.51,26.87],[-77.85,26.84],[-77.82,26.58],[-78.91,26.42],[-78.98,26.79]]],[[[-77.79,27.04],[-77,26.59],[-77.173,25.879],[-77.356,26.007],[-77.34,26.53],[-77.788,26.925],[-77.79,27.04]]],[[[-78.191,25.21],[-77.89,25.17],[-77.54,24.34],[-77.535,23.76],[-77.78,23.71],[-78.034,24.286],[-78.408,24.576],[-78.191,25.21]]]]},{N:"Falkland Islands",I:"FK",C:[[[[-61.2,-51.85],[-60,-51.25],[-59.15,-51.5],[-58.55,-51.1],[-57.75,-51.55],[-58.05,-51.9],[-59.4,-52.2],[-59.85,-51.85],[-60.7,-52.3],[-61.2,-51.85]]]]},{N:"Norway",I:"NO",C:[[[[15.143,79.674],[15.523,80.016],[16.991,80.051],[18.252,79.702],[21.544,78.956],[19.027,78.563],[18.472,77.827],[17.594,77.638],[17.118,76.809],[15.913,76.77],[13.763,77.38],[14.67,77.736],[13.171,78.025],[11.222,78.869],[10.445,79.652],[13.171,80.01],[13.719,79.66],[15.143,79.674]]],[[[27.408,80.056],[25.925,79.518],[23.024,79.4],[20.075,79.567],[19.897,79.842],[18.462,79.86],[17.368,80.319],[20.456,80.598],[21.908,80.358],[22.919,80.657],[25.448,80.407],[27.408,80.056]]],[[[24.724,77.854],[22.49,77.445],[20.726,77.677],[21.416,77.935],[20.812,78.255],[22.884,78.455],[23.281,78.08],[24.724,77.854]]],[[[31.101,69.558],[29.4,69.157],[28.592,69.065],[29.016,69.766],[27.732,70.164],[26.18,69.825],[25.689,69.092],[24.736,68.65],[23.662,68.891],[22.356,68.842],[21.245,69.37],[20.646,69.106],[20.025,69.065],[19.879,68.407],[17.994,68.567],[17.729,68.011],[16.769,68.014],[16.109,67.302],[15.108,66.194],[13.556,64.787],[13.92,64.445],[13.572,64.049],[12.58,64.066],[11.931,63.128],[11.992,61.8],[12.631,61.294],[12.3,60.118],[11.468,59.432],[11.027,58.856],[10.357,59.47],[8.382,58.313],[7.049,58.079],[5.666,58.588],[5.308,59.663],[4.992,61.971],[5.913,62.614],[8.553,63.454],[10.528,64.486],[12.358,65.88],[14.761,67.811],[16.436,68.563],[19.184,69.817],[21.378,70.255],[23.024,70.202],[24.547,71.03],[26.37,70.986],[28.166,71.185],[31.293,70.454],[30.005,70.186],[31.101,69.558]]]]},{N:"Greenland",I:"GL",C:[[[[-46.764,82.628],[-43.406,83.225],[-39.898,83.18],[-38.622,83.549],[-35.088,83.645],[-27.1,83.52],[-20.845,82.727],[-22.692,82.342],[-26.518,82.298],[-31.9,82.2],[-31.396,82.022],[-27.857,82.132],[-24.844,81.787],[-22.903,82.093],[-22.072,81.734],[-23.17,81.153],[-20.624,81.525],[-15.768,81.912],[-12.77,81.719],[-12.209,81.292],[-16.285,80.58],[-16.85,80.35],[-20.046,80.177],[-17.73,80.129],[-18.9,79.4],[-19.705,78.751],[-19.674,77.639],[-18.473,76.986],[-20.035,76.944],[-21.679,76.628],[-19.834,76.098],[-19.599,75.248],[-20.668,75.156],[-19.373,74.296],[-21.594,74.224],[-20.435,73.817],[-20.762,73.464],[-22.172,73.31],[-23.566,73.307],[-22.313,72.629],[-22.3,72.184],[-24.278,72.598],[-24.793,72.33],[-23.443,72.08],[-22.133,71.469],[-21.754,70.664],[-23.536,70.471],[-24.307,70.856],[-25.543,71.431],[-25.201,70.752],[-26.363,70.226],[-23.727,70.184],[-22.349,70.129],[-25.029,69.259],[-27.747,68.47],[-30.674,68.125],[-31.777,68.121],[-32.811,67.735],[-34.202,66.68],[-36.353,65.979],[-37.044,65.938],[-38.375,65.692],[-39.812,65.458],[-40.669,64.84],[-40.683,64.139],[-41.189,63.482],[-42.819,62.682],[-42.417,61.901],[-42.866,61.074],[-43.378,60.098],[-44.788,60.037],[-46.264,60.853],[-48.263,60.858],[-49.233,61.407],[-49.9,62.383],[-51.633,63.627],[-52.14,64.278],[-52.277,65.177],[-53.662,66.1],[-53.302,66.837],[-53.969,67.189],[-52.98,68.358],[-51.475,68.73],[-51.08,69.148],[-50.871,69.929],[-52.014,69.575],[-52.558,69.426],[-53.456,69.284],[-54.683,69.61],[-54.75,70.289],[-54.359,70.821],[-53.431,70.836],[-51.39,70.57],[-53.109,71.205],[-54.004,71.547],[-55,71.407],[-55.835,71.654],[-54.718,72.586],[-55.326,72.959],[-56.12,73.65],[-57.324,74.71],[-58.597,75.099],[-58.585,75.517],[-61.269,76.102],[-63.392,76.175],[-66.064,76.135],[-68.504,76.061],[-69.665,76.38],[-71.403,77.009],[-68.777,77.323],[-66.764,77.376],[-71.043,77.636],[-73.297,78.044],[-73.159,78.433],[-69.373,78.914],[-65.711,79.394],[-65.324,79.758],[-68.023,80.117],[-67.151,80.516],[-63.689,81.214],[-62.234,81.321],[-62.651,81.77],[-60.282,82.034],[-57.207,82.191],[-54.134,82.2],[-53.043,81.888],[-50.391,82.439],[-48.004,82.065],[-46.6,81.986],[-44.523,81.661],[-46.901,82.2],[-46.764,82.628]]]]},{N:"Timor-Leste",I:"TL",C:[[[[124.969,-8.893],[125.086,-8.657],[125.947,-8.432],[126.645,-8.398],[126.957,-8.273],[127.336,-8.397],[126.968,-8.668],[125.926,-9.106],[125.089,-9.393],[125.07,-9.09],[124.969,-8.893]]]]},{N:"South Africa",I:"ZA",C:[[[[16.345,-28.577],[16.824,-28.082],[17.219,-28.356],[17.387,-28.784],[17.836,-28.856],[18.465,-29.045],[19.002,-28.972],[19.895,-28.461],[19.896,-24.768],[20.166,-24.918],[20.759,-25.868],[20.666,-26.477],[20.89,-26.829],[21.606,-26.727],[22.106,-26.28],[22.58,-25.979],[22.824,-25.5],[23.312,-25.269],[23.734,-25.39],[24.211,-25.67],[25.025,-25.72],[25.665,-25.487],[25.766,-25.175],[25.942,-24.696],[26.486,-24.616],[26.786,-24.241],[27.119,-23.574],[28.017,-22.828],[29.432,-22.091],[29.839,-22.102],[30.323,-22.272],[30.66,-22.152],[31.191,-22.252],[31.67,-23.659],[31.931,-24.369],[31.752,-25.484],[31.838,-25.843],[31.333,-25.66],[31.044,-25.731],[30.95,-26.023],[30.677,-26.398],[30.686,-26.744],[31.283,-27.286],[31.868,-27.178],[32.072,-26.734],[32.83,-26.742],[32.58,-27.47],[32.462,-28.301],[32.203,-28.752],[31.521,-29.257],[31.326,-29.402],[30.902,-29.91],[30.623,-30.424],[30.056,-31.14],[28.926,-32.172],[28.22,-32.772],[27.465,-33.227],[26.419,-33.615],[25.91,-33.667],[25.781,-33.945],[25.173,-33.797],[24.678,-33.987],[23.594,-33.794],[22.988,-33.916],[22.574,-33.864],[21.543,-34.259],[20.689,-34.417],[20.071,-34.795],[19.616,-34.819],[19.193,-34.463],[18.855,-34.444],[18.425,-33.998],[18.377,-34.137],[18.244,-33.868],[18.25,-33.281],[17.925,-32.611],[18.248,-32.429],[18.222,-31.662],[17.567,-30.726],[17.064,-29.879],[17.063,-29.876],[16.345,-28.577]],[[28.978,-28.956],[28.542,-28.648],[28.074,-28.851],[27.533,-29.243],[26.999,-29.876],[27.749,-30.645],[28.107,-30.546],[28.291,-30.226],[28.848,-30.07],[29.018,-29.744],[29.325,-29.257],[28.978,-28.956]]]]},{N:"Lesotho",I:"LS",C:[[[[28.978,-28.956],[29.325,-29.257],[29.018,-29.744],[28.848,-30.07],[28.291,-30.226],[28.107,-30.546],[27.749,-30.645],[26.999,-29.876],[27.533,-29.243],[28.074,-28.851],[28.542,-28.648],[28.978,-28.956]]]]},{N:"Mexico",I:"MX",C:[[[[-117.128,32.535],[-115.991,32.612],[-114.721,32.721],[-114.815,32.525],[-113.305,32.039],[-111.024,31.335],[-109.035,31.342],[-108.242,31.342],[-108.24,31.755],[-106.508,31.755],[-106.143,31.4],[-105.632,31.084],[-105.037,30.644],[-104.706,30.122],[-104.457,29.572],[-103.94,29.27],[-103.11,28.97],[-102.48,29.76],[-101.662,29.779],[-100.958,29.381],[-100.456,28.696],[-100.11,28.11],[-99.52,27.54],[-99.3,26.84],[-99.02,26.37],[-98.24,26.06],[-97.53,25.84],[-97.14,25.87],[-97.528,24.992],[-97.703,24.272],[-97.776,22.933],[-97.872,22.444],[-97.699,21.899],[-97.389,21.411],[-97.189,20.635],[-96.526,19.891],[-96.292,19.32],[-95.901,18.828],[-94.839,18.563],[-94.426,18.144],[-93.549,18.424],[-92.786,18.525],[-92.037,18.705],[-91.408,18.876],[-90.772,19.284],[-90.534,19.867],[-90.451,20.708],[-90.279,21],[-89.601,21.262],[-88.544,21.494],[-87.658,21.459],[-87.052,21.544],[-86.812,21.332],[-86.846,20.85],[-87.383,20.255],[-87.621,19.647],[-87.437,19.472],[-87.587,19.04],[-87.837,18.26],[-88.091,18.517],[-88.3,18.5],[-88.49,18.487],[-88.848,17.883],[-89.03,18.002],[-89.151,17.955],[-89.143,17.808],[-90.068,17.819],[-91.002,17.818],[-91.002,17.255],[-91.454,17.252],[-91.082,16.918],[-90.712,16.687],[-90.601,16.471],[-90.439,16.41],[-90.464,16.07],[-91.748,16.067],[-92.229,15.251],[-92.087,15.065],[-92.203,14.83],[-92.228,14.539],[-93.359,15.615],[-93.875,15.94],[-94.692,16.201],[-95.25,16.128],[-96.053,15.752],[-96.557,15.654],[-97.264,15.917],[-98.013,16.107],[-98.948,16.566],[-99.697,16.706],[-100.829,17.171],[-101.666,17.649],[-101.919,17.916],[-102.478,17.976],[-103.501,18.292],[-103.918,18.749],[-104.992,19.316],[-105.493,19.947],[-105.731,20.434],[-105.398,20.532],[-105.501,20.817],[-105.271,21.076],[-105.266,21.422],[-105.603,21.871],[-105.693,22.269],[-106.029,22.774],[-106.91,23.768],[-107.915,24.549],[-108.402,25.172],[-109.26,25.581],[-109.444,25.825],[-109.292,26.443],[-109.801,26.676],[-110.392,27.162],[-110.641,27.86],[-111.179,27.941],[-111.76,28.468],[-112.228,28.954],[-112.272,29.267],[-112.81,30.021],[-113.164,30.787],[-113.149,31.171],[-113.872,31.568],[-114.206,31.524],[-114.776,31.8],[-114.937,31.393],[-114.771,30.914],[-114.674,30.163],[-114.331,29.75],[-113.589,29.062],[-113.424,28.826],[-113.272,28.755],[-113.14,28.411],[-112.962,28.425],[-112.762,27.78],[-112.458,27.526],[-112.245,27.172],[-111.616,26.663],[-111.285,25.733],[-110.988,25.295],[-110.71,24.826],[-110.655,24.299],[-110.173,24.266],[-109.772,23.811],[-109.409,23.365],[-109.433,23.186],[-109.854,22.818],[-110.031,22.823],[-110.295,23.431],[-110.95,24.001],[-111.671,24.484],[-112.182,24.738],[-112.149,25.47],[-112.301,26.012],[-112.777,26.322],[-113.465,26.768],[-113.597,26.639],[-113.849,26.9],[-114.466,27.142],[-115.055,27.723],[-114.982,27.798],[-114.57,27.741],[-114.199,28.115],[-114.162,28.566],[-114.932,29.279],[-115.519,29.556],[-115.887,30.181],[-116.258,30.836],[-116.722,31.636],[-117.128,32.535]]]]},{N:"Uruguay",I:"UY",C:[[[[-57.625,-30.216],[-56.976,-30.11],[-55.973,-30.883],[-55.602,-30.854],[-54.572,-31.495],[-53.788,-32.047],[-53.21,-32.728],[-53.651,-33.202],[-53.374,-33.768],[-53.806,-34.397],[-54.936,-34.953],[-55.674,-34.753],[-56.215,-34.86],[-57.14,-34.43],[-57.818,-34.463],[-58.427,-33.909],[-58.35,-33.263],[-58.133,-33.041],[-58.142,-32.045],[-57.875,-31.017],[-57.625,-30.216]]]]},{N:"Brazil",I:"BR",C:[[[[-53.374,-33.768],[-53.651,-33.202],[-53.21,-32.728],[-53.788,-32.047],[-54.572,-31.495],[-55.602,-30.854],[-55.973,-30.883],[-56.976,-30.11],[-57.625,-30.216],[-56.291,-28.853],[-55.162,-27.882],[-54.491,-27.475],[-53.649,-26.923],[-53.628,-26.125],[-54.13,-25.548],[-54.625,-25.739],[-54.429,-25.162],[-54.293,-24.571],[-54.293,-24.021],[-54.653,-23.84],[-55.028,-24.001],[-55.401,-23.957],[-55.518,-23.572],[-55.611,-22.656],[-55.798,-22.357],[-56.473,-22.086],[-56.882,-22.282],[-57.937,-22.09],[-57.871,-20.733],[-58.166,-20.177],[-57.854,-19.97],[-57.95,-19.4],[-57.676,-18.962],[-57.498,-18.174],[-57.735,-17.552],[-58.281,-17.272],[-58.388,-16.877],[-58.241,-16.3],[-60.158,-16.258],[-60.543,-15.094],[-60.251,-15.077],[-60.264,-14.646],[-60.459,-14.354],[-60.503,-13.776],[-61.084,-13.479],[-61.713,-13.489],[-62.127,-13.199],[-62.803,-13.001],[-63.196,-12.627],[-64.316,-12.462],[-65.402,-11.566],[-65.322,-10.896],[-65.445,-10.511],[-65.338,-9.762],[-66.647,-9.931],[-67.174,-10.307],[-68.048,-10.712],[-68.271,-11.015],[-68.786,-11.036],[-69.53,-10.952],[-70.094,-11.124],[-70.549,-11.009],[-70.482,-9.49],[-71.302,-10.079],[-72.185,-10.054],[-72.563,-9.52],[-73.227,-9.462],[-73.015,-9.033],[-73.571,-8.424],[-73.987,-7.524],[-73.723,-7.341],[-73.724,-6.919],[-73.12,-6.63],[-73.22,-6.089],[-72.965,-5.741],[-72.892,-5.275],[-71.748,-4.594],[-70.929,-4.402],[-70.795,-4.251],[-69.894,-4.298],[-69.444,-1.556],[-69.42,-1.123],[-69.577,-.55],[-70.021,-.185],[-70.016,.541],[-69.452,.706],[-69.252,.603],[-69.219,.986],[-69.805,1.089],[-69.817,1.715],[-67.869,1.692],[-67.538,2.037],[-67.26,1.72],[-67.065,1.13],[-66.876,1.253],[-66.326,.724],[-65.548,.789],[-65.355,1.095],[-64.611,1.329],[-64.199,1.493],[-64.083,1.916],[-63.369,2.201],[-63.423,2.411],[-64.27,2.497],[-64.409,3.127],[-64.368,3.797],[-64.816,4.056],[-64.629,4.148],[-63.888,4.021],[-63.093,3.771],[-62.805,4.007],[-62.085,4.162],[-60.967,4.536],[-60.601,4.918],[-60.734,5.2],[-60.214,5.244],[-59.981,5.014],[-60.111,4.575],[-59.767,4.424],[-59.538,3.959],[-59.815,3.606],[-59.975,2.755],[-59.719,2.25],[-59.646,1.787],[-59.031,1.318],[-58.54,1.268],[-58.429,1.464],[-58.113,1.507],[-57.661,1.683],[-57.336,1.949],[-56.783,1.864],[-56.539,1.9],[-55.996,1.818],[-55.906,2.022],[-56.073,2.221],[-55.973,2.51],[-55.57,2.422],[-55.098,2.524],[-54.525,2.312],[-54.088,2.106],[-53.779,2.377],[-53.555,2.335],[-53.418,2.053],[-52.94,2.125],[-52.556,2.505],[-52.249,3.241],[-51.658,4.156],[-51.317,4.203],[-51.07,3.65],[-50.509,1.902],[-49.974,1.736],[-49.947,1.046],[-50.699,.223],[-50.388,-.078],[-48.621,-.235],[-48.584,-1.238],[-47.825,-.582],[-46.567,-.941],[-44.906,-1.552],[-44.418,-2.138],[-44.582,-2.691],[-43.419,-2.383],[-41.473,-2.912],[-39.979,-2.873],[-38.5,-3.701],[-37.223,-4.821],[-36.453,-5.109],[-35.598,-5.15],[-35.235,-5.465],[-34.896,-6.738],[-34.73,-7.343],[-35.128,-8.996],[-35.637,-9.649],[-37.047,-11.041],[-37.684,-12.171],[-38.424,-13.038],[-38.674,-13.058],[-38.953,-13.793],[-38.882,-15.667],[-39.161,-17.208],[-39.267,-17.868],[-39.584,-18.262],[-39.761,-19.599],[-40.775,-20.905],[-40.945,-21.937],[-41.754,-22.371],[-41.988,-22.97],[-43.075,-22.968],[-44.648,-23.352],[-45.352,-23.797],[-46.472,-24.089],[-47.649,-24.885],[-48.495,-25.877],[-48.641,-26.624],[-48.475,-27.176],[-48.662,-28.186],[-48.888,-28.674],[-49.587,-29.224],[-50.697,-30.984],[-51.576,-31.778],[-52.256,-32.245],[-52.712,-33.197],[-53.374,-33.768]]]]},{N:"Bolivia",I:"BO",C:[[[[-69.53,-10.952],[-68.786,-11.036],[-68.271,-11.015],[-68.048,-10.712],[-67.174,-10.307],[-66.647,-9.931],[-65.338,-9.762],[-65.445,-10.511],[-65.322,-10.896],[-65.402,-11.566],[-64.316,-12.462],[-63.196,-12.627],[-62.803,-13.001],[-62.127,-13.199],[-61.713,-13.489],[-61.084,-13.479],[-60.503,-13.776],[-60.459,-14.354],[-60.264,-14.646],[-60.251,-15.077],[-60.543,-15.094],[-60.158,-16.258],[-58.241,-16.3],[-58.388,-16.877],[-58.281,-17.272],[-57.735,-17.552],[-57.498,-18.174],[-57.676,-18.962],[-57.95,-19.4],[-57.854,-19.97],[-58.166,-20.177],[-58.183,-19.868],[-59.115,-19.357],[-60.044,-19.343],[-61.786,-19.634],[-62.266,-20.514],[-62.291,-21.052],[-62.685,-22.249],[-62.846,-22.035],[-63.987,-21.994],[-64.377,-22.798],[-64.965,-22.076],[-66.273,-21.832],[-67.107,-22.736],[-67.828,-22.873],[-68.22,-21.494],[-68.757,-20.373],[-68.442,-19.405],[-68.967,-18.982],[-69.1,-18.26],[-69.59,-17.58],[-68.96,-16.501],[-69.39,-15.66],[-69.16,-15.324],[-69.34,-14.953],[-68.949,-14.454],[-68.929,-13.603],[-68.88,-12.9],[-68.665,-12.561],[-69.53,-10.952]]]]},{N:"Peru",I:"PE",C:[[[[-69.894,-4.298],[-70.795,-4.251],[-70.929,-4.402],[-71.748,-4.594],[-72.892,-5.275],[-72.965,-5.741],[-73.22,-6.089],[-73.12,-6.63],[-73.724,-6.919],[-73.723,-7.341],[-73.987,-7.524],[-73.571,-8.424],[-73.015,-9.033],[-73.227,-9.462],[-72.563,-9.52],[-72.185,-10.054],[-71.302,-10.079],[-70.482,-9.49],[-70.549,-11.009],[-70.094,-11.124],[-69.53,-10.952],[-68.665,-12.561],[-68.88,-12.9],[-68.929,-13.603],[-68.949,-14.454],[-69.34,-14.953],[-69.16,-15.324],[-69.39,-15.66],[-68.96,-16.501],[-69.59,-17.58],[-69.858,-18.093],[-70.373,-18.348],[-71.375,-17.774],[-71.462,-17.363],[-73.445,-16.359],[-75.238,-15.266],[-76.009,-14.649],[-76.423,-13.823],[-76.259,-13.535],[-77.106,-12.223],[-78.092,-10.378],[-79.037,-8.387],[-79.446,-7.931],[-79.761,-7.194],[-80.537,-6.542],[-81.25,-6.137],[-80.926,-5.691],[-81.411,-4.737],[-81.1,-4.036],[-80.303,-3.405],[-80.184,-3.821],[-80.469,-4.059],[-80.442,-4.426],[-80.029,-4.346],[-79.625,-4.454],[-79.205,-4.959],[-78.64,-4.548],[-78.451,-3.873],[-77.838,-3.003],[-76.635,-2.609],[-75.545,-1.562],[-75.234,-.911],[-75.373,-.152],[-75.107,-.057],[-74.442,-.531],[-74.122,-1.003],[-73.66,-1.26],[-73.07,-2.309],[-72.326,-2.434],[-71.775,-2.17],[-71.414,-2.343],[-70.813,-2.257],[-70.048,-2.725],[-70.693,-3.743],[-70.394,-3.767],[-69.894,-4.298]]]]},{N:"Colombia",I:"CO",C:[[[[-66.876,1.253],[-67.065,1.13],[-67.26,1.72],[-67.538,2.037],[-67.869,1.692],[-69.817,1.715],[-69.805,1.089],[-69.219,.986],[-69.252,.603],[-69.452,.706],[-70.016,.541],[-70.021,-.185],[-69.577,-.55],[-69.42,-1.123],[-69.444,-1.556],[-69.894,-4.298],[-70.394,-3.767],[-70.693,-3.743],[-70.048,-2.725],[-70.813,-2.257],[-71.414,-2.343],[-71.775,-2.17],[-72.326,-2.434],[-73.07,-2.309],[-73.66,-1.26],[-74.122,-1.003],[-74.442,-.531],[-75.107,-.057],[-75.373,-.152],[-75.801,.085],[-76.292,.416],[-76.576,.257],[-77.425,.396],[-77.669,.826],[-77.855,.81],[-78.855,1.381],[-78.991,1.691],[-78.618,1.766],[-78.662,2.267],[-78.428,2.63],[-77.932,2.697],[-77.51,3.325],[-77.128,3.85],[-77.496,4.088],[-77.308,4.668],[-77.533,5.583],[-77.319,5.845],[-77.477,6.691],[-77.882,7.224],[-77.753,7.71],[-77.431,7.638],[-77.243,7.935],[-77.475,8.524],[-77.353,8.671],[-76.837,8.639],[-76.086,9.337],[-75.675,9.443],[-75.665,9.774],[-75.48,10.619],[-74.907,11.083],[-74.277,11.102],[-74.197,11.31],[-73.415,11.227],[-72.628,11.732],[-72.238,11.956],[-71.754,12.437],[-71.4,12.376],[-71.137,12.113],[-71.332,11.776],[-71.974,11.609],[-72.228,11.109],[-72.615,10.822],[-72.905,10.45],[-73.028,9.737],[-73.305,9.152],[-72.789,9.085],[-72.66,8.625],[-72.44,8.405],[-72.361,8.003],[-72.48,7.633],[-72.444,7.424],[-72.198,7.34],[-71.96,6.992],[-70.674,7.088],[-70.093,6.96],[-69.389,6.1],[-68.985,6.207],[-68.265,6.153],[-67.695,6.267],[-67.341,6.095],[-67.522,5.557],[-67.745,5.221],[-67.823,4.504],[-67.622,3.839],[-67.338,3.542],[-67.303,3.318],[-67.81,2.821],[-67.447,2.6],[-67.181,2.251],[-66.876,1.253]]]]},{N:"Panama",I:"PA",C:[[[[-77.353,8.671],[-77.475,8.524],[-77.243,7.935],[-77.431,7.638],[-77.753,7.71],[-77.882,7.224],[-78.215,7.512],[-78.429,8.052],[-78.182,8.319],[-78.435,8.388],[-78.622,8.718],[-79.12,8.996],[-79.558,8.932],[-79.761,8.585],[-80.164,8.333],[-80.383,8.298],[-80.481,8.09],[-80.004,7.548],[-80.277,7.42],[-80.421,7.272],[-80.886,7.221],[-81.06,7.818],[-81.19,7.648],[-81.52,7.707],[-81.721,8.109],[-82.131,8.175],[-82.391,8.292],[-82.82,8.291],[-82.851,8.074],[-82.966,8.225],[-82.913,8.424],[-82.83,8.626],[-82.869,8.807],[-82.719,8.926],[-82.927,9.074],[-82.933,9.477],[-82.546,9.566],[-82.187,9.207],[-82.208,8.996],[-81.809,8.951],[-81.714,9.032],[-81.439,8.786],[-80.947,8.859],[-80.522,9.111],[-79.915,9.313],[-79.573,9.612],[-79.021,9.553],[-79.058,9.455],[-78.501,9.42],[-78.056,9.248],[-77.73,8.947],[-77.353,8.671]]]]},{N:"Costa Rica",I:"CR",C:[[[[-82.546,9.566],[-82.933,9.477],[-82.927,9.074],[-82.719,8.926],[-82.869,8.807],[-82.83,8.626],[-82.913,8.424],[-82.966,8.225],[-83.508,8.447],[-83.711,8.657],[-83.596,8.83],[-83.633,9.051],[-83.91,9.291],[-84.303,9.487],[-84.648,9.616],[-84.713,9.908],[-84.976,10.087],[-84.911,9.796],[-85.111,9.557],[-85.339,9.835],[-85.661,9.933],[-85.797,10.135],[-85.792,10.439],[-85.659,10.754],[-85.942,10.895],[-85.713,11.088],[-85.562,11.217],[-84.903,10.952],[-84.673,11.083],[-84.356,10.999],[-84.19,10.793],[-83.895,10.727],[-83.656,10.939],[-83.402,10.395],[-83.016,9.993],[-82.546,9.566]]]]},{N:"Nicaragua",I:"NI",C:[[[[-83.656,10.939],[-83.895,10.727],[-84.19,10.793],[-84.356,10.999],[-84.673,11.083],[-84.903,10.952],[-85.562,11.217],[-85.713,11.088],[-86.058,11.403],[-86.526,11.807],[-86.746,12.144],[-87.168,12.458],[-87.668,12.91],[-87.557,13.065],[-87.392,12.914],[-87.317,12.985],[-87.006,13.026],[-86.881,13.254],[-86.734,13.263],[-86.755,13.755],[-86.521,13.778],[-86.312,13.771],[-86.096,14.038],[-85.801,13.836],[-85.699,13.96],[-85.514,14.079],[-85.165,14.354],[-85.149,14.56],[-85.053,14.552],[-84.925,14.79],[-84.82,14.82],[-84.65,14.667],[-84.449,14.622],[-84.228,14.749],[-83.976,14.749],[-83.629,14.88],[-83.49,15.016],[-83.147,14.996],[-83.233,14.9],[-83.284,14.677],[-83.182,14.311],[-83.412,13.97],[-83.52,13.568],[-83.552,13.127],[-83.499,12.869],[-83.473,12.419],[-83.626,12.321],[-83.72,11.893],[-83.651,11.629],[-83.855,11.373],[-83.809,11.103],[-83.656,10.939]]]]},{N:"Honduras",I:"HN",C:[[[[-83.147,14.996],[-83.49,15.016],[-83.629,14.88],[-83.976,14.749],[-84.228,14.749],[-84.449,14.622],[-84.65,14.667],[-84.82,14.82],[-84.925,14.79],[-85.053,14.552],[-85.149,14.56],[-85.165,14.354],[-85.514,14.079],[-85.699,13.96],[-85.801,13.836],[-86.096,14.038],[-86.312,13.771],[-86.521,13.778],[-86.755,13.755],[-86.734,13.263],[-86.881,13.254],[-87.006,13.026],[-87.317,12.985],[-87.489,13.298],[-87.793,13.384],[-87.724,13.785],[-87.86,13.893],[-88.065,13.965],[-88.504,13.845],[-88.541,13.98],[-88.843,14.141],[-89.059,14.34],[-89.353,14.424],[-89.146,14.678],[-89.225,14.874],[-89.155,15.066],[-88.681,15.346],[-88.225,15.728],[-88.121,15.689],[-87.902,15.864],[-87.616,15.879],[-87.523,15.797],[-87.368,15.847],[-86.903,15.757],[-86.441,15.783],[-86.119,15.893],[-86.002,16.005],[-85.683,15.954],[-85.444,15.886],[-85.182,15.909],[-84.984,15.996],[-84.527,15.857],[-84.368,15.835],[-84.063,15.648],[-83.774,15.424],[-83.41,15.271],[-83.147,14.996]]]]},{N:"El Salvador",I:"SV",C:[[[[-89.353,14.424],[-89.059,14.34],[-88.843,14.141],[-88.541,13.98],[-88.504,13.845],[-88.065,13.965],[-87.86,13.893],[-87.724,13.785],[-87.793,13.384],[-87.904,13.149],[-88.483,13.164],[-88.843,13.26],[-89.257,13.459],[-89.812,13.521],[-90.096,13.735],[-90.065,13.882],[-89.722,14.134],[-89.534,14.245],[-89.587,14.363],[-89.353,14.424]]]]},{N:"Guatemala",I:"GT",C:[[[[-92.228,14.539],[-92.203,14.83],[-92.087,15.065],[-92.229,15.251],[-91.748,16.067],[-90.464,16.07],[-90.439,16.41],[-90.601,16.471],[-90.712,16.687],[-91.082,16.918],[-91.454,17.252],[-91.002,17.255],[-91.002,17.818],[-90.068,17.819],[-89.143,17.808],[-89.151,17.016],[-89.229,15.887],[-88.931,15.887],[-88.605,15.706],[-88.518,15.855],[-88.225,15.728],[-88.681,15.346],[-89.155,15.066],[-89.225,14.874],[-89.146,14.678],[-89.353,14.424],[-89.587,14.363],[-89.534,14.245],[-89.722,14.134],[-90.065,13.882],[-90.096,13.735],[-90.609,13.91],[-91.232,13.928],[-91.69,14.126],[-92.228,14.539]]]]},{N:"Belize",I:"BZ",C:[[[[-89.143,17.808],[-89.151,17.955],[-89.03,18.002],[-88.848,17.883],[-88.49,18.487],[-88.3,18.5],[-88.296,18.353],[-88.107,18.349],[-88.123,18.077],[-88.285,17.644],[-88.198,17.489],[-88.303,17.132],[-88.24,17.036],[-88.355,16.531],[-88.552,16.265],[-88.732,16.234],[-88.931,15.887],[-89.229,15.887],[-89.151,17.016],[-89.143,17.808]]]]},{N:"Venezuela",I:"VE",C:[[[[-60.734,5.2],[-60.601,4.918],[-60.967,4.536],[-62.085,4.162],[-62.805,4.007],[-63.093,3.771],[-63.888,4.021],[-64.629,4.148],[-64.816,4.056],[-64.368,3.797],[-64.409,3.127],[-64.27,2.497],[-63.423,2.411],[-63.369,2.201],[-64.083,1.916],[-64.199,1.493],[-64.611,1.329],[-65.355,1.095],[-65.548,.789],[-66.326,.724],[-66.876,1.253],[-67.181,2.251],[-67.447,2.6],[-67.81,2.821],[-67.303,3.318],[-67.338,3.542],[-67.622,3.839],[-67.823,4.504],[-67.745,5.221],[-67.522,5.557],[-67.341,6.095],[-67.695,6.267],[-68.265,6.153],[-68.985,6.207],[-69.389,6.1],[-70.093,6.96],[-70.674,7.088],[-71.96,6.992],[-72.198,7.34],[-72.444,7.424],[-72.48,7.633],[-72.361,8.003],[-72.44,8.405],[-72.66,8.625],[-72.789,9.085],[-73.305,9.152],[-73.028,9.737],[-72.905,10.45],[-72.615,10.822],[-72.228,11.109],[-71.974,11.609],[-71.332,11.776],[-71.36,11.54],[-71.947,11.423],[-71.621,10.969],[-71.633,10.446],[-72.074,9.866],[-71.696,9.072],[-71.265,9.137],[-71.04,9.86],[-71.35,10.212],[-71.401,10.969],[-70.155,11.375],[-70.294,11.847],[-69.943,12.162],[-69.584,11.46],[-68.883,11.443],[-68.233,10.886],[-68.194,10.555],[-67.296,10.546],[-66.228,10.649],[-65.655,10.201],[-64.89,10.077],[-64.329,10.39],[-64.318,10.641],[-63.079,10.702],[-61.881,10.716],[-62.73,10.42],[-62.389,9.948],[-61.589,9.873],[-60.831,9.381],[-60.671,8.58],[-60.15,8.603],[-59.758,8.367],[-60.551,7.78],[-60.638,7.415],[-60.296,7.044],[-60.544,6.857],[-61.159,6.696],[-61.139,6.234],[-61.41,5.959],[-60.734,5.2]]]]},{N:"Guyana",I:"GY",C:[[[[-56.539,1.9],[-56.783,1.864],[-57.336,1.949],[-57.661,1.683],[-58.113,1.507],[-58.429,1.464],[-58.54,1.268],[-59.031,1.318],[-59.646,1.787],[-59.719,2.25],[-59.975,2.755],[-59.815,3.606],[-59.538,3.959],[-59.767,4.424],[-60.111,4.575],[-59.981,5.014],[-60.214,5.244],[-60.734,5.2],[-61.41,5.959],[-61.139,6.234],[-61.159,6.696],[-60.544,6.857],[-60.296,7.044],[-60.638,7.415],[-60.551,7.78],[-59.758,8.367],[-59.102,7.999],[-58.483,7.348],[-58.455,6.833],[-58.078,6.809],[-57.542,6.321],[-57.147,5.973],[-57.307,5.074],[-57.914,4.813],[-57.86,4.577],[-58.045,4.061],[-57.602,3.335],[-57.281,3.333],[-57.15,2.769],[-56.539,1.9]]]]},{N:"Suriname",I:"SR",C:[[[[-54.525,2.312],[-55.098,2.524],[-55.57,2.422],[-55.973,2.51],[-56.073,2.221],[-55.906,2.022],[-55.996,1.818],[-56.539,1.9],[-57.15,2.769],[-57.281,3.333],[-57.602,3.335],[-58.045,4.061],[-57.86,4.577],[-57.914,4.813],[-57.307,5.074],[-57.147,5.973],[-55.949,5.773],[-55.842,5.953],[-55.033,6.025],[-53.958,5.757],[-54.479,4.897],[-54.4,4.213],[-54.007,3.62],[-54.182,3.19],[-54.27,2.732],[-54.525,2.312]]]]},{N:"France",I:"FR",C:[[[[-51.658,4.156],[-52.249,3.241],[-52.556,2.505],[-52.94,2.125],[-53.418,2.053],[-53.555,2.335],[-53.779,2.377],[-54.088,2.106],[-54.525,2.312],[-54.27,2.732],[-54.182,3.19],[-54.007,3.62],[-54.4,4.213],[-54.479,4.897],[-53.958,5.757],[-53.618,5.647],[-52.882,5.41],[-51.823,4.566],[-51.658,4.156]]],[[[8.746,42.628],[9.39,43.01],[9.56,42.152],[9.23,41.38],[8.776,41.584],[8.544,42.257],[8.746,42.628]]],[[[6.186,49.464],[6.658,49.202],[8.099,49.018],[7.594,48.333],[7.467,47.621],[7.192,47.45],[6.737,47.542],[6.769,47.288],[6.037,46.726],[6.023,46.273],[6.5,46.43],[6.844,45.991],[6.802,45.709],[7.097,45.333],[6.75,45.029],[7.008,44.255],[7.55,44.128],[7.435,43.694],[6.529,43.129],[4.557,43.4],[3.1,43.075],[2.986,42.473],[1.827,42.343],[.702,42.796],[.338,42.58],[-1.503,43.034],[-1.901,43.423],[-1.384,44.023],[-1.194,46.015],[-2.226,47.064],[-2.963,47.57],[-4.492,47.955],[-4.592,48.684],[-3.296,48.902],[-1.617,48.644],[-1.933,49.776],[-.989,49.347],[1.339,50.127],[1.639,50.947],[2.514,51.149],[2.658,50.797],[3.123,50.78],[3.588,50.379],[4.286,49.907],[4.799,49.985],[5.674,49.529],[5.898,49.443],[6.186,49.464]]],[[[8.746,42.628],[9.39,43.01],[9.56,42.152],[9.23,41.38],[8.776,41.584],[8.544,42.257],[8.746,42.628]]]]},{N:"Ecuador",I:"EC",C:[[[[-75.373,-.152],[-75.234,-.911],[-75.545,-1.562],[-76.635,-2.609],[-77.838,-3.003],[-78.451,-3.873],[-78.64,-4.548],[-79.205,-4.959],[-79.625,-4.454],[-80.029,-4.346],[-80.442,-4.426],[-80.469,-4.059],[-80.184,-3.821],[-80.303,-3.405],[-79.77,-2.658],[-79.987,-2.221],[-80.369,-2.685],[-80.968,-2.247],[-80.765,-1.965],[-80.934,-1.057],[-80.583,-.907],[-80.399,-.284],[-80.021,.36],[-80.091,.768],[-79.543,.983],[-78.855,1.381],[-77.855,.81],[-77.669,.826],[-77.425,.396],[-76.576,.257],[-76.292,.416],[-75.801,.085],[-75.373,-.152]]]]},{N:"Puerto Rico",I:"PR",C:[[[[-66.282,18.515],[-65.771,18.427],[-65.591,18.228],[-65.847,17.976],[-66.6,17.982],[-67.184,17.947],[-67.242,18.374],[-67.101,18.521],[-66.282,18.515]]]]},{N:"Jamaica",I:"JM",C:[[[[-77.57,18.491],[-76.897,18.401],[-76.365,18.161],[-76.2,17.887],[-76.903,17.868],[-77.206,17.701],[-77.766,17.862],[-78.338,18.226],[-78.218,18.455],[-77.797,18.524],[-77.57,18.491]]]]},{N:"Cuba",I:"CU",C:[[[[-82.268,23.189],[-81.404,23.117],[-80.619,23.106],[-79.68,22.765],[-79.281,22.399],[-78.347,22.512],[-77.993,22.277],[-77.146,21.658],[-76.524,21.207],[-76.195,21.221],[-75.598,21.017],[-75.671,20.735],[-74.934,20.694],[-74.178,20.285],[-74.297,20.05],[-74.962,19.923],[-75.635,19.874],[-76.324,19.953],[-77.755,19.855],[-77.085,20.413],[-77.493,20.673],[-78.137,20.74],[-78.483,21.029],[-78.72,21.598],[-79.285,21.559],[-80.217,21.827],[-80.518,22.037],[-81.821,22.192],[-82.17,22.387],[-81.795,22.637],[-82.776,22.688],[-83.494,22.169],[-83.909,22.155],[-84.052,21.911],[-84.547,21.801],[-84.975,21.896],[-84.447,22.205],[-84.23,22.566],[-83.778,22.788],[-83.268,22.983],[-82.51,23.079],[-82.268,23.189]]]]},{N:"Zimbabwe",I:"ZW",C:[[[[31.191,-22.252],[30.66,-22.152],[30.323,-22.272],[29.839,-22.102],[29.432,-22.091],[28.795,-21.639],[28.021,-21.486],[27.727,-20.852],[27.725,-20.499],[27.297,-20.392],[26.165,-19.293],[25.85,-18.714],[25.649,-18.536],[25.264,-17.737],[26.382,-17.846],[26.707,-17.961],[27.044,-17.938],[27.598,-17.291],[28.468,-16.468],[28.826,-16.39],[28.947,-16.043],[29.517,-15.645],[30.274,-15.508],[30.339,-15.881],[31.173,-15.861],[31.636,-16.072],[31.852,-16.319],[32.328,-16.392],[32.848,-16.713],[32.85,-17.979],[32.655,-18.672],[32.612,-19.419],[32.773,-19.716],[32.66,-20.304],[32.509,-20.395],[32.245,-21.116],[31.191,-22.252]]]]},{N:"Botswana",I:"BW",C:[[[[29.432,-22.091],[28.017,-22.828],[27.119,-23.574],[26.786,-24.241],[26.486,-24.616],[25.942,-24.696],[25.766,-25.175],[25.665,-25.487],[25.025,-25.72],[24.211,-25.67],[23.734,-25.39],[23.312,-25.269],[22.824,-25.5],[22.58,-25.979],[22.106,-26.28],[21.606,-26.727],[20.89,-26.829],[20.666,-26.477],[20.759,-25.868],[20.166,-24.918],[19.896,-24.768],[19.895,-21.849],[20.881,-21.814],[20.911,-18.252],[21.655,-18.219],[23.197,-17.869],[23.579,-18.281],[24.217,-17.889],[24.521,-17.887],[25.084,-17.662],[25.264,-17.737],[25.649,-18.536],[25.85,-18.714],[26.165,-19.293],[27.297,-20.392],[27.725,-20.499],[27.727,-20.852],[28.021,-21.486],[28.795,-21.639],[29.432,-22.091]]]]},{N:"Namibia",I:"NA",C:[[[[19.896,-24.768],[19.895,-28.461],[19.002,-28.972],[18.465,-29.045],[17.836,-28.856],[17.387,-28.784],[17.219,-28.356],[16.824,-28.082],[16.345,-28.577],[15.602,-27.821],[15.21,-27.091],[14.99,-26.117],[14.743,-25.393],[14.408,-23.853],[14.386,-22.657],[14.258,-22.111],[13.869,-21.699],[13.352,-20.873],[12.827,-19.673],[12.609,-19.045],[11.795,-18.069],[11.734,-17.302],[12.215,-17.112],[12.814,-16.941],[13.462,-16.971],[14.059,-17.423],[14.21,-17.353],[18.263,-17.31],[18.956,-17.789],[21.377,-17.931],[23.215,-17.523],[24.034,-17.296],[24.682,-17.353],[25.077,-17.579],[25.084,-17.662],[24.521,-17.887],[24.217,-17.889],[23.579,-18.281],[23.197,-17.869],[21.655,-18.219],[20.911,-18.252],[20.881,-21.814],[19.895,-21.849],[19.896,-24.768]]]]},{N:"Senegal",I:"SN",C:[[[[-16.714,13.595],[-17.126,14.374],[-17.625,14.73],[-17.185,14.919],[-16.701,15.622],[-16.463,16.135],[-16.121,16.456],[-15.624,16.369],[-15.136,16.587],[-14.577,16.598],[-14.1,16.304],[-13.436,16.039],[-12.831,15.304],[-12.171,14.617],[-12.125,13.995],[-11.928,13.422],[-11.553,13.141],[-11.468,12.755],[-11.514,12.443],[-11.658,12.387],[-12.204,12.466],[-12.279,12.354],[-12.499,12.332],[-13.218,12.576],[-13.7,12.586],[-15.548,12.628],[-15.817,12.516],[-16.148,12.548],[-16.677,12.385],[-16.842,13.151],[-15.931,13.13],[-15.691,13.27],[-15.512,13.279],[-15.141,13.51],[-14.712,13.298],[-14.278,13.281],[-13.845,13.505],[-14.047,13.794],[-14.377,13.626],[-14.687,13.63],[-15.082,13.876],[-15.399,13.86],[-15.625,13.624],[-16.714,13.595]]]]},{N:"Mali",I:"ML",C:[[[[-11.514,12.443],[-11.468,12.755],[-11.553,13.141],[-11.928,13.422],[-12.125,13.995],[-12.171,14.617],[-11.834,14.799],[-11.666,15.388],[-11.349,15.411],[-10.651,15.133],[-10.087,15.33],[-9.7,15.264],[-9.55,15.486],[-5.538,15.502],[-5.315,16.202],[-5.489,16.325],[-5.971,20.641],[-6.454,24.957],[-4.923,24.975],[-1.55,22.793],[1.823,20.611],[2.061,20.142],[2.684,19.856],[3.147,19.694],[3.158,19.057],[4.267,19.155],[4.27,16.852],[3.723,16.184],[3.638,15.568],[2.75,15.41],[1.386,15.324],[1.016,14.968],[.375,14.929],[-.266,14.924],[-.516,15.116],[-1.066,14.974],[-2.001,14.559],[-2.192,14.246],[-2.968,13.798],[-3.104,13.541],[-3.523,13.338],[-4.006,13.472],[-4.28,13.228],[-4.427,12.543],[-5.221,11.714],[-5.198,11.375],[-5.471,10.951],[-5.404,10.371],[-5.817,10.223],[-6.05,10.096],[-6.205,10.524],[-6.494,10.411],[-6.666,10.431],[-6.851,10.139],[-7.623,10.147],[-7.9,10.297],[-8.03,10.207],[-8.335,10.495],[-8.282,10.793],[-8.407,10.909],[-8.62,10.811],[-8.581,11.136],[-8.376,11.394],[-8.786,11.813],[-8.905,12.088],[-9.127,12.308],[-9.328,12.334],[-9.568,12.194],[-9.891,12.06],[-10.165,11.844],[-10.593,11.924],[-10.871,12.178],[-11.037,12.211],[-11.298,12.078],[-11.456,12.077],[-11.514,12.443]]]]},{N:"Mauritania",I:"MR",C:[[[[-17.063,21],[-16.845,21.333],[-12.929,21.327],[-13.119,22.771],[-12.874,23.285],[-11.937,23.375],[-11.969,25.933],[-8.687,25.881],[-8.684,27.396],[-4.923,24.975],[-6.454,24.957],[-5.971,20.641],[-5.489,16.325],[-5.315,16.202],[-5.538,15.502],[-9.55,15.486],[-9.7,15.264],[-10.087,15.33],[-10.651,15.133],[-11.349,15.411],[-11.666,15.388],[-11.834,14.799],[-12.171,14.617],[-12.831,15.304],[-13.436,16.039],[-14.1,16.304],[-14.577,16.598],[-15.136,16.587],[-15.624,16.369],[-16.121,16.456],[-16.463,16.135],[-16.55,16.674],[-16.271,17.167],[-16.146,18.108],[-16.257,19.097],[-16.378,19.594],[-16.278,20.093],[-16.536,20.568],[-17.063,21]]]]},{N:"Benin",I:"BJ",C:[[[[2.692,6.259],[1.865,6.142],[1.619,6.832],[1.664,9.129],[1.463,9.335],[1.425,9.825],[1.078,10.176],[.772,10.471],[.9,10.997],[1.243,11.111],[1.447,11.548],[1.936,11.641],[2.154,11.94],[2.49,12.233],[2.849,12.236],[3.611,11.66],[3.572,11.328],[3.797,10.735],[3.6,10.332],[3.705,10.063],[3.22,9.444],[2.912,9.138],[2.724,8.507],[2.749,7.871],[2.692,6.259]]]]},{N:"Niger",I:"NE",C:[[[[14.851,22.863],[15.097,21.309],[15.471,21.048],[15.487,20.73],[15.903,20.388],[15.686,19.957],[15.3,17.928],[15.248,16.627],[13.972,15.684],[13.54,14.367],[13.957,13.997],[13.954,13.353],[14.596,13.33],[14.496,12.859],[14.214,12.802],[14.181,12.484],[13.995,12.462],[13.319,13.556],[13.084,13.596],[12.302,13.037],[11.528,13.329],[10.99,13.387],[10.701,13.247],[10.115,13.277],[9.525,12.851],[9.015,12.827],[7.805,13.344],[7.331,13.098],[6.82,13.115],[6.445,13.493],[5.443,13.866],[4.368,13.747],[4.108,13.531],[3.967,12.956],[3.681,12.553],[3.611,11.66],[2.849,12.236],[2.49,12.233],[2.154,11.94],[2.177,12.625],[1.024,12.852],[.993,13.336],[.43,13.989],[.296,14.444],[.375,14.929],[1.016,14.968],[1.386,15.324],[2.75,15.41],[3.638,15.568],[3.723,16.184],[4.27,16.852],[4.267,19.155],[5.678,19.601],[8.573,21.566],[12,23.472],[13.581,23.041],[14.144,22.491],[14.851,22.863]]]]},{N:"Nigeria",I:"NG",C:[[[[2.692,6.259],[2.749,7.871],[2.724,8.507],[2.912,9.138],[3.22,9.444],[3.705,10.063],[3.6,10.332],[3.797,10.735],[3.572,11.328],[3.611,11.66],[3.681,12.553],[3.967,12.956],[4.108,13.531],[4.368,13.747],[5.443,13.866],[6.445,13.493],[6.82,13.115],[7.331,13.098],[7.805,13.344],[9.015,12.827],[9.525,12.851],[10.115,13.277],[10.701,13.247],[10.99,13.387],[11.528,13.329],[12.302,13.037],[13.084,13.596],[13.319,13.556],[13.995,12.462],[14.181,12.484],[14.577,12.085],[14.468,11.905],[14.415,11.572],[13.573,10.799],[13.309,10.16],[13.168,9.641],[12.955,9.418],[12.754,8.718],[12.219,8.306],[12.064,7.8],[11.839,7.397],[11.746,6.981],[11.059,6.644],[10.497,7.055],[10.118,7.039],[9.523,6.453],[9.233,6.444],[8.758,5.48],[8.5,4.772],[7.462,4.412],[7.083,4.465],[6.698,4.241],[5.898,4.262],[5.363,4.888],[5.034,5.612],[4.326,6.271],[3.574,6.258],[2.692,6.259]]]]},{N:"Cameroon",I:"CM",C:[[[[14.496,12.859],[14.893,12.219],[14.96,11.556],[14.924,10.891],[15.468,9.982],[14.909,9.992],[14.627,9.921],[14.171,10.021],[13.954,9.549],[14.544,8.966],[14.98,8.796],[15.121,8.382],[15.436,7.693],[15.279,7.422],[14.777,6.408],[14.537,6.227],[14.459,5.452],[14.559,5.031],[14.478,4.733],[14.951,4.21],[15.036,3.851],[15.405,3.335],[15.863,3.014],[15.907,2.557],[16.013,2.268],[15.941,1.728],[15.146,1.964],[14.338,2.228],[13.076,2.267],[12.951,2.322],[12.359,2.193],[11.752,2.327],[11.276,2.261],[9.649,2.284],[9.795,3.073],[9.404,3.735],[8.948,3.904],[8.745,4.352],[8.489,4.496],[8.5,4.772],[8.758,5.48],[9.233,6.444],[9.523,6.453],[10.118,7.039],[10.497,7.055],[11.059,6.644],[11.746,6.981],[11.839,7.397],[12.064,7.8],[12.219,8.306],[12.754,8.718],[12.955,9.418],[13.168,9.641],[13.309,10.16],[13.573,10.799],[14.415,11.572],[14.468,11.905],[14.577,12.085],[14.181,12.484],[14.214,12.802],[14.496,12.859]]]]},{N:"Togo",I:"TG",C:[[[[.9,10.997],[.772,10.471],[1.078,10.176],[1.425,9.825],[1.463,9.335],[1.664,9.129],[1.619,6.832],[1.865,6.142],[1.06,5.929],[.837,6.28],[.57,6.914],[.491,7.412],[.712,8.312],[.461,8.677],[.366,9.465],[.368,10.191],[-.05,10.707],[.024,11.019],[.9,10.997]]]]},{N:"Ghana",I:"GH",C:[[[[.024,11.019],[-.05,10.707],[.368,10.191],[.366,9.465],[.461,8.677],[.712,8.312],[.491,7.412],[.57,6.914],[.837,6.28],[1.06,5.929],[-.508,5.343],[-1.064,5.001],[-1.965,4.71],[-2.856,4.994],[-2.811,5.389],[-3.244,6.25],[-2.984,7.38],[-2.562,8.22],[-2.827,9.642],[-2.964,10.395],[-2.94,10.963],[-1.203,11.01],[-.762,10.937],[-.439,11.098],[.024,11.019]]]]},{N:"Côted'Ivoire",I:"CI",C:[[[[-8.03,10.207],[-7.9,10.297],[-7.623,10.147],[-6.851,10.139],[-6.666,10.431],[-6.494,10.411],[-6.205,10.524],[-6.05,10.096],[-5.817,10.223],[-5.404,10.371],[-4.955,10.153],[-4.78,9.822],[-4.33,9.611],[-3.98,9.862],[-3.512,9.9],[-2.827,9.642],[-2.562,8.22],[-2.984,7.38],[-3.244,6.25],[-2.811,5.389],[-2.856,4.994],[-3.311,4.984],[-4.009,5.18],[-4.65,5.168],[-5.834,4.994],[-6.529,4.705],[-7.519,4.338],[-7.712,4.365],[-7.635,5.188],[-7.54,5.313],[-7.57,5.707],[-7.994,6.126],[-8.311,6.193],[-8.603,6.468],[-8.385,6.912],[-8.485,7.395],[-8.439,7.686],[-8.281,7.687],[-8.222,8.123],[-8.299,8.316],[-8.203,8.455],[-7.832,8.576],[-8.079,9.376],[-8.31,9.79],[-8.229,10.129],[-8.03,10.207]]]]},{N:"Guinea",I:"GN",C:[[[[-13.7,12.586],[-13.218,12.576],[-12.499,12.332],[-12.279,12.354],[-12.204,12.466],[-11.658,12.387],[-11.514,12.443],[-11.456,12.077],[-11.298,12.078],[-11.037,12.211],[-10.871,12.178],[-10.593,11.924],[-10.165,11.844],[-9.891,12.06],[-9.568,12.194],[-9.328,12.334],[-9.127,12.308],[-8.905,12.088],[-8.786,11.813],[-8.376,11.394],[-8.581,11.136],[-8.62,10.811],[-8.407,10.909],[-8.282,10.793],[-8.335,10.495],[-8.03,10.207],[-8.229,10.129],[-8.31,9.79],[-8.079,9.376],[-7.832,8.576],[-8.203,8.455],[-8.299,8.316],[-8.222,8.123],[-8.281,7.687],[-8.439,7.686],[-8.722,7.712],[-8.926,7.309],[-9.209,7.314],[-9.403,7.527],[-9.337,7.929],[-9.755,8.541],[-10.017,8.429],[-10.23,8.406],[-10.505,8.349],[-10.494,8.716],[-10.655,8.977],[-10.622,9.268],[-10.839,9.688],[-11.117,10.046],[-11.917,10.047],[-12.15,9.859],[-12.426,9.836],[-12.597,9.62],[-12.712,9.343],[-13.247,8.903],[-13.685,9.495],[-14.074,9.886],[-14.33,10.016],[-14.58,10.214],[-14.693,10.656],[-14.84,10.877],[-15.13,11.04],[-14.686,11.528],[-14.382,11.509],[-14.121,11.677],[-13.901,11.679],[-13.743,11.811],[-13.828,12.143],[-13.719,12.247],[-13.7,12.586]]]]},{N:"Guinea-Bissau",I:"GW",C:[[[[-16.677,12.385],[-16.148,12.548],[-15.817,12.516],[-15.548,12.628],[-13.7,12.586],[-13.719,12.247],[-13.828,12.143],[-13.743,11.811],[-13.901,11.679],[-14.121,11.677],[-14.382,11.509],[-14.686,11.528],[-15.13,11.04],[-15.664,11.458],[-16.085,11.525],[-16.315,11.807],[-16.309,11.959],[-16.614,12.171],[-16.677,12.385]]]]},{N:"Liberia",I:"LR",C:[[[[-8.439,7.686],[-8.485,7.395],[-8.385,6.912],[-8.603,6.468],[-8.311,6.193],[-7.994,6.126],[-7.57,5.707],[-7.54,5.313],[-7.635,5.188],[-7.712,4.365],[-7.974,4.356],[-9.005,4.832],[-9.913,5.594],[-10.765,6.141],[-11.439,6.786],[-11.2,7.106],[-11.147,7.397],[-10.696,7.939],[-10.23,8.406],[-10.017,8.429],[-9.755,8.541],[-9.337,7.929],[-9.403,7.527],[-9.209,7.314],[-8.926,7.309],[-8.722,7.712],[-8.439,7.686]]]]},{N:"Sierra Leone",I:"SL",C:[[[[-13.247,8.903],[-12.712,9.343],[-12.597,9.62],[-12.426,9.836],[-12.15,9.859],[-11.917,10.047],[-11.117,10.046],[-10.839,9.688],[-10.622,9.268],[-10.655,8.977],[-10.494,8.716],[-10.505,8.349],[-10.23,8.406],[-10.696,7.939],[-11.147,7.397],[-11.2,7.106],[-11.439,6.786],[-11.708,6.86],[-12.428,7.263],[-12.949,7.799],[-13.124,8.164],[-13.247,8.903]]]]},{N:"Burkina Faso",I:"BF",C:[[[[-5.404,10.371],[-5.471,10.951],[-5.198,11.375],[-5.221,11.714],[-4.427,12.543],[-4.28,13.228],[-4.006,13.472],[-3.523,13.338],[-3.104,13.541],[-2.968,13.798],[-2.192,14.246],[-2.001,14.559],[-1.066,14.974],[-.516,15.116],[-.266,14.924],[.375,14.929],[.296,14.444],[.43,13.989],[.993,13.336],[1.024,12.852],[2.177,12.625],[2.154,11.94],[1.936,11.641],[1.447,11.548],[1.243,11.111],[.9,10.997],[.024,11.019],[-.439,11.098],[-.762,10.937],[-1.203,11.01],[-2.94,10.963],[-2.964,10.395],[-2.827,9.642],[-3.512,9.9],[-3.98,9.862],[-4.33,9.611],[-4.78,9.822],[-4.955,10.153],[-5.404,10.371]]]]},{N:"Central African Republic",I:"CF",C:[[[[27.374,5.234],[27.044,5.128],[26.403,5.151],[25.65,5.256],[25.279,5.17],[25.129,4.927],[24.805,4.897],[24.411,5.109],[23.297,4.61],[22.841,4.71],[22.704,4.633],[22.405,4.029],[21.659,4.224],[20.928,4.323],[20.291,4.692],[19.468,5.032],[18.932,4.71],[18.543,4.202],[18.453,3.504],[17.81,3.56],[17.133,3.728],[16.537,3.198],[16.013,2.268],[15.907,2.557],[15.863,3.014],[15.405,3.335],[15.036,3.851],[14.951,4.21],[14.478,4.733],[14.559,5.031],[14.459,5.452],[14.537,6.227],[14.777,6.408],[15.279,7.422],[16.106,7.497],[16.291,7.754],[16.456,7.735],[16.706,7.508],[17.965,7.891],[18.39,8.281],[18.911,8.631],[18.812,8.983],[19.094,9.075],[20.06,9.013],[21.001,9.476],[21.724,10.567],[22.231,10.972],[22.864,11.142],[22.978,10.714],[23.554,10.089],[23.557,9.681],[23.395,9.265],[23.459,8.954],[23.806,8.666],[24.567,8.229],[25.115,7.825],[25.124,7.5],[25.797,6.979],[26.213,6.547],[26.466,5.947],[27.213,5.551],[27.374,5.234]]]]},{N:"Republic of the Congo",I:"CG",C:[[[[18.453,3.504],[18.394,2.9],[18.094,2.366],[17.899,1.742],[17.774,.856],[17.827,.289],[17.664,-.058],[17.639,-.425],[17.524,-.744],[16.865,-1.226],[16.407,-1.741],[15.973,-2.712],[16.006,-3.535],[15.754,-3.855],[15.171,-4.344],[14.583,-4.97],[14.209,-4.793],[14.145,-4.51],[13.6,-4.5],[13.258,-4.883],[12.996,-4.781],[12.621,-4.438],[12.319,-4.606],[11.915,-5.038],[11.094,-3.979],[11.855,-3.427],[11.478,-2.766],[11.821,-2.514],[12.496,-2.392],[12.575,-1.949],[13.11,-2.429],[13.992,-2.471],[14.299,-1.998],[14.425,-1.333],[14.316,-.553],[13.843,.039],[14.276,1.197],[14.027,1.396],[13.283,1.314],[13.003,1.831],[13.076,2.267],[14.338,2.228],[15.146,1.964],[15.941,1.728],[16.013,2.268],[16.537,3.198],[17.133,3.728],[17.81,3.56],[18.453,3.504]]]]},{N:"Gabon",I:"GA",C:[[[[11.276,2.261],[11.752,2.327],[12.359,2.193],[12.951,2.322],[13.076,2.267],[13.003,1.831],[13.283,1.314],[14.027,1.396],[14.276,1.197],[13.843,.039],[14.316,-.553],[14.425,-1.333],[14.299,-1.998],[13.992,-2.471],[13.11,-2.429],[12.575,-1.949],[12.496,-2.392],[11.821,-2.514],[11.478,-2.766],[11.855,-3.427],[11.094,-3.979],[10.066,-2.969],[9.405,-2.144],[8.798,-1.111],[8.83,-.779],[9.048,-.459],[9.291,.269],[9.493,1.01],[9.83,1.068],[11.285,1.058],[11.276,2.261]]]]},{N:"Equatorial Guinea",I:"GQ",C:[[[[9.649,2.284],[11.276,2.261],[11.285,1.058],[9.83,1.068],[9.493,1.01],[9.306,1.161],[9.649,2.284]]]]},{N:"Zambia",I:"ZM",C:[[[[30.74,-8.34],[31.158,-8.595],[31.556,-8.762],[32.192,-8.93],[32.759,-9.231],[33.231,-9.677],[33.486,-10.526],[33.315,-10.797],[33.114,-11.607],[33.306,-12.436],[32.992,-12.784],[32.688,-13.713],[33.214,-13.972],[30.179,-14.796],[30.274,-15.508],[29.517,-15.645],[28.947,-16.043],[28.826,-16.39],[28.468,-16.468],[27.598,-17.291],[27.044,-17.938],[26.707,-17.961],[26.382,-17.846],[25.264,-17.737],[25.084,-17.662],[25.077,-17.579],[24.682,-17.353],[24.034,-17.296],[23.215,-17.523],[22.562,-16.898],[21.888,-16.08],[21.934,-12.898],[24.016,-12.911],[23.931,-12.566],[24.08,-12.191],[23.904,-11.722],[24.018,-11.237],[23.912,-10.927],[24.257,-10.952],[24.315,-11.263],[24.783,-11.239],[25.418,-11.331],[25.752,-11.785],[26.553,-11.924],[27.164,-11.609],[27.389,-12.133],[28.155,-12.272],[28.524,-12.699],[28.934,-13.249],[29.7,-13.257],[29.616,-12.179],[29.342,-12.361],[28.642,-11.972],[28.372,-11.794],[28.496,-10.79],[28.674,-9.606],[28.45,-9.165],[28.735,-8.527],[29.003,-8.407],[30.346,-8.238],[30.74,-8.34]]]]},{N:"Malawi",I:"MW",C:[[[[32.759,-9.231],[33.74,-9.417],[33.941,-9.694],[34.28,-10.16],[34.56,-11.52],[34.28,-12.28],[34.56,-13.58],[34.907,-13.565],[35.268,-13.888],[35.687,-14.611],[35.772,-15.897],[35.339,-16.107],[35.034,-16.801],[34.381,-16.184],[34.307,-15.479],[34.518,-15.014],[34.46,-14.613],[34.065,-14.36],[33.79,-14.452],[33.214,-13.972],[32.688,-13.713],[32.992,-12.784],[33.306,-12.436],[33.114,-11.607],[33.315,-10.797],[33.486,-10.526],[33.231,-9.677],[32.759,-9.231]]]]},{N:"Mozambique",I:"MZ",C:[[[[34.56,-11.52],[35.312,-11.439],[36.514,-11.721],[36.775,-11.595],[37.471,-11.569],[37.828,-11.269],[38.428,-11.285],[39.521,-10.897],[40.317,-10.317],[40.317,-10.317],[40.317,-10.317],[40.478,-10.765],[40.437,-11.762],[40.561,-12.639],[40.6,-14.202],[40.775,-14.692],[40.477,-15.406],[40.089,-16.101],[39.453,-16.721],[38.538,-17.101],[37.411,-17.586],[36.281,-18.66],[35.896,-18.842],[35.198,-19.553],[34.786,-19.784],[34.702,-20.497],[35.176,-21.254],[35.373,-21.841],[35.386,-22.14],[35.563,-22.09],[35.534,-23.071],[35.372,-23.535],[35.607,-23.707],[35.459,-24.123],[35.041,-24.478],[34.216,-24.816],[33.013,-25.358],[32.575,-25.727],[32.66,-26.149],[32.916,-26.216],[32.83,-26.742],[32.072,-26.734],[31.986,-26.292],[31.838,-25.843],[31.752,-25.484],[31.931,-24.369],[31.67,-23.659],[31.191,-22.252],[32.245,-21.116],[32.509,-20.395],[32.66,-20.304],[32.773,-19.716],[32.612,-19.419],[32.655,-18.672],[32.85,-17.979],[32.848,-16.713],[32.328,-16.392],[31.852,-16.319],[31.636,-16.072],[31.173,-15.861],[30.339,-15.881],[30.274,-15.508],[30.179,-14.796],[33.214,-13.972],[33.79,-14.452],[34.065,-14.36],[34.46,-14.613],[34.518,-15.014],[34.307,-15.479],[34.381,-16.184],[35.034,-16.801],[35.339,-16.107],[35.772,-15.897],[35.687,-14.611],[35.268,-13.888],[34.907,-13.565],[34.56,-13.58],[34.28,-12.28],[34.56,-11.52]]]]},{N:"Eswatini",I:"SZ",C:[[[[32.072,-26.734],[31.868,-27.178],[31.283,-27.286],[30.686,-26.744],[30.677,-26.398],[30.95,-26.023],[31.044,-25.731],[31.333,-25.66],[31.838,-25.843],[31.986,-26.292],[32.072,-26.734]]]]},{N:"Angola",I:"AO",C:[[[[12.996,-4.781],[12.632,-4.991],[12.468,-5.248],[12.437,-5.684],[12.182,-5.79],[11.915,-5.038],[12.319,-4.606],[12.621,-4.438],[12.996,-4.781]]],[[[12.322,-6.1],[12.735,-5.966],[13.025,-5.984],[13.376,-5.864],[16.327,-5.877],[16.573,-6.623],[16.86,-7.222],[17.09,-7.546],[17.473,-8.069],[18.134,-7.988],[18.464,-7.847],[19.017,-7.988],[19.167,-7.738],[19.418,-7.155],[20.038,-7.116],[20.092,-6.943],[20.602,-6.939],[20.515,-7.3],[21.728,-7.291],[21.746,-7.92],[21.949,-8.306],[21.802,-8.909],[21.875,-9.524],[22.209,-9.895],[22.155,-11.085],[22.403,-10.993],[22.837,-11.018],[23.457,-10.868],[23.912,-10.927],[24.018,-11.237],[23.904,-11.722],[24.08,-12.191],[23.931,-12.566],[24.016,-12.911],[21.934,-12.898],[21.888,-16.08],[22.562,-16.898],[23.215,-17.523],[21.377,-17.931],[18.956,-17.789],[18.263,-17.31],[14.21,-17.353],[14.059,-17.423],[13.462,-16.971],[12.814,-16.941],[12.215,-17.112],[11.734,-17.302],[11.64,-16.673],[11.779,-15.794],[12.124,-14.878],[12.176,-14.449],[12.5,-13.548],[12.738,-13.138],[13.313,-12.484],[13.634,-12.039],[13.739,-11.298],[13.686,-10.731],[13.387,-10.374],[13.121,-9.767],[12.875,-9.167],[12.929,-8.959],[13.236,-8.563],[12.933,-7.597],[12.728,-6.927],[12.227,-6.294],[12.322,-6.1]]]]},{N:"Burundi",I:"BI",C:[[[[30.47,-2.414],[30.528,-2.808],[30.743,-3.034],[30.752,-3.359],[30.506,-3.569],[30.116,-4.09],[29.754,-4.452],[29.34,-4.5],[29.276,-3.294],[29.025,-2.839],[29.632,-2.918],[29.938,-2.348],[30.47,-2.414]]]]},{N:"Israel",I:"IL",C:[[[[35.72,32.709],[35.546,32.394],[35.184,32.533],[34.975,31.867],[35.226,31.754],[34.971,31.617],[34.927,31.353],[35.398,31.489],[35.421,31.1],[34.923,29.501],[34.823,29.761],[34.265,31.219],[34.265,31.219],[34.265,31.219],[34.556,31.549],[34.488,31.606],[34.753,32.073],[34.955,32.827],[35.098,33.081],[35.126,33.091],[35.461,33.089],[35.553,33.264],[35.821,33.277],[35.836,32.868],[35.701,32.716],[35.72,32.709]]]]},{N:"Lebanon",I:"LB",C:[[[[35.821,33.277],[35.553,33.264],[35.461,33.089],[35.126,33.091],[35.482,33.905],[35.98,34.61],[35.998,34.645],[36.448,34.594],[36.612,34.202],[36.066,33.825],[35.821,33.277]]]]},{N:"Madagascar",I:"MG",C:[[[[49.544,-12.47],[49.809,-12.895],[50.057,-13.556],[50.217,-14.759],[50.477,-15.227],[50.377,-15.706],[50.2,-16],[49.861,-15.414],[49.673,-15.71],[49.863,-16.451],[49.775,-16.875],[49.499,-17.106],[49.436,-17.953],[49.042,-19.119],[48.549,-20.497],[47.931,-22.392],[47.548,-23.782],[47.096,-24.942],[46.282,-25.178],[45.41,-25.601],[44.834,-25.346],[44.04,-24.988],[43.764,-24.461],[43.698,-23.574],[43.346,-22.777],[43.254,-22.057],[43.433,-21.336],[43.894,-21.163],[43.896,-20.83],[44.374,-20.072],[44.464,-19.435],[44.232,-18.962],[44.043,-18.331],[43.963,-17.41],[44.312,-16.85],[44.447,-16.216],[44.945,-16.179],[45.503,-15.974],[45.873,-15.793],[46.312,-15.78],[46.882,-15.21],[47.705,-14.594],[48.005,-14.091],[47.869,-13.664],[48.294,-13.784],[48.845,-13.089],[48.864,-12.488],[49.195,-12.041],[49.544,-12.47]]]]},{N:"Palestine",I:"PS",C:[[[[35.398,31.489],[34.927,31.353],[34.971,31.617],[35.226,31.754],[34.975,31.867],[35.184,32.533],[35.546,32.394],[35.545,31.783],[35.398,31.489]]]]},{N:"The Gambia",I:"GM",C:[[[[-16.714,13.595],[-15.625,13.624],[-15.399,13.86],[-15.082,13.876],[-14.687,13.63],[-14.377,13.626],[-14.047,13.794],[-13.845,13.505],[-14.278,13.281],[-14.712,13.298],[-15.141,13.51],[-15.512,13.279],[-15.691,13.27],[-15.931,13.13],[-16.842,13.151],[-16.714,13.595]]]]},{N:"Tunisia",I:"TN",C:[[[[9.482,30.308],[9.056,32.103],[8.439,32.506],[8.43,32.748],[7.613,33.344],[7.524,34.097],[8.141,34.655],[8.376,35.48],[8.218,36.433],[8.421,36.946],[9.51,37.35],[10.21,37.23],[10.181,36.724],[11.029,37.092],[11.1,36.9],[10.6,36.41],[10.593,35.947],[10.94,35.699],[10.808,34.834],[10.15,34.331],[10.34,33.786],[10.857,33.769],[11.109,33.293],[11.489,33.137],[11.432,32.369],[10.945,32.082],[10.637,31.761],[9.95,31.376],[10.057,30.962],[9.97,30.539],[9.482,30.308]]]]},{N:"Algeria",I:"DZ",C:[[[[-8.684,27.396],[-8.665,27.589],[-8.666,27.656],[-8.674,28.841],[-7.059,29.579],[-6.061,29.732],[-5.242,30],[-4.86,30.501],[-3.69,30.897],[-3.647,31.637],[-3.069,31.724],[-2.617,32.094],[-1.308,32.263],[-1.125,32.652],[-1.388,32.864],[-1.733,33.92],[-1.793,34.528],[-2.17,35.168],[-1.209,35.715],[-.127,35.889],[.504,36.301],[1.467,36.606],[3.162,36.784],[4.816,36.865],[5.32,36.717],[6.262,37.111],[7.33,37.118],[7.737,36.886],[8.421,36.946],[8.218,36.433],[8.376,35.48],[8.141,34.655],[7.524,34.097],[7.613,33.344],[8.43,32.748],[8.439,32.506],[9.056,32.103],[9.482,30.308],[9.806,29.425],[9.86,28.96],[9.684,28.144],[9.756,27.688],[9.629,27.141],[9.716,26.512],[9.319,26.094],[9.911,25.365],[9.948,24.937],[10.304,24.379],[10.771,24.563],[11.561,24.098],[12,23.472],[8.573,21.566],[5.678,19.601],[4.267,19.155],[3.158,19.057],[3.147,19.694],[2.684,19.856],[2.061,20.142],[1.823,20.611],[-1.55,22.793],[-4.923,24.975],[-8.684,27.396]]]]},{N:"Jordan",I:"JO",C:[[[[35.546,32.394],[35.72,32.709],[36.834,32.313],[38.792,33.379],[39.195,32.161],[39.005,32.01],[37.002,31.508],[37.999,30.508],[37.668,30.339],[37.504,30.004],[36.741,29.865],[36.501,29.505],[36.069,29.197],[34.956,29.357],[34.923,29.501],[35.421,31.1],[35.398,31.489],[35.545,31.783],[35.546,32.394]]]]},{N:"United Arab Emirates",I:"AE",C:[[[[51.58,24.245],[51.757,24.294],[51.794,24.02],[52.577,24.177],[53.404,24.151],[54.008,24.122],[54.693,24.798],[55.439,25.439],[56.071,26.055],[56.261,25.715],[56.397,24.925],[55.886,24.921],[55.804,24.27],[55.981,24.131],[55.529,23.934],[55.526,23.525],[55.234,23.111],[55.208,22.708],[55.007,22.497],[52.001,23.001],[51.618,24.014],[51.58,24.245]]]]},{N:"Qatar",I:"QA",C:[[[[50.81,24.755],[50.744,25.482],[51.013,26.007],[51.286,26.115],[51.589,25.801],[51.607,25.216],[51.39,24.627],[51.112,24.556],[50.81,24.755]]]]},{N:"Kuwait",I:"KW",C:[[[[47.975,29.976],[48.183,29.534],[48.094,29.306],[48.416,28.552],[47.709,28.526],[47.46,29.003],[46.569,29.099],[47.303,30.059],[47.975,29.976]]]]},{N:"Iraq",I:"IQ",C:[[[[39.195,32.161],[38.792,33.379],[41.006,34.419],[41.384,35.628],[41.29,36.359],[41.837,36.606],[42.35,37.23],[42.779,37.385],[43.942,37.256],[44.293,37.002],[44.773,37.17],[45.421,35.978],[46.076,35.677],[46.152,35.093],[45.648,34.748],[45.417,33.968],[46.109,33.017],[47.335,32.469],[47.849,31.709],[47.685,30.985],[48.005,30.985],[48.015,30.452],[48.568,29.927],[47.975,29.976],[47.303,30.059],[46.569,29.099],[44.709,29.179],[41.89,31.19],[40.4,31.89],[39.195,32.161]]]]},{N:"Oman",I:"OM",C:[[[[55.208,22.708],[55.234,23.111],[55.526,23.525],[55.529,23.934],[55.981,24.131],[55.804,24.27],[55.886,24.921],[56.397,24.925],[56.845,24.242],[57.403,23.879],[58.137,23.748],[58.729,23.566],[59.181,22.992],[59.45,22.66],[59.808,22.534],[59.806,22.311],[59.442,21.715],[59.282,21.434],[58.861,21.114],[58.488,20.429],[58.034,20.481],[57.826,20.243],[57.666,19.736],[57.789,19.068],[57.694,18.945],[57.234,18.948],[56.61,18.574],[56.512,18.087],[56.284,17.876],[55.661,17.884],[55.27,17.632],[55.275,17.228],[54.791,16.951],[54.239,17.045],[53.571,16.708],[53.109,16.651],[52.782,17.35],[52,19],[55,20],[55.667,22],[55.208,22.708]]],[[[56.261,25.715],[56.071,26.055],[56.362,26.396],[56.486,26.309],[56.391,25.896],[56.261,25.715]]]]},{N:"Vanuatu",I:"VU",C:[[[[167.217,-15.892],[167.845,-16.466],[167.515,-16.598],[167.18,-16.16],[167.217,-15.892]]],[[[166.793,-15.669],[166.65,-15.393],[166.629,-14.626],[167.108,-14.934],[167.27,-15.74],[167.001,-15.615],[166.793,-15.669]]]]},{N:"Cambodia",I:"KH",C:[[[[102.585,12.187],[102.348,13.394],[102.988,14.226],[104.281,14.417],[105.219,14.273],[106.044,13.881],[106.496,14.571],[107.383,14.202],[107.615,13.536],[107.491,12.337],[105.811,11.568],[106.25,10.962],[105.2,10.889],[104.334,10.487],[103.497,10.633],[103.091,11.154],[102.585,12.187]]]]},{N:"Thailand",I:"TH",C:[[[[105.219,14.273],[104.281,14.417],[102.988,14.226],[102.348,13.394],[102.585,12.187],[101.687,12.646],[100.832,12.627],[100.978,13.413],[100.098,13.407],[100.019,12.307],[99.479,10.846],[99.154,9.963],[99.222,9.239],[99.874,9.208],[100.28,8.295],[100.459,7.43],[101.017,6.857],[101.623,6.741],[102.141,6.222],[101.814,5.811],[101.154,5.691],[101.076,6.205],[100.26,6.643],[100.086,6.464],[99.691,6.848],[99.52,7.343],[98.988,7.908],[98.504,8.382],[98.34,7.795],[98.15,8.35],[98.259,8.974],[98.554,9.933],[99.038,10.961],[99.587,11.893],[99.196,12.805],[99.212,13.269],[99.098,13.828],[98.431,14.622],[98.192,15.124],[98.537,15.308],[98.903,16.178],[98.494,16.838],[97.859,17.568],[97.376,18.445],[97.798,18.627],[98.254,19.708],[98.96,19.753],[99.543,20.187],[100.116,20.418],[100.549,20.109],[100.606,19.508],[101.282,19.463],[101.036,18.409],[101.06,17.512],[102.114,18.109],[102.413,17.933],[102.999,17.962],[103.2,18.31],[103.956,18.241],[104.717,17.429],[104.779,16.442],[105.589,15.57],[105.544,14.724],[105.219,14.273]]]]},{N:"Lao PDR",I:"LA",C:[[[[107.383,14.202],[106.496,14.571],[106.044,13.881],[105.219,14.273],[105.544,14.724],[105.589,15.57],[104.779,16.442],[104.717,17.429],[103.956,18.241],[103.2,18.31],[102.999,17.962],[102.413,17.933],[102.114,18.109],[101.06,17.512],[101.036,18.409],[101.282,19.463],[100.606,19.508],[100.549,20.109],[100.116,20.418],[100.329,20.786],[101.18,21.437],[101.27,21.202],[101.803,21.174],[101.652,22.318],[102.17,22.465],[102.755,21.675],[103.204,20.767],[104.435,20.759],[104.823,19.887],[104.183,19.625],[103.897,19.265],[105.095,18.667],[105.926,17.485],[106.556,16.604],[107.313,15.909],[107.565,15.202],[107.383,14.202]]]]},{N:"Myanmar",I:"MM",C:[[[[100.116,20.418],[99.543,20.187],[98.96,19.753],[98.254,19.708],[97.798,18.627],[97.376,18.445],[97.859,17.568],[98.494,16.838],[98.903,16.178],[98.537,15.308],[98.192,15.124],[98.431,14.622],[99.098,13.828],[99.212,13.269],[99.196,12.805],[99.587,11.893],[99.038,10.961],[98.554,9.933],[98.457,10.675],[98.765,11.441],[98.428,12.033],[98.51,13.122],[98.104,13.64],[97.778,14.837],[97.597,16.101],[97.165,16.929],[96.506,16.427],[95.369,15.714],[94.808,15.803],[94.189,16.038],[94.533,17.277],[94.325,18.214],[93.541,19.366],[93.663,19.727],[93.078,19.855],[92.369,20.671],[92.303,21.475],[92.652,21.324],[92.673,22.041],[93.166,22.278],[93.06,22.703],[93.286,23.044],[93.325,24.079],[94.107,23.851],[94.553,24.675],[94.603,25.162],[95.155,26.001],[95.125,26.574],[96.419,27.265],[97.134,27.084],[97.052,27.699],[97.403,27.883],[97.327,28.262],[97.912,28.336],[98.246,27.747],[98.683,27.509],[98.712,26.744],[98.672,25.919],[97.725,25.084],[97.605,23.897],[98.66,24.063],[98.899,23.143],[99.532,22.949],[99.241,22.118],[99.983,21.743],[100.417,21.559],[101.15,21.85],[101.18,21.437],[100.329,20.786],[100.116,20.418]]]]},{N:"Vietnam",I:"VN",C:[[[[104.334,10.487],[105.2,10.889],[106.25,10.962],[105.811,11.568],[107.491,12.337],[107.615,13.536],[107.383,14.202],[107.565,15.202],[107.313,15.909],[106.556,16.604],[105.926,17.485],[105.095,18.667],[103.897,19.265],[104.183,19.625],[104.823,19.887],[104.435,20.759],[103.204,20.767],[102.755,21.675],[102.17,22.465],[102.707,22.709],[103.505,22.704],[104.477,22.819],[105.329,23.352],[105.811,22.977],[106.725,22.794],[106.567,22.218],[107.043,21.812],[108.05,21.552],[106.715,20.697],[105.882,19.752],[105.662,19.058],[106.427,18.004],[107.362,16.697],[108.269,16.08],[108.877,15.277],[109.335,13.426],[109.2,11.667],[108.366,11.008],[107.221,10.364],[106.405,9.531],[105.158,8.6],[104.795,9.241],[105.076,9.918],[104.334,10.487]]]]},{N:"Dem. Rep. Korea",I:"KP",C:[[[[130.78,42.22],[130.78,42.22],[130.78,42.22],[130.78,42.22]]],[[[130.64,42.395],[130.64,42.395],[130.78,42.22],[130.4,42.28],[129.966,41.941],[129.667,41.601],[129.705,40.883],[129.188,40.662],[129.01,40.485],[128.633,40.19],[127.967,40.025],[127.533,39.757],[127.502,39.324],[127.385,39.213],[127.783,39.051],[128.35,38.612],[128.206,38.37],[127.78,38.305],[127.073,38.256],[126.684,37.805],[126.237,37.84],[126.175,37.75],[125.689,37.94],[125.568,37.752],[125.275,37.669],[125.24,37.857],[124.981,37.949],[124.712,38.108],[124.986,38.548],[125.222,38.666],[125.133,38.849],[125.387,39.388],[125.321,39.551],[124.737,39.66],[124.266,39.928],[125.08,40.57],[126.182,41.107],[126.869,41.817],[127.344,41.503],[128.208,41.467],[128.052,41.994],[129.597,42.425],[129.994,42.985],[130.64,42.395]]]]},{N:"Republic of Korea",I:"KR",C:[[[[126.175,37.75],[126.237,37.84],[126.684,37.805],[127.073,38.256],[127.78,38.305],[128.206,38.37],[128.35,38.612],[129.213,37.432],[129.46,36.784],[129.468,35.632],[129.091,35.082],[128.186,34.89],[127.387,34.476],[126.486,34.39],[126.374,34.935],[126.559,35.685],[126.117,36.725],[126.86,36.894],[126.175,37.75]]]]},{N:"Mongolia",I:"MN",C:[[[[87.751,49.297],[88.806,49.471],[90.714,50.332],[92.235,50.802],[93.104,50.495],[94.148,50.481],[94.816,50.013],[95.814,49.977],[97.26,49.726],[98.232,50.422],[97.826,51.011],[98.861,52.047],[99.982,51.634],[100.889,51.517],[102.065,51.26],[102.256,50.511],[103.677,50.09],[104.622,50.275],[105.887,50.406],[106.889,50.274],[107.868,49.794],[108.475,49.283],[109.402,49.293],[110.662,49.13],[111.581,49.378],[112.898,49.544],[114.362,50.248],[114.962,50.14],[115.486,49.805],[116.679,49.889],[116.192,49.135],[115.485,48.135],[115.743,47.727],[116.309,47.853],[117.296,47.698],[118.064,48.067],[118.867,47.747],[119.773,47.048],[119.663,46.693],[118.874,46.805],[117.422,46.673],[116.718,46.388],[115.985,45.727],[114.46,45.34],[113.464,44.809],[112.436,45.012],[111.873,45.102],[111.348,44.457],[111.668,44.073],[111.83,43.743],[111.13,43.407],[110.412,42.871],[109.244,42.519],[107.745,42.482],[106.129,42.134],[104.965,41.597],[104.522,41.908],[103.312,41.907],[101.833,42.515],[100.846,42.664],[99.516,42.525],[97.452,42.749],[96.349,42.726],[95.762,43.319],[95.307,44.241],[94.689,44.352],[93.481,44.975],[92.134,45.115],[90.946,45.286],[90.586,45.72],[90.971,46.888],[90.281,47.694],[88.854,48.069],[88.014,48.599],[87.751,49.297]]]]},{N:"India",I:"IN",C:[[[[97.327,28.262],[97.403,27.883],[97.052,27.699],[97.134,27.084],[96.419,27.265],[95.125,26.574],[95.155,26.001],[94.603,25.162],[94.553,24.675],[94.107,23.851],[93.325,24.079],[93.286,23.044],[93.06,22.703],[93.166,22.278],[92.673,22.041],[92.146,23.627],[91.87,23.624],[91.706,22.985],[91.159,23.504],[91.468,24.073],[91.915,24.13],[92.376,24.977],[91.8,25.147],[90.872,25.133],[89.921,25.27],[89.832,25.965],[89.355,26.014],[88.563,26.447],[88.21,25.768],[88.932,25.239],[88.306,24.866],[88.084,24.502],[88.7,24.234],[88.53,23.631],[88.876,22.879],[89.032,22.056],[88.889,21.691],[88.208,21.703],[86.976,21.496],[87.033,20.743],[86.499,20.152],[85.06,19.479],[83.941,18.302],[83.189,17.671],[82.193,17.017],[82.191,16.557],[81.693,16.31],[80.792,15.952],[80.325,15.899],[80.025,15.136],[80.233,13.836],[80.286,13.006],[79.863,12.056],[79.858,10.357],[79.341,10.309],[78.885,9.546],[79.19,9.217],[78.278,8.933],[77.941,8.253],[77.54,7.966],[76.593,8.899],[76.13,10.3],[75.746,11.308],[75.396,11.781],[74.865,12.742],[74.617,13.993],[74.444,14.617],[73.534,15.991],[73.12,17.929],[72.821,19.208],[72.824,20.42],[72.631,21.356],[71.175,20.757],[70.47,20.877],[69.164,22.089],[69.645,22.451],[69.35,22.843],[68.177,23.692],[68.843,24.359],[71.043,24.357],[70.845,25.215],[70.283,25.722],[70.169,26.492],[69.514,26.941],[70.616,27.989],[71.778,27.913],[72.824,28.962],[73.451,29.976],[74.421,30.98],[74.406,31.693],[75.259,32.271],[74.452,32.765],[74.104,33.441],[73.75,34.318],[74.24,34.749],[75.757,34.505],[76.872,34.654],[77.837,35.494],[78.912,34.322],[78.811,33.506],[79.209,32.994],[79.176,32.484],[78.458,32.618],[78.739,31.516],[79.721,30.883],[81.111,30.183],[80.477,29.73],[80.088,28.794],[81.057,28.416],[82,27.925],[83.304,27.365],[84.675,27.235],[85.252,26.726],[86.024,26.631],[87.227,26.398],[88.06,26.415],[88.175,26.81],[88.043,27.446],[88.12,27.877],[88.73,28.087],[88.814,27.299],[88.836,27.099],[89.745,26.719],[90.373,26.876],[91.218,26.809],[92.033,26.838],[92.104,27.453],[91.697,27.772],[92.503,27.897],[93.413,28.641],[94.566,29.277],[95.405,29.032],[96.118,29.453],[96.587,28.831],[96.249,28.411],[97.327,28.262]]]]},{N:"Bangladesh",I:"BD",C:[[[[92.673,22.041],[92.652,21.324],[92.303,21.475],[92.369,20.671],[92.083,21.192],[92.025,21.702],[91.835,22.183],[91.417,22.765],[90.496,22.805],[90.587,22.393],[90.273,21.836],[89.847,22.039],[89.702,21.857],[89.419,21.966],[89.032,22.056],[88.876,22.879],[88.53,23.631],[88.7,24.234],[88.084,24.502],[88.306,24.866],[88.932,25.239],[88.21,25.768],[88.563,26.447],[89.355,26.014],[89.832,25.965],[89.921,25.27],[90.872,25.133],[91.8,25.147],[92.376,24.977],[91.915,24.13],[91.468,24.073],[91.159,23.504],[91.706,22.985],[91.87,23.624],[92.146,23.627],[92.673,22.041]]]]},{N:"Bhutan",I:"BT",C:[[[[91.697,27.772],[92.104,27.453],[92.033,26.838],[91.218,26.809],[90.373,26.876],[89.745,26.719],[88.836,27.099],[88.814,27.299],[89.476,28.043],[90.016,28.296],[90.731,28.065],[91.259,28.041],[91.697,27.772]]]]},{N:"Nepal",I:"NP",C:[[[[88.12,27.877],[88.043,27.446],[88.175,26.81],[88.06,26.415],[87.227,26.398],[86.024,26.631],[85.252,26.726],[84.675,27.235],[83.304,27.365],[82,27.925],[81.057,28.416],[80.088,28.794],[80.477,29.73],[81.111,30.183],[81.526,30.423],[82.328,30.115],[83.337,29.464],[83.899,29.32],[84.235,28.84],[85.012,28.643],[85.823,28.204],[86.955,27.974],[88.12,27.877]]]]},{N:"Pakistan",I:"PK",C:[[[[77.837,35.494],[76.872,34.654],[75.757,34.505],[74.24,34.749],[73.75,34.318],[74.104,33.441],[74.452,32.765],[75.259,32.271],[74.406,31.693],[74.421,30.98],[73.451,29.976],[72.824,28.962],[71.778,27.913],[70.616,27.989],[69.514,26.941],[70.169,26.492],[70.283,25.722],[70.845,25.215],[71.043,24.357],[68.843,24.359],[68.177,23.692],[67.444,23.945],[67.145,24.664],[66.373,25.425],[64.53,25.237],[62.906,25.218],[61.497,25.078],[61.874,26.24],[63.317,26.757],[63.234,27.217],[62.755,27.379],[62.728,28.26],[61.772,28.699],[61.369,29.303],[60.874,29.829],[62.55,29.319],[63.55,29.468],[64.148,29.341],[64.35,29.56],[65.047,29.472],[66.346,29.888],[66.381,30.739],[66.939,31.305],[67.683,31.303],[67.793,31.583],[68.557,31.713],[68.927,31.62],[69.318,31.901],[69.263,32.502],[69.687,33.105],[70.324,33.359],[69.931,34.02],[70.882,33.989],[71.157,34.349],[71.115,34.733],[71.613,35.153],[71.499,35.651],[71.262,36.074],[71.846,36.51],[72.92,36.72],[74.068,36.836],[74.576,37.021],[75.158,37.133],[75.897,36.667],[76.193,35.898],[77.837,35.494]]]]},{N:"Afghanistan",I:"AF",C:[[[[66.519,37.363],[67.076,37.356],[67.83,37.145],[68.136,37.023],[68.859,37.344],[69.196,37.151],[69.519,37.609],[70.117,37.588],[70.271,37.735],[70.376,38.138],[70.807,38.486],[71.348,38.259],[71.239,37.953],[71.542,37.906],[71.449,37.066],[71.845,36.738],[72.193,36.948],[72.637,37.048],[73.26,37.495],[73.949,37.422],[74.98,37.42],[75.158,37.133],[74.576,37.021],[74.068,36.836],[72.92,36.72],[71.846,36.51],[71.262,36.074],[71.499,35.651],[71.613,35.153],[71.115,34.733],[71.157,34.349],[70.882,33.989],[69.931,34.02],[70.324,33.359],[69.687,33.105],[69.263,32.502],[69.318,31.901],[68.927,31.62],[68.557,31.713],[67.793,31.583],[67.683,31.303],[66.939,31.305],[66.381,30.739],[66.346,29.888],[65.047,29.472],[64.35,29.56],[64.148,29.341],[63.55,29.468],[62.55,29.319],[60.874,29.829],[61.781,30.736],[61.699,31.38],[60.942,31.548],[60.864,32.183],[60.536,32.981],[60.964,33.529],[60.528,33.676],[60.803,34.404],[61.211,35.65],[62.231,35.271],[62.985,35.404],[63.194,35.857],[63.983,36.008],[64.546,36.312],[64.746,37.112],[65.589,37.305],[65.746,37.661],[66.217,37.394],[66.519,37.363]]]]},{N:"Tajikistan",I:"TJ",C:[[[[67.83,37.145],[68.392,38.157],[68.176,38.902],[67.442,39.14],[67.701,39.58],[68.536,39.533],[69.012,40.086],[69.329,40.728],[70.667,40.96],[70.458,40.496],[70.601,40.219],[71.014,40.244],[70.648,39.936],[69.56,40.103],[69.465,39.527],[70.549,39.604],[71.785,39.279],[73.675,39.431],[73.929,38.506],[74.258,38.607],[74.865,38.379],[74.83,37.99],[74.98,37.42],[73.949,37.422],[73.26,37.495],[72.637,37.048],[72.193,36.948],[71.845,36.738],[71.449,37.066],[71.542,37.906],[71.239,37.953],[71.348,38.259],[70.807,38.486],[70.376,38.138],[70.271,37.735],[70.117,37.588],[69.519,37.609],[69.196,37.151],[68.859,37.344],[68.136,37.023],[67.83,37.145]]]]},{N:"Kyrgyzstan",I:"KG",C:[[[[70.962,42.266],[71.186,42.704],[71.845,42.845],[73.49,42.501],[73.645,43.091],[74.213,43.298],[75.637,42.878],[76,42.988],[77.658,42.961],[79.142,42.856],[79.644,42.497],[80.26,42.35],[80.119,42.124],[78.544,41.582],[78.187,41.185],[76.904,41.066],[76.526,40.428],[75.468,40.562],[74.777,40.366],[73.822,39.894],[73.96,39.66],[73.675,39.431],[71.785,39.279],[70.549,39.604],[69.465,39.527],[69.56,40.103],[70.648,39.936],[71.014,40.244],[71.775,40.146],[73.055,40.866],[71.87,41.393],[71.158,41.144],[70.42,41.52],[71.259,42.168],[70.962,42.266]]]]},{N:"Turkmenistan",I:"TM",C:[[[[52.502,41.783],[52.944,42.116],[54.079,42.324],[54.755,42.044],[55.455,41.26],[55.968,41.309],[57.096,41.322],[56.932,41.826],[57.787,42.171],[58.629,42.752],[59.976,42.223],[60.083,41.425],[60.466,41.22],[61.547,41.266],[61.883,41.085],[62.374,40.054],[63.518,39.363],[64.17,38.892],[65.216,38.403],[66.546,37.975],[66.519,37.363],[66.217,37.394],[65.746,37.661],[65.589,37.305],[64.746,37.112],[64.546,36.312],[63.983,36.008],[63.194,35.857],[62.985,35.404],[62.231,35.271],[61.211,35.65],[61.123,36.492],[60.378,36.527],[59.235,37.413],[58.436,37.522],[57.33,38.029],[56.619,38.121],[56.18,37.935],[55.512,37.964],[54.8,37.392],[53.922,37.199],[53.736,37.906],[53.881,38.952],[53.101,39.291],[53.358,39.975],[52.694,40.034],[52.915,40.877],[53.858,40.631],[54.737,40.951],[54.008,41.551],[53.722,42.123],[52.917,41.868],[52.815,41.135],[52.502,41.783]]]]},{N:"Iran",I:"IR",C:[[[[48.568,29.927],[48.015,30.452],[48.005,30.985],[47.685,30.985],[47.849,31.709],[47.335,32.469],[46.109,33.017],[45.417,33.968],[45.648,34.748],[46.152,35.093],[46.076,35.677],[45.421,35.978],[44.773,37.17],[44.773,37.17],[44.226,37.972],[44.421,38.281],[44.109,39.428],[44.794,39.713],[44.953,39.336],[45.458,38.874],[46.144,38.741],[46.506,38.771],[47.685,39.508],[48.06,39.582],[48.356,39.289],[48.011,38.794],[48.634,38.27],[48.883,38.32],[49.2,37.583],[50.148,37.375],[50.842,36.873],[52.264,36.7],[53.826,36.965],[53.922,37.199],[54.8,37.392],[55.512,37.964],[56.18,37.935],[56.619,38.121],[57.33,38.029],[58.436,37.522],[59.235,37.413],[60.378,36.527],[61.123,36.492],[61.211,35.65],[60.803,34.404],[60.528,33.676],[60.964,33.529],[60.536,32.981],[60.864,32.183],[60.942,31.548],[61.699,31.38],[61.781,30.736],[60.874,29.829],[61.369,29.303],[61.772,28.699],[62.728,28.26],[62.755,27.379],[63.234,27.217],[63.317,26.757],[61.874,26.24],[61.497,25.078],[59.616,25.38],[58.526,25.61],[57.397,25.74],[56.971,26.966],[56.492,27.143],[55.724,26.965],[54.715,26.481],[53.493,26.812],[52.484,27.581],[51.521,27.866],[50.853,28.815],[50.115,30.148],[49.577,29.986],[48.941,30.317],[48.568,29.927]]]]},{N:"Syria",I:"SY",C:[[[[35.72,32.709],[35.701,32.716],[35.836,32.868],[35.821,33.277],[36.066,33.825],[36.612,34.202],[36.448,34.594],[35.998,34.645],[35.905,35.41],[36.15,35.822],[36.418,36.041],[36.685,36.26],[36.739,36.818],[37.067,36.623],[38.168,36.901],[38.7,36.713],[39.523,36.716],[40.673,37.091],[41.212,37.074],[42.35,37.23],[41.837,36.606],[41.29,36.359],[41.384,35.628],[41.006,34.419],[38.792,33.379],[36.834,32.313],[35.72,32.709]]]]},{N:"Armenia",I:"AM",C:[[[[46.506,38.771],[46.144,38.741],[45.735,39.32],[45.74,39.474],[45.298,39.472],[45.002,39.74],[44.794,39.713],[44.4,40.005],[43.656,40.254],[43.753,40.74],[43.583,41.092],[44.972,41.248],[45.179,40.985],[45.56,40.812],[45.359,40.562],[45.892,40.218],[45.61,39.9],[46.035,39.628],[46.483,39.464],[46.506,38.771]]]]},{N:"Sweden",I:"SE",C:[[[[11.027,58.856],[11.468,59.432],[12.3,60.118],[12.631,61.294],[11.992,61.8],[11.931,63.128],[12.58,64.066],[13.572,64.049],[13.92,64.445],[13.556,64.787],[15.108,66.194],[16.109,67.302],[16.769,68.014],[17.729,68.011],[17.994,68.567],[19.879,68.407],[20.025,69.065],[20.646,69.106],[21.979,68.617],[23.539,67.936],[23.566,66.396],[23.903,66.007],[22.183,65.724],[21.214,65.026],[21.37,64.414],[19.779,63.61],[17.848,62.749],[17.12,61.341],[17.831,60.637],[18.788,60.082],[17.869,58.954],[16.829,58.72],[16.448,57.041],[15.88,56.104],[14.667,56.201],[14.101,55.408],[12.943,55.362],[12.625,56.307],[11.788,57.442],[11.027,58.856]]]]},{N:"Belarus",I:"BY",C:[[[[28.177,56.169],[29.23,55.918],[29.372,55.67],[29.896,55.789],[30.874,55.551],[30.972,55.082],[30.758,54.812],[31.384,54.157],[31.791,53.975],[31.731,53.794],[32.406,53.618],[32.694,53.351],[32.305,53.133],[31.498,53.167],[31.305,53.074],[31.54,52.742],[31.786,52.102],[31.786,52.102],[30.928,52.042],[30.619,51.823],[30.555,51.32],[30.157,51.416],[29.255,51.368],[28.993,51.602],[28.618,51.428],[28.242,51.572],[27.454,51.592],[26.338,51.832],[25.328,51.911],[24.553,51.888],[24.005,51.617],[23.527,51.578],[23.508,52.024],[23.199,52.487],[23.799,52.691],[23.805,53.09],[23.528,53.47],[23.484,53.912],[24.451,53.906],[25.536,54.282],[25.768,54.847],[26.588,55.167],[26.494,55.615],[27.102,55.783],[28.177,56.169]]]]},{N:"Ukraine",I:"UA",C:[[[[31.786,52.102],[32.159,52.061],[32.412,52.289],[32.716,52.238],[33.753,52.335],[34.392,51.769],[34.142,51.566],[34.225,51.256],[35.022,51.208],[35.378,50.774],[35.356,50.577],[36.626,50.226],[37.393,50.384],[38.011,49.916],[38.595,49.926],[40.069,49.601],[40.081,49.307],[39.675,48.784],[39.896,48.232],[39.738,47.899],[38.771,47.826],[38.255,47.546],[38.224,47.102],[37.425,47.022],[36.76,46.699],[35.824,46.646],[34.962,46.273],[35.013,45.738],[34.862,45.768],[34.732,45.966],[34.41,46.005],[33.699,46.22],[33.436,45.972],[33.299,46.081],[31.744,46.333],[31.675,46.706],[30.749,46.583],[30.378,46.032],[29.603,45.293],[29.15,45.465],[28.68,45.304],[28.234,45.488],[28.485,45.597],[28.66,45.94],[28.934,46.259],[28.863,46.438],[29.072,46.518],[29.171,46.379],[29.76,46.35],[30.025,46.424],[29.838,46.525],[29.909,46.674],[29.56,46.929],[29.415,47.347],[29.051,47.51],[29.123,47.849],[28.671,48.118],[28.26,48.156],[27.523,48.467],[26.858,48.368],[26.619,48.221],[26.197,48.221],[25.946,47.987],[25.208,47.891],[24.866,47.738],[24.402,47.982],[23.761,47.986],[23.142,48.096],[22.711,47.882],[22.641,48.15],[22.086,48.422],[22.281,48.825],[22.558,49.086],[22.776,49.027],[22.518,49.477],[23.427,50.309],[23.923,50.425],[24.03,50.705],[23.527,51.578],[24.005,51.617],[24.553,51.888],[25.328,51.911],[26.338,51.832],[27.454,51.592],[28.242,51.572],[28.618,51.428],[28.993,51.602],[29.255,51.368],[30.157,51.416],[30.555,51.32],[30.619,51.823],[30.928,52.042],[31.786,52.102]]],[[[33.436,45.972],[33.699,46.22],[34.41,46.005],[34.732,45.966],[34.862,45.768],[35.013,45.738],[35.021,45.651],[35.51,45.41],[36.53,45.47],[36.335,45.113],[35.24,44.94],[33.883,44.361],[33.326,44.565],[33.547,45.035],[32.454,45.327],[32.631,45.519],[33.588,45.852],[33.436,45.972]]]]},{N:"Poland",I:"PL",C:[[[[23.484,53.912],[23.528,53.47],[23.805,53.09],[23.799,52.691],[23.199,52.487],[23.508,52.024],[23.527,51.578],[24.03,50.705],[23.923,50.425],[23.427,50.309],[22.518,49.477],[22.776,49.027],[22.558,49.086],[21.608,49.47],[20.888,49.329],[20.416,49.431],[19.825,49.217],[19.321,49.572],[18.91,49.436],[18.853,49.496],[18.393,49.989],[17.649,50.049],[17.555,50.362],[16.869,50.474],[16.719,50.216],[16.176,50.423],[16.239,50.698],[15.491,50.785],[15.017,51.107],[14.607,51.745],[14.685,52.09],[14.438,52.625],[14.075,52.981],[14.353,53.248],[14.12,53.757],[14.803,54.051],[16.363,54.513],[17.623,54.852],[18.621,54.683],[18.696,54.439],[19.661,54.426],[20.892,54.313],[22.731,54.328],[23.244,54.221],[23.484,53.912]]]]},{N:"Austria",I:"AT",C:[[[[16.98,48.123],[16.904,47.715],[16.341,47.713],[16.534,47.496],[16.202,46.852],[16.012,46.684],[15.137,46.659],[14.632,46.432],[13.806,46.509],[12.376,46.768],[12.153,47.115],[11.165,46.942],[11.049,46.751],[10.443,46.894],[9.932,46.921],[9.48,47.103],[9.633,47.348],[9.594,47.525],[9.896,47.58],[10.402,47.302],[10.545,47.566],[11.426,47.524],[12.141,47.703],[12.621,47.672],[12.933,47.468],[13.026,47.638],[12.884,48.289],[13.243,48.416],[13.596,48.877],[14.339,48.555],[14.901,48.964],[15.253,49.039],[16.03,48.734],[16.499,48.786],[16.96,48.597],[16.88,48.47],[16.98,48.123]]]]},{N:"Hungary",I:"HU",C:[[[[22.086,48.422],[22.641,48.15],[22.711,47.882],[22.1,47.672],[21.627,46.994],[21.022,46.316],[20.22,46.127],[19.596,46.172],[18.83,45.909],[18.83,45.909],[18.456,45.759],[17.63,45.952],[16.883,46.381],[16.565,46.504],[16.371,46.841],[16.202,46.852],[16.534,47.496],[16.341,47.713],[16.904,47.715],[16.98,48.123],[17.488,47.867],[17.857,47.758],[18.697,47.881],[18.777,48.082],[19.174,48.111],[19.661,48.267],[19.769,48.203],[20.239,48.328],[20.474,48.563],[20.801,48.624],[21.872,48.32],[22.086,48.422]]]]},{N:"Moldova",I:"MD",C:[[[[26.619,48.221],[26.858,48.368],[27.523,48.467],[28.26,48.156],[28.671,48.118],[29.123,47.849],[29.051,47.51],[29.415,47.347],[29.56,46.929],[29.909,46.674],[29.838,46.525],[30.025,46.424],[29.76,46.35],[29.171,46.379],[29.072,46.518],[28.863,46.438],[28.934,46.259],[28.66,45.94],[28.485,45.597],[28.234,45.488],[28.054,45.945],[28.16,46.372],[28.128,46.81],[27.551,47.405],[27.234,47.827],[26.924,48.123],[26.619,48.221]]]]},{N:"Romania",I:"RO",C:[[[[28.234,45.488],[28.68,45.304],[29.15,45.465],[29.603,45.293],[29.627,45.035],[29.142,44.82],[28.838,44.914],[28.558,43.707],[27.97,43.812],[27.242,44.176],[26.065,43.943],[25.569,43.688],[24.101,43.741],[23.332,43.897],[22.945,43.824],[22.657,44.235],[22.474,44.409],[22.706,44.578],[22.459,44.703],[22.145,44.478],[21.562,44.769],[21.484,45.181],[20.874,45.416],[20.762,45.735],[20.22,46.127],[21.022,46.316],[21.627,46.994],[22.1,47.672],[22.711,47.882],[23.142,48.096],[23.761,47.986],[24.402,47.982],[24.866,47.738],[25.208,47.891],[25.946,47.987],[26.197,48.221],[26.619,48.221],[26.924,48.123],[27.234,47.827],[27.551,47.405],[28.128,46.81],[28.16,46.372],[28.054,45.945],[28.234,45.488]]]]},{N:"Lithuania",I:"LT",C:[[[[26.494,55.615],[26.588,55.167],[25.768,54.847],[25.536,54.282],[24.451,53.906],[23.484,53.912],[23.244,54.221],[22.731,54.328],[22.651,54.583],[22.758,54.857],[22.316,55.015],[21.268,55.19],[21.056,56.031],[22.201,56.338],[23.878,56.274],[24.861,56.373],[25.001,56.165],[25.533,56.1],[26.494,55.615]]]]},{N:"Latvia",I:"LV",C:[[[[27.288,57.475],[27.77,57.244],[27.855,56.759],[28.177,56.169],[27.102,55.783],[26.494,55.615],[25.533,56.1],[25.001,56.165],[24.861,56.373],[23.878,56.274],[22.201,56.338],[21.056,56.031],[21.09,56.784],[21.582,57.412],[22.524,57.753],[23.318,57.006],[24.121,57.026],[24.313,57.793],[25.165,57.97],[25.603,57.848],[26.464,57.476],[27.288,57.475]]]]},{N:"Estonia",I:"EE",C:[[[[27.981,59.475],[27.981,59.475],[28.132,59.301],[27.42,58.725],[27.717,57.792],[27.288,57.475],[26.464,57.476],[25.603,57.848],[25.165,57.97],[24.313,57.793],[24.429,58.383],[24.061,58.257],[23.427,58.613],[23.34,59.187],[24.604,59.466],[25.864,59.611],[26.949,59.446],[27.981,59.475],[27.981,59.475]]]]},{N:"Germany",I:"DE",C:[[[[14.12,53.757],[14.353,53.248],[14.075,52.981],[14.438,52.625],[14.685,52.09],[14.607,51.745],[15.017,51.107],[14.571,51.002],[14.307,51.117],[14.056,50.927],[13.338,50.733],[12.967,50.484],[12.24,50.266],[12.415,49.969],[12.521,49.547],[13.031,49.307],[13.596,48.877],[13.243,48.416],[12.884,48.289],[13.026,47.638],[12.933,47.468],[12.621,47.672],[12.141,47.703],[11.426,47.524],[10.545,47.566],[10.402,47.302],[9.896,47.58],[9.594,47.525],[8.523,47.831],[8.317,47.614],[7.467,47.621],[7.594,48.333],[8.099,49.018],[6.658,49.202],[6.186,49.464],[6.243,49.902],[6.043,50.128],[6.157,50.804],[5.989,51.852],[6.589,51.852],[6.843,52.228],[7.092,53.144],[6.905,53.482],[7.1,53.694],[7.936,53.748],[8.122,53.528],[8.801,54.021],[8.572,54.396],[8.526,54.963],[9.282,54.831],[9.922,54.983],[9.94,54.597],[10.95,54.364],[10.939,54.009],[11.956,54.196],[12.518,54.47],[13.647,54.076],[14.12,53.757]]]]},{N:"Bulgaria",I:"BG",C:[[[[22.657,44.235],[22.945,43.824],[23.332,43.897],[24.101,43.741],[25.569,43.688],[26.065,43.943],[27.242,44.176],[27.97,43.812],[28.558,43.707],[28.039,43.293],[27.674,42.578],[27.997,42.007],[27.136,42.141],[26.117,41.827],[26.106,41.329],[25.197,41.234],[24.493,41.584],[23.692,41.309],[22.952,41.338],[22.881,41.999],[22.381,42.32],[22.545,42.461],[22.437,42.58],[22.605,42.899],[22.986,43.211],[22.5,43.643],[22.41,44.008],[22.657,44.235]]]]},{N:"Greece",I:"GR",C:[[[[26.29,35.3],[26.165,35.005],[24.725,34.92],[24.735,35.085],[23.515,35.28],[23.7,35.705],[24.247,35.368],[25.025,35.425],[25.769,35.354],[25.745,35.18],[26.29,35.3]]],[[[22.952,41.338],[23.692,41.309],[24.493,41.584],[25.197,41.234],[26.106,41.329],[26.117,41.827],[26.604,41.562],[26.295,40.936],[26.057,40.824],[25.448,40.853],[24.926,40.947],[23.715,40.687],[24.408,40.125],[23.9,39.962],[23.343,39.961],[22.814,40.476],[22.626,40.257],[22.85,39.659],[23.35,39.19],[22.973,38.971],[23.53,38.51],[24.025,38.22],[24.04,37.655],[23.115,37.92],[23.41,37.41],[22.775,37.305],[23.154,36.423],[22.49,36.41],[21.67,36.845],[21.295,37.645],[21.12,38.31],[20.73,38.77],[20.218,39.34],[20.15,39.625],[20.615,40.11],[20.675,40.435],[21,40.58],[21.02,40.843],[21.674,40.931],[22.055,41.15],[22.597,41.13],[22.762,41.305],[22.952,41.338]]]]},{N:"Turkey",I:"TR",C:[[[[44.773,37.17],[44.293,37.002],[43.942,37.256],[42.779,37.385],[42.35,37.23],[41.212,37.074],[40.673,37.091],[39.523,36.716],[38.7,36.713],[38.168,36.901],[37.067,36.623],[36.739,36.818],[36.685,36.26],[36.418,36.041],[36.15,35.822],[35.782,36.275],[36.161,36.651],[35.551,36.565],[34.715,36.796],[34.027,36.22],[32.509,36.108],[31.7,36.644],[30.622,36.678],[30.391,36.263],[29.7,36.144],[28.733,36.677],[27.641,36.659],[27.049,37.653],[26.318,38.208],[26.805,38.986],[26.171,39.464],[27.28,40.42],[28.82,40.46],[29.24,41.22],[31.146,41.088],[32.348,41.736],[33.513,42.019],[35.168,42.04],[36.913,41.335],[38.348,40.949],[39.513,41.103],[40.373,41.014],[41.554,41.536],[42.62,41.583],[43.583,41.092],[43.753,40.74],[43.656,40.254],[44.4,40.005],[44.794,39.713],[44.109,39.428],[44.421,38.281],[44.226,37.972],[44.773,37.17],[44.773,37.17]]],[[[26.117,41.827],[27.136,42.141],[27.997,42.007],[28.116,41.623],[28.988,41.3],[28.806,41.055],[27.619,41],[27.192,40.691],[26.358,40.152],[26.043,40.618],[26.057,40.824],[26.295,40.936],[26.604,41.562],[26.117,41.827]]]]},{N:"Albania",I:"AL",C:[[[[21.02,40.843],[21,40.58],[20.675,40.435],[20.615,40.11],[20.15,39.625],[19.98,39.695],[19.96,39.915],[19.406,40.251],[19.319,40.727],[19.404,41.41],[19.54,41.72],[19.372,41.878],[19.372,41.878],[19.304,42.196],[19.738,42.688],[19.802,42.5],[20.071,42.589],[20.284,42.32],[20.523,42.218],[20.59,41.855],[20.59,41.855],[20.463,41.515],[20.605,41.086],[21.02,40.843]]]]},{N:"Croatia",I:"HR",C:[[[[16.565,46.504],[16.883,46.381],[17.63,45.952],[18.456,45.759],[18.83,45.909],[19.073,45.522],[19.39,45.237],[19.005,44.86],[18.553,45.082],[17.862,45.068],[17.002,45.234],[16.535,45.212],[16.318,45.004],[15.959,45.234],[15.75,44.819],[16.24,44.351],[16.456,44.041],[16.916,43.668],[17.297,43.446],[17.675,43.029],[18.56,42.65],[18.45,42.48],[18.45,42.48],[17.51,42.85],[16.93,43.21],[16.015,43.507],[15.174,44.243],[15.376,44.318],[14.92,44.738],[14.902,45.076],[14.259,45.234],[13.952,44.802],[13.657,45.137],[13.679,45.484],[13.715,45.5],[14.412,45.466],[14.595,45.635],[14.935,45.472],[15.328,45.452],[15.324,45.732],[15.672,45.834],[15.769,46.238],[16.565,46.504]]]]},{N:"Switzerland",I:"CH",C:[[[[9.594,47.525],[9.633,47.348],[9.48,47.103],[9.932,46.921],[10.443,46.894],[10.363,46.484],[9.923,46.315],[9.183,46.44],[8.966,46.037],[8.49,46.005],[8.317,46.164],[7.756,45.824],[7.274,45.777],[6.844,45.991],[6.5,46.43],[6.023,46.273],[6.037,46.726],[6.769,47.288],[6.737,47.542],[7.192,47.45],[7.467,47.621],[8.317,47.614],[8.523,47.831],[9.594,47.525]]]]},{N:"Luxembourg",I:"LU",C:[[[[6.043,50.128],[6.243,49.902],[6.186,49.464],[5.898,49.443],[5.674,49.529],[5.782,50.09],[6.043,50.128]]]]},{N:"Belgium",I:"BE",C:[[[[6.157,50.804],[6.043,50.128],[5.782,50.09],[5.674,49.529],[4.799,49.985],[4.286,49.907],[3.588,50.379],[3.123,50.78],[2.658,50.797],[2.514,51.149],[3.315,51.346],[3.315,51.346],[3.315,51.346],[4.047,51.267],[4.974,51.475],[5.607,51.037],[6.157,50.804]]]]},{N:"Netherlands",I:"NL",C:[[[[6.905,53.482],[7.092,53.144],[6.843,52.228],[6.589,51.852],[5.989,51.852],[6.157,50.804],[5.607,51.037],[4.974,51.475],[4.047,51.267],[3.315,51.346],[3.315,51.346],[3.83,51.621],[4.706,53.092],[6.074,53.51],[6.905,53.482]]]]},{N:"Portugal",I:"PT",C:[[[[-9.035,41.881],[-8.672,42.135],[-8.264,42.28],[-8.013,41.791],[-7.423,41.792],[-7.251,41.918],[-6.669,41.883],[-6.389,41.382],[-6.851,41.111],[-6.864,40.331],[-7.026,40.185],[-7.067,39.712],[-7.499,39.63],[-7.098,39.03],[-7.374,38.373],[-7.029,38.076],[-7.167,37.804],[-7.537,37.429],[-7.454,37.098],[-7.856,36.838],[-8.383,36.979],[-8.899,36.869],[-8.746,37.651],[-8.84,38.266],[-9.287,38.358],[-9.527,38.737],[-9.447,39.392],[-9.048,39.755],[-8.977,40.159],[-8.769,40.761],[-8.791,41.184],[-8.991,41.543],[-9.035,41.881]]]]},{N:"Spain",I:"ES",C:[[[[-7.454,37.098],[-7.537,37.429],[-7.167,37.804],[-7.029,38.076],[-7.374,38.373],[-7.098,39.03],[-7.499,39.63],[-7.067,39.712],[-7.026,40.185],[-6.864,40.331],[-6.851,41.111],[-6.389,41.382],[-6.669,41.883],[-7.251,41.918],[-7.423,41.792],[-8.013,41.791],[-8.264,42.28],[-8.672,42.135],[-9.035,41.881],[-8.984,42.593],[-9.393,43.027],[-7.978,43.748],[-6.754,43.568],[-5.412,43.574],[-4.348,43.403],[-3.518,43.456],[-1.901,43.423],[-1.503,43.034],[.338,42.58],[.702,42.796],[1.827,42.343],[2.986,42.473],[3.039,41.892],[2.092,41.226],[.811,41.015],[.721,40.678],[.107,40.124],[-.279,39.31],[.111,38.739],[-.467,38.292],[-.683,37.642],[-1.438,37.443],[-2.146,36.674],[-3.416,36.659],[-4.369,36.678],[-4.995,36.325],[-5.377,35.947],[-5.866,36.03],[-6.237,36.368],[-6.52,36.943],[-7.454,37.098]]]]},{N:"Ireland",I:"IE",C:[[[[-6.198,53.868],[-6.033,53.153],[-6.789,52.26],[-8.562,51.669],[-9.977,51.82],[-9.166,52.865],[-9.689,53.881],[-8.328,54.665],[-7.572,55.132],[-7.366,54.596],[-7.572,54.06],[-6.954,54.074],[-6.198,53.868]]]]},{N:"New Caledonia",I:"NC",C:[[[[165.78,-21.08],[166.6,-21.7],[167.12,-22.16],[166.74,-22.4],[166.19,-22.13],[165.474,-21.68],[164.83,-21.15],[164.168,-20.445],[164.03,-20.106],[164.46,-20.12],[165.02,-20.46],[165.46,-20.8],[165.78,-21.08]]]]},{N:"Solomon Islands",I:"SB",C:[[[[162.119,-10.483],[162.399,-10.826],[161.7,-10.82],[161.32,-10.205],[161.917,-10.447],[162.119,-10.483]]],[[[161.68,-9.6],[161.529,-9.784],[160.788,-8.918],[160.58,-8.32],[160.92,-8.32],[161.28,-9.12],[161.68,-9.6]]],[[[160.852,-9.873],[160.463,-9.895],[159.849,-9.794],[159.64,-9.64],[159.703,-9.243],[160.363,-9.4],[160.689,-9.61],[160.852,-9.873]]],[[[159.64,-8.02],[159.875,-8.337],[159.917,-8.538],[159.134,-8.114],[158.586,-7.755],[158.211,-7.422],[158.36,-7.32],[158.82,-7.56],[159.64,-8.02]]],[[[157.14,-7.022],[157.538,-7.348],[157.339,-7.405],[156.902,-7.177],[156.491,-6.766],[156.543,-6.599],[157.14,-7.022]]]]},{N:"New Zealand",I:"NZ",C:[[[[176.886,-40.066],[176.508,-40.605],[176.012,-41.29],[175.24,-41.688],[175.068,-41.426],[174.651,-41.282],[175.228,-40.459],[174.9,-39.909],[173.824,-39.509],[173.852,-39.147],[174.575,-38.798],[174.743,-38.028],[174.697,-37.381],[174.292,-36.711],[174.319,-36.535],[173.841,-36.122],[173.054,-35.237],[172.636,-34.529],[173.007,-34.451],[173.551,-35.006],[174.329,-35.265],[174.612,-36.156],[175.337,-37.209],[175.358,-36.526],[175.809,-36.799],[175.958,-37.555],[176.763,-37.881],[177.439,-37.961],[178.01,-37.58],[178.517,-37.695],[178.275,-38.583],[177.97,-39.166],[177.207,-39.146],[176.94,-39.45],[177.033,-39.88],[176.886,-40.066]]],[[[169.668,-43.555],[170.525,-43.032],[171.125,-42.513],[171.57,-41.767],[171.949,-41.514],[172.097,-40.956],[172.799,-40.494],[173.02,-40.919],[173.247,-41.332],[173.958,-40.927],[174.248,-41.349],[174.249,-41.77],[173.876,-42.233],[173.223,-42.97],[172.711,-43.372],[173.08,-43.853],[172.309,-43.866],[171.453,-44.243],[171.185,-44.897],[170.617,-45.909],[169.831,-46.356],[169.332,-46.641],[168.411,-46.62],[167.764,-46.29],[166.677,-46.22],[166.509,-45.853],[167.046,-45.111],[168.304,-44.124],[168.949,-43.936],[169.668,-43.555]]]]},{N:"Australia",I:"AU",C:[[[[147.689,-40.808],[148.289,-40.875],[148.36,-42.062],[148.017,-42.407],[147.914,-43.212],[147.565,-42.938],[146.87,-43.635],[146.663,-43.581],[146.048,-43.55],[145.432,-42.694],[145.295,-42.034],[144.718,-41.163],[144.744,-40.704],[145.398,-40.793],[146.364,-41.138],[146.909,-41.001],[147.689,-40.808]]],[[[126.149,-32.216],[125.089,-32.729],[124.222,-32.959],[124.029,-33.484],[123.66,-33.89],[122.811,-33.914],[122.183,-34.003],[121.299,-33.821],[120.58,-33.93],[119.894,-33.976],[119.299,-34.509],[119.007,-34.464],[118.506,-34.747],[118.025,-35.065],[117.296,-35.025],[116.625,-35.025],[115.564,-34.386],[115.027,-34.197],[115.049,-33.623],[115.545,-33.487],[115.715,-33.26],[115.679,-32.9],[115.802,-32.205],[115.69,-31.612],[115.161,-30.602],[114.997,-30.031],[115.04,-29.461],[114.642,-28.81],[114.616,-28.516],[114.174,-28.118],[114.049,-27.335],[113.477,-26.543],[113.339,-26.117],[113.778,-26.549],[113.441,-25.621],[113.937,-25.911],[114.233,-26.298],[114.216,-25.786],[113.721,-24.999],[113.625,-24.684],[113.394,-24.385],[113.502,-23.806],[113.707,-23.56],[113.843,-23.06],[113.737,-22.475],[114.15,-21.756],[114.225,-22.517],[114.648,-21.83],[115.46,-21.495],[115.947,-21.069],[116.712,-20.702],[117.166,-20.624],[117.442,-20.747],[118.23,-20.374],[118.836,-20.263],[118.988,-20.044],[119.252,-19.953],[119.805,-19.977],[120.856,-19.684],[121.4,-19.24],[121.655,-18.705],[122.242,-18.198],[122.287,-17.799],[122.313,-17.255],[123.013,-16.405],[123.434,-17.269],[123.859,-17.069],[123.503,-16.597],[123.817,-16.111],[124.258,-16.328],[124.38,-15.567],[124.926,-15.075],[125.167,-14.68],[125.67,-14.51],[125.686,-14.231],[126.125,-14.347],[126.143,-14.096],[126.583,-13.953],[127.066,-13.818],[127.805,-14.277],[128.36,-14.869],[128.986,-14.876],[129.621,-14.97],[129.41,-14.421],[129.889,-13.619],[130.339,-13.357],[130.184,-13.108],[130.618,-12.536],[131.223,-12.184],[131.735,-12.302],[132.575,-12.114],[132.557,-11.603],[131.825,-11.274],[132.357,-11.129],[133.02,-11.376],[133.551,-11.787],[134.393,-12.042],[134.679,-11.941],[135.298,-12.249],[135.883,-11.962],[136.258,-12.049],[136.492,-11.857],[136.952,-12.352],[136.685,-12.887],[136.305,-13.291],[135.962,-13.325],[136.078,-13.724],[135.784,-14.224],[135.429,-14.715],[135.5,-14.998],[136.295,-15.55],[137.065,-15.871],[137.58,-16.215],[138.303,-16.808],[138.585,-16.807],[139.109,-17.063],[139.261,-17.372],[140.215,-17.711],[140.875,-17.369],[141.071,-16.832],[141.274,-16.389],[141.398,-15.841],[141.702,-15.045],[141.563,-14.561],[141.636,-14.27],[141.52,-13.698],[141.651,-12.945],[141.843,-12.742],[141.687,-12.408],[141.929,-11.877],[142.118,-11.328],[142.144,-11.043],[142.515,-10.668],[142.797,-11.157],[142.867,-11.785],[143.116,-11.906],[143.159,-12.326],[143.522,-12.834],[143.597,-13.4],[143.562,-13.764],[143.922,-14.548],[144.564,-14.171],[144.895,-14.594],[145.375,-14.985],[145.272,-15.428],[145.485,-16.286],[145.637,-16.785],[145.889,-16.907],[146.16,-17.762],[146.064,-18.28],[146.387,-18.958],[147.471,-19.481],[148.178,-19.956],[148.848,-20.391],[148.717,-20.633],[149.289,-21.261],[149.678,-22.343],[150.077,-22.123],[150.483,-22.556],[150.727,-22.402],[150.9,-23.462],[151.609,-24.076],[152.074,-24.458],[152.855,-25.268],[153.136,-26.071],[153.162,-26.641],[153.093,-27.26],[153.569,-28.11],[153.512,-28.995],[153.339,-29.458],[153.069,-30.35],[153.09,-30.924],[152.892,-31.64],[152.45,-32.55],[151.709,-33.041],[151.344,-33.816],[151.011,-34.31],[150.714,-35.173],[150.328,-35.672],[150.075,-36.42],[149.946,-37.109],[149.997,-37.425],[149.424,-37.773],[148.305,-37.809],[147.382,-38.219],[146.922,-38.607],[146.318,-39.036],[145.49,-38.594],[144.877,-38.417],[145.032,-37.896],[144.486,-38.085],[143.61,-38.809],[142.745,-38.538],[142.178,-38.38],[141.607,-38.309],[140.639,-38.019],[139.992,-37.403],[139.807,-36.644],[139.574,-36.138],[139.083,-35.733],[138.121,-35.612],[138.449,-35.127],[138.208,-34.385],[137.719,-35.077],[136.829,-35.261],[137.352,-34.707],[137.504,-34.13],[137.89,-33.64],[137.81,-32.9],[136.997,-33.753],[136.372,-34.095],[135.989,-34.89],[135.208,-34.479],[135.239,-33.948],[134.613,-33.223],[134.086,-32.848],[134.274,-32.617],[132.991,-32.011],[132.288,-31.983],[131.326,-31.496],[129.536,-31.59],[128.241,-31.948],[127.103,-32.282],[126.149,-32.216]]]]},{N:"Sri Lanka",I:"LK",C:[[[[81.788,7.523],[81.637,6.482],[81.218,6.197],[80.348,5.968],[79.872,6.763],[79.695,8.201],[80.148,9.824],[80.839,9.268],[81.304,8.564],[81.788,7.523]]]]},{N:"China",I:"CN",C:[[[[109.475,18.198],[108.655,18.508],[108.626,19.368],[109.119,19.821],[110.212,20.101],[110.787,20.078],[111.01,19.696],[110.571,19.256],[110.339,18.678],[109.475,18.198]]],[[[80.26,42.35],[80.18,42.92],[80.866,43.18],[79.966,44.918],[81.947,45.317],[82.459,45.54],[83.18,47.33],[85.164,47.001],[85.72,47.453],[85.768,48.456],[86.599,48.549],[87.36,49.215],[87.751,49.297],[88.014,48.599],[88.854,48.069],[90.281,47.694],[90.971,46.888],[90.586,45.72],[90.946,45.286],[92.134,45.115],[93.481,44.975],[94.689,44.352],[95.307,44.241],[95.762,43.319],[96.349,42.726],[97.452,42.749],[99.516,42.525],[100.846,42.664],[101.833,42.515],[103.312,41.907],[104.522,41.908],[104.965,41.597],[106.129,42.134],[107.745,42.482],[109.244,42.519],[110.412,42.871],[111.13,43.407],[111.83,43.743],[111.668,44.073],[111.348,44.457],[111.873,45.102],[112.436,45.012],[113.464,44.809],[114.46,45.34],[115.985,45.727],[116.718,46.388],[117.422,46.673],[118.874,46.805],[119.663,46.693],[119.773,47.048],[118.867,47.747],[118.064,48.067],[117.296,47.698],[116.309,47.853],[115.743,47.727],[115.485,48.135],[116.192,49.135],[116.679,49.889],[117.879,49.511],[119.288,50.143],[119.279,50.583],[120.182,51.644],[120.738,51.964],[120.726,52.516],[120.177,52.754],[121.003,53.251],[122.246,53.432],[123.571,53.459],[125.068,53.161],[125.946,52.793],[126.564,51.784],[126.939,51.354],[127.287,50.74],[127.657,49.76],[129.398,49.441],[130.582,48.73],[130.987,47.79],[132.507,47.789],[133.374,48.183],[135.026,48.478],[134.501,47.578],[134.112,47.212],[133.77,46.117],[133.097,45.144],[131.883,45.321],[131.025,44.968],[131.289,44.112],[131.145,42.93],[130.634,42.903],[130.64,42.395],[129.994,42.985],[129.597,42.425],[128.052,41.994],[128.208,41.467],[127.344,41.503],[126.869,41.817],[126.182,41.107],[125.08,40.57],[124.266,39.928],[122.868,39.638],[122.131,39.17],[121.055,38.897],[121.586,39.361],[121.377,39.75],[122.169,40.422],[121.64,40.946],[120.769,40.593],[119.64,39.898],[119.023,39.252],[118.043,39.204],[117.533,38.738],[118.06,38.061],[118.878,37.897],[118.912,37.448],[119.703,37.156],[120.823,37.87],[121.711,37.481],[122.358,37.454],[122.52,36.931],[121.104,36.651],[120.637,36.111],[119.665,35.61],[119.151,34.91],[120.228,34.36],[120.62,33.377],[121.229,32.46],[121.908,31.692],[121.892,30.949],[121.264,30.676],[121.504,30.143],[122.092,29.833],[121.938,29.018],[121.684,28.226],[121.126,28.136],[120.395,27.053],[119.585,25.741],[118.657,24.547],[117.282,23.625],[115.891,22.783],[114.764,22.668],[114.153,22.224],[113.807,22.548],[113.241,22.051],[111.844,21.55],[110.785,21.397],[110.444,20.341],[109.89,20.282],[109.628,21.008],[109.864,21.395],[108.523,21.715],[108.05,21.552],[107.043,21.812],[106.567,22.218],[106.725,22.794],[105.811,22.977],[105.329,23.352],[104.477,22.819],[103.505,22.704],[102.707,22.709],[102.17,22.465],[101.652,22.318],[101.803,21.174],[101.27,21.202],[101.18,21.437],[101.15,21.85],[100.417,21.559],[99.983,21.743],[99.241,22.118],[99.532,22.949],[98.899,23.143],[98.66,24.063],[97.605,23.897],[97.725,25.084],[98.672,25.919],[98.712,26.744],[98.683,27.509],[98.246,27.747],[97.912,28.336],[97.327,28.262],[96.249,28.411],[96.587,28.831],[96.118,29.453],[95.405,29.032],[94.566,29.277],[93.413,28.641],[92.503,27.897],[91.697,27.772],[91.259,28.041],[90.731,28.065],[90.016,28.296],[89.476,28.043],[88.814,27.299],[88.73,28.087],[88.12,27.877],[86.955,27.974],[85.823,28.204],[85.012,28.643],[84.235,28.84],[83.899,29.32],[83.337,29.464],[82.328,30.115],[81.526,30.423],[81.111,30.183],[79.721,30.883],[78.739,31.516],[78.458,32.618],[79.176,32.484],[79.209,32.994],[78.811,33.506],[78.912,34.322],[77.837,35.494],[76.193,35.898],[75.897,36.667],[75.158,37.133],[74.98,37.42],[74.83,37.99],[74.865,38.379],[74.258,38.607],[73.929,38.506],[73.675,39.431],[73.96,39.66],[73.822,39.894],[74.777,40.366],[75.468,40.562],[76.526,40.428],[76.904,41.066],[78.187,41.185],[78.544,41.582],[80.119,42.124],[80.26,42.35]]]]},{N:"Taiwan",I:"TW",C:[[[[121.778,24.394],[121.176,22.791],[120.747,21.971],[120.22,22.815],[120.106,23.556],[120.695,24.538],[121.495,25.295],[121.951,24.998],[121.778,24.394]]]]},{N:"Italy",I:"IT",C:[[[[10.443,46.894],[11.049,46.751],[11.165,46.942],[12.153,47.115],[12.376,46.768],[13.806,46.509],[13.698,46.017],[13.938,45.591],[13.142,45.737],[12.329,45.382],[12.384,44.885],[12.261,44.6],[12.589,44.091],[13.527,43.588],[14.03,42.761],[15.143,41.955],[15.926,41.961],[16.17,41.74],[15.889,41.541],[16.785,41.18],[17.519,40.877],[18.377,40.356],[18.48,40.169],[18.293,39.811],[17.738,40.278],[16.87,40.442],[16.449,39.795],[17.171,39.425],[17.053,38.903],[16.635,38.844],[16.101,37.986],[15.684,37.909],[15.688,38.215],[15.892,38.751],[16.109,38.965],[15.719,39.544],[15.414,40.048],[14.998,40.173],[14.703,40.605],[14.061,40.786],[13.628,41.188],[12.888,41.253],[12.107,41.705],[11.192,42.355],[10.512,42.931],[10.2,43.92],[9.702,44.036],[8.889,44.366],[8.429,44.231],[7.851,43.767],[7.435,43.694],[7.55,44.128],[7.008,44.255],[6.75,45.029],[7.097,45.333],[6.802,45.709],[6.844,45.991],[7.274,45.777],[7.756,45.824],[8.317,46.164],[8.49,46.005],[8.966,46.037],[9.183,46.44],[9.923,46.315],[10.363,46.484],[10.443,46.894]]],[[[14.761,38.144],[15.52,38.231],[15.16,37.444],[15.31,37.134],[15.1,36.62],[14.335,36.997],[13.827,37.105],[12.431,37.613],[12.571,38.126],[13.741,38.035],[14.761,38.144]]],[[[8.71,40.9],[9.21,41.21],[9.81,40.5],[9.67,39.177],[9.215,39.24],[8.807,38.907],[8.428,39.172],[8.388,40.378],[8.16,40.95],[8.71,40.9]]]]},{N:"Denmark",I:"DK",C:[[[[9.922,54.983],[9.282,54.831],[8.526,54.963],[8.12,55.518],[8.09,56.54],[8.257,56.81],[8.543,57.11],[9.424,57.172],[9.776,57.448],[10.58,57.73],[10.546,57.216],[10.25,56.89],[10.37,56.61],[10.912,56.459],[10.668,56.081],[10.37,56.19],[9.65,55.47],[9.922,54.983]]],[[[12.371,56.111],[12.69,55.61],[12.09,54.8],[11.044,55.365],[10.904,55.78],[12.371,56.111]]]]},{N:"United Kingdom",I:"GB",C:[[[[-6.198,53.868],[-6.954,54.074],[-7.572,54.06],[-7.366,54.596],[-7.572,55.132],[-6.734,55.173],[-5.662,54.555],[-6.198,53.868]]],[[[-3.094,53.405],[-3.092,53.404],[-2.945,53.985],[-3.615,54.601],[-3.63,54.615],[-4.844,54.791],[-5.083,55.062],[-4.719,55.508],[-5.048,55.784],[-5.586,55.311],[-5.645,56.275],[-6.15,56.785],[-5.787,57.819],[-5.01,58.63],[-4.211,58.551],[-3.005,58.635],[-4.074,57.553],[-3.055,57.69],[-1.959,57.685],[-2.22,56.87],[-3.119,55.974],[-2.085,55.91],[-2.006,55.805],[-1.115,54.625],[-.43,54.464],[.185,53.325],[.47,52.93],[1.682,52.74],[1.56,52.1],[1.051,51.807],[1.45,51.289],[.55,50.766],[-.788,50.775],[-2.49,50.5],[-2.956,50.697],[-3.617,50.228],[-4.543,50.342],[-5.245,49.96],[-5.777,50.16],[-4.31,51.21],[-3.415,51.426],[-3.423,51.427],[-4.984,51.593],[-5.267,51.991],[-4.222,52.301],[-4.77,52.84],[-4.58,53.495],[-3.094,53.405]]]]},{N:"Iceland",I:"IS",C:[[[[-14.509,66.456],[-14.74,65.809],[-13.61,65.127],[-14.91,64.364],[-17.794,63.679],[-18.656,63.496],[-19.973,63.644],[-22.763,63.96],[-21.778,64.402],[-23.955,64.891],[-22.184,65.085],[-22.227,65.379],[-24.326,65.611],[-23.651,66.263],[-22.135,66.41],[-20.576,65.732],[-19.057,66.277],[-17.799,65.994],[-16.168,66.527],[-14.509,66.456]]]]},{N:"Azerbaijan",I:"AZ",C:[[[[46.405,41.861],[46.686,41.827],[47.373,41.22],[47.816,41.151],[47.987,41.406],[48.584,41.809],[49.11,41.282],[49.619,40.573],[50.085,40.526],[50.393,40.257],[49.569,40.176],[49.395,39.399],[49.223,39.049],[48.857,38.815],[48.883,38.32],[48.634,38.27],[48.011,38.794],[48.356,39.289],[48.06,39.582],[47.685,39.508],[46.506,38.771],[46.483,39.464],[46.035,39.628],[45.61,39.9],[45.892,40.218],[45.359,40.562],[45.56,40.812],[45.179,40.985],[44.972,41.248],[45.217,41.411],[45.963,41.124],[46.502,41.064],[46.638,41.182],[46.145,41.723],[46.405,41.861]]],[[[46.144,38.741],[45.458,38.874],[44.953,39.336],[44.794,39.713],[45.002,39.74],[45.298,39.472],[45.74,39.474],[45.735,39.32],[46.144,38.741]]]]},{N:"Georgia",I:"GE",C:[[[[39.955,43.435],[40.077,43.553],[40.922,43.382],[42.394,43.22],[43.756,42.741],[43.931,42.555],[44.538,42.712],[45.47,42.503],[45.776,42.092],[46.405,41.861],[46.145,41.723],[46.638,41.182],[46.502,41.064],[45.963,41.124],[45.217,41.411],[44.972,41.248],[43.583,41.092],[42.62,41.583],[41.554,41.536],[41.703,41.963],[41.453,42.645],[40.875,43.014],[40.321,43.129],[39.955,43.435]]]]},{N:"Philippines",I:"PH",C:[[[[120.834,12.704],[120.323,13.466],[121.18,13.43],[121.527,13.07],[121.262,12.206],[120.834,12.704]]],[[[122.586,9.981],[122.837,10.261],[122.947,10.882],[123.499,10.941],[123.338,10.267],[124.078,11.233],[123.982,10.279],[123.623,9.95],[123.31,9.318],[122.996,9.022],[122.38,9.713],[122.586,9.981]]],[[[126.377,8.415],[126.479,7.75],[126.537,7.189],[126.197,6.274],[125.831,7.294],[125.364,6.786],[125.683,6.05],[125.397,5.581],[124.22,6.161],[123.939,6.885],[124.244,7.361],[123.61,7.834],[123.296,7.419],[122.826,7.457],[122.085,6.899],[121.92,7.192],[122.312,8.035],[122.942,8.316],[123.488,8.693],[123.841,8.24],[124.601,8.514],[124.765,8.96],[125.471,8.987],[125.412,9.76],[126.223,9.286],[126.307,8.782],[126.377,8.415]]],[[[118.505,9.316],[117.174,8.367],[117.664,9.067],[118.387,9.684],[118.987,10.376],[119.511,11.37],[119.69,10.554],[119.029,10.004],[118.505,9.316]]],[[[122.337,18.225],[122.174,17.81],[122.516,17.094],[122.252,16.262],[121.663,15.931],[121.505,15.125],[121.729,14.328],[122.259,14.218],[122.701,14.337],[123.95,13.782],[123.855,13.238],[124.181,12.998],[124.077,12.537],[123.298,13.028],[122.929,13.553],[122.671,13.186],[122.035,13.784],[121.126,13.637],[120.629,13.858],[120.679,14.271],[120.992,14.525],[120.693,14.757],[120.564,14.396],[120.07,14.971],[119.921,15.406],[119.884,16.364],[120.286,16.035],[120.39,17.599],[120.716,18.505],[121.321,18.504],[121.938,18.219],[122.246,18.479],[122.337,18.225]]],[[[122.038,11.416],[121.884,11.892],[122.484,11.582],[123.12,11.584],[123.101,11.166],[122.638,10.741],[122.003,10.441],[121.967,10.906],[122.038,11.416]]],[[[125.503,12.163],[125.783,11.046],[125.012,11.311],[125.033,10.976],[125.277,10.359],[124.802,10.135],[124.76,10.838],[124.459,10.89],[124.303,11.495],[124.891,11.416],[124.878,11.794],[124.267,12.558],[125.227,12.536],[125.503,12.163]]]]},{N:"Malaysia",I:"MY",C:[[[[100.086,6.464],[100.26,6.643],[101.076,6.205],[101.154,5.691],[101.814,5.811],[102.141,6.222],[102.371,6.128],[102.962,5.524],[103.381,4.855],[103.439,4.182],[103.332,3.727],[103.429,3.383],[103.502,2.791],[103.855,2.515],[104.248,1.631],[104.229,1.293],[103.52,1.226],[102.574,1.967],[101.391,2.761],[101.274,3.27],[100.695,3.939],[100.557,4.767],[100.197,5.312],[100.306,6.041],[100.086,6.464]]],[[[117.882,4.138],[117.015,4.306],[115.866,4.307],[115.519,3.169],[115.134,2.821],[114.621,1.431],[113.806,1.218],[112.86,1.498],[112.38,1.41],[111.798,.904],[111.159,.976],[110.514,.773],[109.83,1.338],[109.663,2.006],[110.396,1.664],[111.169,1.851],[111.37,2.697],[111.797,2.886],[112.996,3.102],[113.713,3.894],[114.204,4.526],[114.66,4.008],[114.87,4.348],[115.347,4.317],[115.406,4.955],[115.451,5.448],[116.221,6.143],[116.725,6.925],[117.13,6.928],[117.643,6.422],[117.689,5.987],[118.348,5.709],[119.182,5.408],[119.111,5.016],[118.44,4.967],[118.618,4.478],[117.882,4.138]]]]},{N:"Brunei Darussalam",I:"BN",C:[[[[115.451,5.448],[115.406,4.955],[115.347,4.317],[114.87,4.348],[114.66,4.008],[114.204,4.526],[114.6,4.9],[115.451,5.448]]]]},{N:"Slovenia",I:"SI",C:[[[[13.806,46.509],[14.632,46.432],[15.137,46.659],[16.012,46.684],[16.202,46.852],[16.371,46.841],[16.565,46.504],[15.769,46.238],[15.672,45.834],[15.324,45.732],[15.328,45.452],[14.935,45.472],[14.595,45.635],[14.412,45.466],[13.715,45.5],[13.938,45.591],[13.698,46.017],[13.806,46.509]]]]},{N:"Finland",I:"FI",C:[[[[28.592,69.065],[28.446,68.365],[29.977,67.698],[29.055,66.944],[30.218,65.806],[29.544,64.949],[30.445,64.204],[30.036,63.553],[31.516,62.868],[31.14,62.358],[30.211,61.78],[28.07,60.504],[28.07,60.504],[28.07,60.504],[26.255,60.424],[24.497,60.057],[22.87,59.846],[22.291,60.392],[21.322,60.72],[21.545,61.705],[21.059,62.607],[21.536,63.19],[22.443,63.818],[24.731,64.902],[25.398,65.111],[25.294,65.534],[23.903,66.007],[23.566,66.396],[23.539,67.936],[21.979,68.617],[20.646,69.106],[21.245,69.37],[22.356,68.842],[23.662,68.891],[24.736,68.65],[25.689,69.092],[26.18,69.825],[27.732,70.164],[29.016,69.766],[28.592,69.065]]]]},{N:"Slovakia",I:"SK",C:[[[[22.558,49.086],[22.281,48.825],[22.086,48.422],[21.872,48.32],[20.801,48.624],[20.474,48.563],[20.239,48.328],[19.769,48.203],[19.661,48.267],[19.174,48.111],[18.777,48.082],[18.697,47.881],[17.857,47.758],[17.488,47.867],[16.98,48.123],[16.88,48.47],[16.96,48.597],[17.102,48.817],[17.545,48.8],[17.886,48.903],[17.914,48.996],[18.105,49.044],[18.17,49.272],[18.4,49.315],[18.555,49.495],[18.853,49.496],[18.91,49.436],[19.321,49.572],[19.825,49.217],[20.416,49.431],[20.888,49.329],[21.608,49.47],[22.558,49.086]]]]},{N:"Czech Republic",I:"CZ",C:[[[[15.017,51.107],[15.491,50.785],[16.239,50.698],[16.176,50.423],[16.719,50.216],[16.869,50.474],[17.555,50.362],[17.649,50.049],[18.393,49.989],[18.853,49.496],[18.555,49.495],[18.4,49.315],[18.17,49.272],[18.105,49.044],[17.914,48.996],[17.886,48.903],[17.545,48.8],[17.102,48.817],[16.96,48.597],[16.499,48.786],[16.03,48.734],[15.253,49.039],[14.901,48.964],[14.339,48.555],[13.596,48.877],[13.031,49.307],[12.521,49.547],[12.415,49.969],[12.24,50.266],[12.967,50.484],[13.338,50.733],[14.056,50.927],[14.307,51.117],[14.571,51.002],[15.017,51.107]]]]},{N:"Eritrea",I:"ER",C:[[[[36.43,14.422],[36.323,14.822],[36.754,16.292],[36.853,16.957],[37.167,17.263],[37.904,17.428],[38.41,17.998],[38.991,16.841],[39.266,15.923],[39.814,15.436],[41.179,14.491],[41.735,13.921],[42.277,13.344],[42.59,13],[43.081,12.7],[42.78,12.455],[42.352,12.542],[42.01,12.866],[41.599,13.452],[41.155,13.773],[40.897,14.119],[40.026,14.52],[39.341,14.532],[39.099,14.741],[38.513,14.505],[37.906,14.959],[37.594,14.213],[36.43,14.422]]]]},{N:"Japan",I:"JP",C:[[[[141.885,39.181],[140.959,38.174],[140.976,37.142],[140.6,36.344],[140.774,35.843],[140.253,35.138],[138.976,34.668],[137.218,34.606],[135.793,33.465],[135.121,33.849],[135.079,34.597],[133.34,34.376],[132.157,33.905],[130.986,33.886],[132,33.15],[131.333,31.45],[130.686,31.03],[130.202,31.418],[130.448,32.319],[129.815,32.61],[129.408,33.296],[130.354,33.604],[130.878,34.233],[131.884,34.75],[132.618,35.433],[134.608,35.732],[135.678,35.527],[136.724,37.305],[137.391,36.827],[138.858,37.827],[139.426,38.216],[140.055,39.439],[139.883,40.563],[140.306,41.195],[141.369,41.379],[141.914,39.992],[141.885,39.181]]],[[[144.613,43.961],[145.321,44.385],[145.543,43.262],[144.06,42.988],[143.184,41.995],[141.611,42.679],[141.067,41.585],[139.955,41.57],[139.818,42.564],[140.312,43.333],[141.381,43.389],[141.672,44.772],[141.968,45.551],[143.143,44.51],[143.91,44.174],[144.613,43.961]]],[[[132.371,33.464],[132.924,34.06],[133.493,33.945],[133.904,34.365],[134.638,34.149],[134.766,33.806],[134.203,33.201],[133.793,33.522],[133.28,33.29],[133.015,32.705],[132.363,32.989],[132.371,33.464]]]]},{N:"Paraguay",I:"PY",C:[[[[-58.166,-20.177],[-57.871,-20.733],[-57.937,-22.09],[-56.882,-22.282],[-56.473,-22.086],[-55.798,-22.357],[-55.611,-22.656],[-55.518,-23.572],[-55.401,-23.957],[-55.028,-24.001],[-54.653,-23.84],[-54.293,-24.021],[-54.293,-24.571],[-54.429,-25.162],[-54.625,-25.739],[-54.789,-26.622],[-55.696,-27.388],[-56.487,-27.548],[-57.61,-27.396],[-58.618,-27.124],[-57.634,-25.604],[-57.777,-25.162],[-58.807,-24.771],[-60.029,-24.033],[-60.847,-23.881],[-62.685,-22.249],[-62.291,-21.052],[-62.266,-20.514],[-61.786,-19.634],[-60.044,-19.343],[-59.115,-19.357],[-58.183,-19.868],[-58.166,-20.177]]]]},{N:"Yemen",I:"YE",C:[[[[52,19],[52.782,17.35],[53.109,16.651],[52.385,16.382],[52.192,15.938],[52.168,15.597],[51.173,15.175],[49.575,14.709],[48.679,14.003],[48.239,13.948],[47.939,14.007],[47.354,13.592],[46.717,13.4],[45.878,13.348],[45.625,13.291],[45.406,13.027],[45.144,12.954],[44.99,12.7],[44.495,12.722],[44.175,12.586],[43.483,12.637],[43.223,13.221],[43.251,13.768],[43.088,14.063],[42.892,14.802],[42.605,15.213],[42.805,15.262],[42.702,15.719],[42.824,15.912],[42.779,16.348],[43.218,16.667],[43.116,17.088],[43.381,17.58],[43.792,17.32],[44.063,17.41],[45.217,17.433],[45.4,17.333],[46.367,17.233],[46.75,17.283],[47,16.95],[47.467,17.117],[48.183,18.167],[49.117,18.617],[52,19]]]]},{N:"Saudi Arabia",I:"SA",C:[[[[34.956,29.357],[36.069,29.197],[36.501,29.505],[36.741,29.865],[37.504,30.004],[37.668,30.339],[37.999,30.508],[37.002,31.508],[39.005,32.01],[39.195,32.161],[40.4,31.89],[41.89,31.19],[44.709,29.179],[46.569,29.099],[47.46,29.003],[47.709,28.526],[48.416,28.552],[48.808,27.69],[49.3,27.461],[49.471,27.11],[50.152,26.69],[50.213,26.277],[50.113,25.944],[50.24,25.608],[50.527,25.328],[50.661,25],[50.81,24.755],[51.112,24.556],[51.39,24.627],[51.58,24.245],[51.618,24.014],[52.001,23.001],[55.007,22.497],[55.208,22.708],[55.667,22],[55,20],[52,19],[49.117,18.617],[48.183,18.167],[47.467,17.117],[47,16.95],[46.75,17.283],[46.367,17.233],[45.4,17.333],[45.217,17.433],[44.063,17.41],[43.792,17.32],[43.381,17.58],[43.116,17.088],[43.218,16.667],[42.779,16.348],[42.65,16.775],[42.348,17.076],[42.271,17.475],[41.754,17.833],[41.221,18.672],[40.939,19.486],[40.248,20.175],[39.802,20.339],[39.139,21.292],[39.024,21.987],[39.066,22.58],[38.493,23.688],[38.024,24.079],[37.484,24.285],[37.155,24.858],[37.209,25.085],[36.932,25.603],[36.64,25.826],[36.249,26.57],[35.64,27.377],[35.13,28.063],[34.632,28.059],[34.788,28.607],[34.832,28.957],[34.956,29.357]]]]},{N:"Northern Cyprus",I:"CYP",C:[[[[32.732,35.14],[32.802,35.146],[32.947,35.387],[33.667,35.373],[34.576,35.672],[33.901,35.246],[33.974,35.059],[33.866,35.094],[33.675,35.018],[33.526,35.039],[33.476,35],[33.456,35.101],[33.384,35.163],[33.191,35.173],[32.92,35.088],[32.732,35.14]]]]},{N:"Cyprus",I:"CY",C:[[[[32.732,35.14],[32.92,35.088],[33.191,35.173],[33.384,35.163],[33.456,35.101],[33.476,35],[33.526,35.039],[33.675,35.018],[33.866,35.094],[33.974,35.059],[34.005,34.978],[32.98,34.572],[32.49,34.702],[32.257,35.103],[32.732,35.14]]]]},{N:"Morocco",I:"MA",C:[[[[-2.17,35.168],[-1.793,34.528],[-1.733,33.92],[-1.388,32.864],[-1.125,32.652],[-1.308,32.263],[-2.617,32.094],[-3.069,31.724],[-3.647,31.637],[-3.69,30.897],[-4.86,30.501],[-5.242,30],[-6.061,29.732],[-7.059,29.579],[-8.674,28.841],[-8.666,27.656],[-8.818,27.656],[-8.795,27.121],[-9.413,27.088],[-9.735,26.861],[-10.189,26.861],[-10.551,26.991],[-11.393,26.883],[-11.718,26.104],[-12.031,26.031],[-12.501,24.77],[-13.891,23.691],[-14.221,22.31],[-14.631,21.861],[-14.751,21.501],[-17.003,21.421],[-17.02,21.422],[-16.973,21.886],[-16.589,22.158],[-16.262,22.679],[-16.326,23.018],[-15.983,23.723],[-15.426,24.359],[-15.089,24.52],[-14.825,25.104],[-14.801,25.636],[-14.44,26.254],[-13.774,26.619],[-13.14,27.64],[-13.122,27.654],[-12.619,28.038],[-11.689,28.149],[-10.901,28.832],[-10.4,29.099],[-9.565,29.934],[-9.815,31.178],[-9.435,32.038],[-9.301,32.565],[-8.657,33.24],[-7.654,33.697],[-6.913,34.11],[-6.244,35.146],[-5.93,35.76],[-5.194,35.755],[-4.591,35.331],[-3.64,35.4],[-2.604,35.179],[-2.17,35.168]]]]},{N:"Egypt",I:"EG",C:[[[[36.866,22],[32.9,22],[29.02,22],[25,22],[25,25.682],[25,29.239],[24.7,30.044],[24.958,30.662],[24.803,31.089],[25.165,31.569],[26.495,31.586],[27.458,31.321],[28.45,31.026],[28.914,30.87],[29.683,31.187],[30.095,31.473],[30.977,31.556],[31.688,31.43],[31.96,30.934],[32.192,31.26],[32.994,31.024],[33.773,30.967],[34.265,31.219],[34.265,31.219],[34.823,29.761],[34.923,29.501],[34.642,29.099],[34.427,28.344],[34.155,27.823],[33.921,27.649],[33.588,27.971],[33.137,28.418],[32.423,29.851],[32.32,29.76],[32.735,28.705],[33.349,27.7],[34.105,26.142],[34.474,25.599],[34.795,25.034],[35.692,23.927],[35.494,23.752],[35.526,23.102],[36.691,22.205],[36.866,22]]]]},{N:"Libya",I:"LY",C:[[[[25,22],[25,20.003],[23.85,20],[23.838,19.58],[19.849,21.495],[15.861,23.41],[14.851,22.863],[14.144,22.491],[13.581,23.041],[12,23.472],[11.561,24.098],[10.771,24.563],[10.304,24.379],[9.948,24.937],[9.911,25.365],[9.319,26.094],[9.716,26.512],[9.629,27.141],[9.756,27.688],[9.684,28.144],[9.86,28.96],[9.806,29.425],[9.482,30.308],[9.97,30.539],[10.057,30.962],[9.95,31.376],[10.637,31.761],[10.945,32.082],[11.432,32.369],[11.489,33.137],[12.663,32.793],[13.083,32.879],[13.919,32.712],[15.246,32.265],[15.714,31.376],[16.612,31.182],[18.021,30.764],[19.086,30.266],[19.574,30.526],[20.053,30.986],[19.82,31.752],[20.134,32.238],[20.855,32.707],[21.543,32.843],[22.896,32.639],[23.237,32.191],[23.609,32.187],[23.927,32.017],[24.921,31.899],[25.165,31.569],[24.803,31.089],[24.958,30.662],[24.7,30.044],[25,29.239],[25,25.682],[25,22]]]]},{N:"Ethiopia",I:"ET",C:[[[[47.789,8.003],[44.964,5.002],[43.661,4.958],[42.77,4.253],[42.129,4.234],[41.855,3.919],[41.172,3.919],[40.768,4.257],[39.855,3.839],[39.559,3.422],[38.893,3.501],[38.671,3.616],[38.437,3.589],[38.121,3.599],[36.855,4.448],[36.159,4.448],[35.817,4.777],[35.817,5.338],[35.298,5.506],[34.707,6.594],[34.25,6.826],[34.075,7.226],[33.568,7.713],[32.954,7.785],[33.295,8.355],[33.826,8.379],[33.975,8.685],[33.962,9.584],[34.257,10.63],[34.731,10.91],[34.832,11.319],[35.26,12.083],[35.864,12.578],[36.27,13.563],[36.43,14.422],[37.594,14.213],[37.906,14.959],[38.513,14.505],[39.099,14.741],[39.341,14.532],[40.026,14.52],[40.897,14.119],[41.155,13.773],[41.599,13.452],[42.01,12.866],[42.352,12.542],[42,12.1],[41.662,11.631],[41.74,11.355],[41.756,11.051],[42.314,11.034],[42.555,11.105],[42.777,10.927],[42.559,10.573],[42.928,10.022],[43.297,9.54],[43.679,9.184],[46.948,7.997],[47.789,8.003]]]]},{N:"Djibouti",I:"DJ",C:[[[[42.352,12.542],[42.78,12.455],[43.081,12.7],[43.318,12.39],[43.286,11.975],[42.716,11.736],[43.145,11.462],[42.777,10.927],[42.555,11.105],[42.314,11.034],[41.756,11.051],[41.74,11.355],[41.662,11.631],[42,12.1],[42.352,12.542]]]]},{N:"Somaliland",I:"SOM",C:[[[[48.948,11.411],[48.948,11.411],[48.942,11.394],[48.938,10.982],[48.938,9.974],[48.938,9.452],[48.487,8.838],[47.789,8.003],[46.948,7.997],[43.679,9.184],[43.297,9.54],[42.928,10.022],[42.559,10.573],[42.777,10.927],[43.145,11.462],[43.471,11.278],[43.667,10.864],[44.118,10.446],[44.614,10.442],[45.557,10.698],[46.645,10.817],[47.526,11.127],[48.022,11.193],[48.379,11.375],[48.948,11.411],[48.948,11.411]]]]},{N:"Uganda",I:"UG",C:[[[[33.904,-.95],[31.866,-1.027],[30.77,-1.015],[30.419,-1.135],[29.822,-1.443],[29.579,-1.341],[29.588,-.587],[29.82,-.205],[29.876,.597],[30.086,1.062],[30.469,1.584],[30.853,1.849],[31.174,2.204],[30.773,2.34],[30.834,3.509],[30.834,3.509],[31.246,3.782],[31.881,3.558],[32.686,3.792],[33.39,3.79],[34.005,4.25],[34.479,3.556],[34.596,3.054],[35.036,1.906],[34.672,1.177],[34.18,.515],[33.894,.11],[33.904,-.95]]]]},{N:"Rwanda",I:"RW",C:[[[[30.419,-1.135],[30.816,-1.699],[30.758,-2.287],[30.47,-2.414],[30.47,-2.414],[29.938,-2.348],[29.632,-2.918],[29.025,-2.839],[29.117,-2.292],[29.255,-2.215],[29.292,-1.62],[29.579,-1.341],[29.822,-1.443],[30.419,-1.135]]]]},{N:"Bosnia and Herzegovina",I:"BA",C:[[[[18.56,42.65],[17.675,43.029],[17.297,43.446],[16.916,43.668],[16.456,44.041],[16.24,44.351],[15.75,44.819],[15.959,45.234],[16.318,45.004],[16.535,45.212],[17.002,45.234],[17.862,45.068],[18.553,45.082],[19.005,44.86],[19.005,44.86],[19.368,44.863],[19.118,44.423],[19.6,44.038],[19.454,43.568],[19.219,43.524],[19.032,43.433],[18.706,43.2],[18.56,42.65]]]]},{N:"Macedonia",I:"MK",C:[[[[22.381,42.32],[22.881,41.999],[22.952,41.338],[22.762,41.305],[22.597,41.13],[22.055,41.15],[21.674,40.931],[21.02,40.843],[20.605,41.086],[20.463,41.515],[20.59,41.855],[20.59,41.855],[20.717,41.847],[20.762,42.052],[21.353,42.207],[21.577,42.245],[21.917,42.304],[22.381,42.32]]]]},{N:"Serbia",I:"RS",C:[[[[18.83,45.909],[18.83,45.909],[19.596,46.172],[20.22,46.127],[20.762,45.735],[20.874,45.416],[21.484,45.181],[21.562,44.769],[22.145,44.478],[22.459,44.703],[22.706,44.578],[22.474,44.409],[22.657,44.235],[22.41,44.008],[22.5,43.643],[22.986,43.211],[22.605,42.899],[22.437,42.58],[22.545,42.461],[22.381,42.32],[21.917,42.304],[21.577,42.245],[21.543,42.32],[21.663,42.439],[21.775,42.683],[21.633,42.677],[21.439,42.863],[21.274,42.91],[21.143,43.069],[20.957,43.131],[20.814,43.272],[20.635,43.217],[20.497,42.885],[20.258,42.813],[20.34,42.899],[19.959,43.106],[19.63,43.214],[19.484,43.352],[19.219,43.524],[19.454,43.568],[19.6,44.038],[19.118,44.423],[19.368,44.863],[19.005,44.86],[19.005,44.86],[19.39,45.237],[19.073,45.522],[18.83,45.909]]]]},{N:"Montenegro",I:"ME",C:[[[[20.071,42.589],[19.802,42.5],[19.738,42.688],[19.304,42.196],[19.372,41.878],[19.162,41.955],[18.882,42.282],[18.45,42.48],[18.56,42.65],[18.706,43.2],[19.032,43.433],[19.219,43.524],[19.484,43.352],[19.63,43.214],[19.959,43.106],[20.34,42.899],[20.258,42.813],[20.071,42.589]]]]},{N:"Kosovo",I:"XK",C:[[[[20.59,41.855],[20.523,42.218],[20.284,42.32],[20.071,42.589],[20.258,42.813],[20.497,42.885],[20.635,43.217],[20.814,43.272],[20.957,43.131],[21.143,43.069],[21.274,42.91],[21.439,42.863],[21.633,42.677],[21.775,42.683],[21.663,42.439],[21.543,42.32],[21.577,42.245],[21.353,42.207],[20.762,42.052],[20.717,41.847],[20.59,41.855]]]]},{N:"Trinidad and Tobago",I:"TT",C:[[[[-61.68,10.76],[-61.105,10.89],[-60.895,10.855],[-60.935,10.11],[-61.77,10],[-61.95,10.09],[-61.66,10.365],[-61.68,10.76]]]]},{N:"South Sudan",I:"SS",C:[[[[30.834,3.509],[29.954,4.174],[29.716,4.601],[29.159,4.389],[28.697,4.455],[28.429,4.287],[27.98,4.408],[27.374,5.234],[27.213,5.551],[26.466,5.947],[26.213,6.547],[25.797,6.979],[25.124,7.5],[25.115,7.825],[24.567,8.229],[23.887,8.62],[24.194,8.729],[24.537,8.918],[24.795,9.81],[25.07,10.274],[25.791,10.411],[25.962,10.136],[26.477,9.553],[26.752,9.467],[27.113,9.639],[27.834,9.604],[27.971,9.398],[28.967,9.398],[29.001,9.604],[29.516,9.793],[29.619,10.085],[29.997,10.291],[30.838,9.707],[31.353,9.81],[31.851,10.531],[32.4,11.081],[32.314,11.681],[32.074,11.973],[32.675,12.025],[32.743,12.248],[33.207,12.179],[33.087,11.441],[33.207,10.72],[33.722,10.325],[33.842,9.982],[33.825,9.484],[33.963,9.464],[33.975,8.685],[33.826,8.379],[33.295,8.355],[32.954,7.785],[33.568,7.713],[34.075,7.226],[34.25,6.826],[34.707,6.594],[35.298,5.506],[34.62,4.847],[34.005,4.25],[33.39,3.79],[32.686,3.792],[31.881,3.558],[31.246,3.782],[30.834,3.509]]]]}]}},7601:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTooltip=void 0;const t=I(7582).__importStar(I(7294)),n=I(1529);e.drawTooltip=function(g,e,I,l,C,o){return g?t.createElement(n.PathTooltip,{fontSize:12,bgColor:e,textColor:I,key:g,pathRef:C,svgRef:o,rtl:l,tip:g}):null}},3137:function(g,e,I){"use strict";const t=I(7582),n=t.__importStar(I(7294)),l=I(7294),C=I(3947),o=t.__importDefault(I(4848)),a=I(6061),r=I(6172),i=I(7601),c=t.__importDefault(I(2164)),A=t.__importDefault(I(7951)),d=t.__importDefault(I(7425));function s({value:g}){return"string"==typeof g?0:g}e.ZP=function(g){const{data:e,title:I,valuePrefix:t="",valueSuffix:u="",color:m=a.defaultColor,strokeOpacity:b=.2,backgroundColor:Z="white",tooltipBgColor:p="black",tooltipTextColor:G="white",rtl:h=!1,size:y=a.defaultSize,frame:B=!1,frameColor:S="black",borderColor:W="black",richInteraction:V=!1,styleFunction:R=(0,a.defaultCountryStyle)(W,b),tooltipTextFunction:v=a.defaultTooltip,onClickFunction:f,hrefFunction:X,textLabelFunction:k=(()=>[])}=g,J=(0,r.useWindowWidth)(),Y="number"==typeof y?y:(0,r.responsify)(y,J),H=Y*a.heightRatio,[w,N]=(0,l.useState)(1),[F,K]=(0,l.useState)(0),[x,z]=(0,l.useState)(0),M=(0,l.createRef)(),E=Object.fromEntries(e.map((({country:g,value:e})=>[g.toUpperCase(),e]))),L=Math.min(...e.map(s)),U=Math.max(...e.map(s)),Q=(0,C.geoMercator)(),T=(0,C.geoPath)().projection(Q),D=n.useCallback((g=>e=>f?.({...g,event:e})),[f]),j=o.default.features.map((g=>{const e=(0,l.createRef)(),{I:I,N:C,C:o}=g,a={type:"Feature",properties:{NAME:C,ISO_A2:I},geometry:{type:"MultiPolygon",coordinates:o}},r={countryCode:I,countryValue:E[I],countryName:C,color:m,minValue:L,maxValue:U,prefix:t,suffix:u};return{path:n.createElement(A.default,{ref:e,d:T(a),style:R(r),onClick:D(r),strokeOpacity:b,href:X?.(r),key:C}),highlightedTooltip:(0,i.drawTooltip)(void 0===r.countryValue?void 0:v(r),p,G,h,e,M)}})),P=j.map((g=>g.path)),O=j.map((g=>g.highlightedTooltip)),q={onMouseDown(g){g.preventDefault(),g.stopPropagation()},onDoubleClick(g){const e=g.currentTarget.getBoundingClientRect(),I=g.clientX-e.left,t=g.clientY-e.top;4===w?(K(0),z(0),N(1)):(K(2*F-I),z(2*x-t),N(2*w))}};return n.createElement("figure",{className:"worldmap__figure-container",style:{backgroundColor:Z}},I&&n.createElement("figcaption",{className:"worldmap__figure-caption"},I),n.createElement("svg",{ref:M,height:`${H}px`,width:`${Y}px`,...V?q:void 0},B&&n.createElement(c.default,{color:S}),n.createElement("g",{transform:`translate(${F}, ${x}) scale(${Y/960*w}) translate(0, 240)`,style:{transition:"all 0.2s"}},P),n.createElement("g",null,k(Y).map((g=>n.createElement(d.default,{...g,key:g.label})))),O))},o.default.features.map((g=>({name:g.N,code:g.I})))},6172:function(g,e,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.responsify=e.useWindowWidth=e.useIsomorphicLayoutEffect=void 0;const t=I(7294),n=I(6061);e.useIsomorphicLayoutEffect="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,e.useWindowWidth=function(){const[g,I]=(0,t.useState)(n.sizeMap[n.defaultSize]);return(0,e.useIsomorphicLayoutEffect)((()=>{const g=()=>{I(window.innerWidth)};return window.addEventListener("resize",g),g(),()=>window.removeEventListener("resize",g)}),[]),g},e.responsify=function(g,e){if("responsive"===g)return"undefined"==typeof window?n.sizeMap[n.defaultSize]:.75*Math.min(window.innerHeight,window.innerWidth);if("undefined"==typeof window)return n.sizeMap[g];const I=Object.values(n.sizeMap).reverse().find((g=>g<=e))??n.sizeMap.sm;return Math.min(I,n.sizeMap[g])}},5251:function(g,e,I){"use strict";var t=I(7294),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function r(g,e,I){var t,l={},r=null,i=null;for(t in void 0!==I&&(r=""+I),void 0!==e.key&&(r=""+e.key),void 0!==e.ref&&(i=e.ref),e)C.call(e,t)&&!a.hasOwnProperty(t)&&(l[t]=e[t]);if(g&&g.defaultProps)for(t in e=g.defaultProps)void 0===l[t]&&(l[t]=e[t]);return{$$typeof:n,type:g,key:r,ref:i,props:l,_owner:o.current}}e.Fragment=l,e.jsx=r,e.jsxs=r},2408:function(g,e){"use strict";var I=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),d=Symbol.iterator,s={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,m={};function b(g,e,I){this.props=g,this.context=e,this.refs=m,this.updater=I||s}function Z(){}function p(g,e,I){this.props=g,this.context=e,this.refs=m,this.updater=I||s}b.prototype.isReactComponent={},b.prototype.setState=function(g,e){if("object"!=typeof g&&"function"!=typeof g&&null!=g)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,e,"setState")},b.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")},Z.prototype=b.prototype;var G=p.prototype=new Z;G.constructor=p,u(G,b.prototype),G.isPureReactComponent=!0;var h=Array.isArray,y=Object.prototype.hasOwnProperty,B={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function W(g,e,t){var n,l={},C=null,o=null;if(null!=e)for(n in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(C=""+e.key),e)y.call(e,n)&&!S.hasOwnProperty(n)&&(l[n]=e[n]);var a=arguments.length-2;if(1===a)l.children=t;else if(1<a){for(var r=Array(a),i=0;i<a;i++)r[i]=arguments[i+2];l.children=r}if(g&&g.defaultProps)for(n in a=g.defaultProps)void 0===l[n]&&(l[n]=a[n]);return{$$typeof:I,type:g,key:C,ref:o,props:l,_owner:B.current}}function V(g){return"object"==typeof g&&null!==g&&g.$$typeof===I}var R=/\/+/g;function v(g,e){return"object"==typeof g&&null!==g&&null!=g.key?function(g){var e={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,(function(g){return e[g]}))}(""+g.key):e.toString(36)}function f(g,e,n,l,C){var o=typeof g;"undefined"!==o&&"boolean"!==o||(g=null);var a=!1;if(null===g)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(g.$$typeof){case I:case t:a=!0}}if(a)return C=C(a=g),g=""===l?"."+v(a,0):l,h(C)?(n="",null!=g&&(n=g.replace(R,"$&/")+"/"),f(C,e,n,"",(function(g){return g}))):null!=C&&(V(C)&&(C=function(g,e){return{$$typeof:I,type:g.type,key:e,ref:g.ref,props:g.props,_owner:g._owner}}(C,n+(!C.key||a&&a.key===C.key?"":(""+C.key).replace(R,"$&/")+"/")+g)),e.push(C)),1;if(a=0,l=""===l?".":l+":",h(g))for(var r=0;r<g.length;r++){var i=l+v(o=g[r],r);a+=f(o,e,n,i,C)}else if(i=function(g){return null===g||"object"!=typeof g?null:"function"==typeof(g=d&&g[d]||g["@@iterator"])?g:null}(g),"function"==typeof i)for(g=i.call(g),r=0;!(o=g.next()).done;)a+=f(o=o.value,e,n,i=l+v(o,r++),C);else if("object"===o)throw e=String(g),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(g).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function X(g,e,I){if(null==g)return g;var t=[],n=0;return f(g,t,"","",(function(g){return e.call(I,g,n++)})),t}function k(g){if(-1===g._status){var e=g._result;(e=e()).then((function(e){0!==g._status&&-1!==g._status||(g._status=1,g._result=e)}),(function(e){0!==g._status&&-1!==g._status||(g._status=2,g._result=e)})),-1===g._status&&(g._status=0,g._result=e)}if(1===g._status)return g._result.default;throw g._result}var J={current:null},Y={transition:null},H={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Y,ReactCurrentOwner:B};e.Children={map:X,forEach:function(g,e,I){X(g,(function(){e.apply(this,arguments)}),I)},count:function(g){var e=0;return X(g,(function(){e++})),e},toArray:function(g){return X(g,(function(g){return g}))||[]},only:function(g){if(!V(g))throw Error("React.Children.only expected to receive a single React element child.");return g}},e.Component=b,e.Fragment=n,e.Profiler=C,e.PureComponent=p,e.StrictMode=l,e.Suspense=i,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,e.cloneElement=function(g,e,t){if(null==g)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+g+".");var n=u({},g.props),l=g.key,C=g.ref,o=g._owner;if(null!=e){if(void 0!==e.ref&&(C=e.ref,o=B.current),void 0!==e.key&&(l=""+e.key),g.type&&g.type.defaultProps)var a=g.type.defaultProps;for(r in e)y.call(e,r)&&!S.hasOwnProperty(r)&&(n[r]=void 0===e[r]&&void 0!==a?a[r]:e[r])}var r=arguments.length-2;if(1===r)n.children=t;else if(1<r){a=Array(r);for(var i=0;i<r;i++)a[i]=arguments[i+2];n.children=a}return{$$typeof:I,type:g.type,key:l,ref:C,props:n,_owner:o}},e.createContext=function(g){return(g={$$typeof:a,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:g},g.Consumer=g},e.createElement=W,e.createFactory=function(g){var e=W.bind(null,g);return e.type=g,e},e.createRef=function(){return{current:null}},e.forwardRef=function(g){return{$$typeof:r,render:g}},e.isValidElement=V,e.lazy=function(g){return{$$typeof:A,_payload:{_status:-1,_result:g},_init:k}},e.memo=function(g,e){return{$$typeof:c,type:g,compare:void 0===e?null:e}},e.startTransition=function(g){var e=Y.transition;Y.transition={};try{g()}finally{Y.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(g,e){return J.current.useCallback(g,e)},e.useContext=function(g){return J.current.useContext(g)},e.useDebugValue=function(){},e.useDeferredValue=function(g){return J.current.useDeferredValue(g)},e.useEffect=function(g,e){return J.current.useEffect(g,e)},e.useId=function(){return J.current.useId()},e.useImperativeHandle=function(g,e,I){return J.current.useImperativeHandle(g,e,I)},e.useInsertionEffect=function(g,e){return J.current.useInsertionEffect(g,e)},e.useLayoutEffect=function(g,e){return J.current.useLayoutEffect(g,e)},e.useMemo=function(g,e){return J.current.useMemo(g,e)},e.useReducer=function(g,e,I){return J.current.useReducer(g,e,I)},e.useRef=function(g){return J.current.useRef(g)},e.useState=function(g){return J.current.useState(g)},e.useSyncExternalStore=function(g,e,I){return J.current.useSyncExternalStore(g,e,I)},e.useTransition=function(){return J.current.useTransition()},e.version="18.2.0"},7294:function(g,e,I){"use strict";g.exports=I(2408)},5893:function(g,e,I){"use strict";g.exports=I(5251)},53:function(g,e){"use strict";function I(g,e){var I=g.length;g.push(e);g:for(;0<I;){var t=I-1>>>1,n=g[t];if(!(0<l(n,e)))break g;g[t]=e,g[I]=n,I=t}}function t(g){return 0===g.length?null:g[0]}function n(g){if(0===g.length)return null;var e=g[0],I=g.pop();if(I!==e){g[0]=I;g:for(var t=0,n=g.length,C=n>>>1;t<C;){var o=2*(t+1)-1,a=g[o],r=o+1,i=g[r];if(0>l(a,I))r<n&&0>l(i,a)?(g[t]=i,g[r]=I,t=r):(g[t]=a,g[o]=I,t=o);else{if(!(r<n&&0>l(i,I)))break g;g[t]=i,g[r]=I,t=r}}}return e}function l(g,e){var I=g.sortIndex-e.sortIndex;return 0!==I?I:g.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var C=performance;e.unstable_now=function(){return C.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var r=[],i=[],c=1,A=null,d=3,s=!1,u=!1,m=!1,b="function"==typeof setTimeout?setTimeout:null,Z="function"==typeof clearTimeout?clearTimeout:null,p="undefined"!=typeof setImmediate?setImmediate:null;function G(g){for(var e=t(i);null!==e;){if(null===e.callback)n(i);else{if(!(e.startTime<=g))break;n(i),e.sortIndex=e.expirationTime,I(r,e)}e=t(i)}}function h(g){if(m=!1,G(g),!u)if(null!==t(r))u=!0,Y(y);else{var e=t(i);null!==e&&H(h,e.startTime-g)}}function y(g,I){u=!1,m&&(m=!1,Z(V),V=-1),s=!0;var l=d;try{for(G(I),A=t(r);null!==A&&(!(A.expirationTime>I)||g&&!f());){var C=A.callback;if("function"==typeof C){A.callback=null,d=A.priorityLevel;var o=C(A.expirationTime<=I);I=e.unstable_now(),"function"==typeof o?A.callback=o:A===t(r)&&n(r),G(I)}else n(r);A=t(r)}if(null!==A)var a=!0;else{var c=t(i);null!==c&&H(h,c.startTime-I),a=!1}return a}finally{A=null,d=l,s=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,S=!1,W=null,V=-1,R=5,v=-1;function f(){return!(e.unstable_now()-v<R)}function X(){if(null!==W){var g=e.unstable_now();v=g;var I=!0;try{I=W(!0,g)}finally{I?B():(S=!1,W=null)}}else S=!1}if("function"==typeof p)B=function(){p(X)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,J=k.port2;k.port1.onmessage=X,B=function(){J.postMessage(null)}}else B=function(){b(X,0)};function Y(g){W=g,S||(S=!0,B())}function H(g,I){V=b((function(){g(e.unstable_now())}),I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(g){g.callback=null},e.unstable_continueExecution=function(){u||s||(u=!0,Y(y))},e.unstable_forceFrameRate=function(g){0>g||125<g?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<g?Math.floor(1e3/g):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return t(r)},e.unstable_next=function(g){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var I=d;d=e;try{return g()}finally{d=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(g,e){switch(g){case 1:case 2:case 3:case 4:case 5:break;default:g=3}var I=d;d=g;try{return e()}finally{d=I}},e.unstable_scheduleCallback=function(g,n,l){var C=e.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?C+l:C,g){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return g={id:c++,callback:n,priorityLevel:g,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>C?(g.sortIndex=l,I(i,g),null===t(r)&&g===t(i)&&(m?(Z(V),V=-1):m=!0,H(h,l-C))):(g.sortIndex=o,I(r,g),u||s||(u=!0,Y(y))),g},e.unstable_shouldYield=f,e.unstable_wrapCallback=function(g){var e=d;return function(){var I=d;d=e;try{return g.apply(this,arguments)}finally{d=I}}}},3840:function(g,e,I){"use strict";g.exports=I(53)},6774:function(g){g.exports=function(g,e,I,t){var n=I?I.call(t,g,e):void 0;if(void 0!==n)return!!n;if(g===e)return!0;if("object"!=typeof g||!g||"object"!=typeof e||!e)return!1;var l=Object.keys(g),C=Object.keys(e);if(l.length!==C.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(e),a=0;a<l.length;a++){var r=l[a];if(!o(r))return!1;var i=g[r],c=e[r];if(!1===(n=I?I.call(t,i,c,r):void 0)||void 0===n&&i!==c)return!1}return!0}},4836:function(g){g.exports=function(g){return g&&g.__esModule?g:{default:g}},g.exports.__esModule=!0,g.exports.default=g.exports},7462:function(g,e,I){"use strict";function t(){return t=Object.assign?Object.assign.bind():function(g){for(var e=1;e<arguments.length;e++){var I=arguments[e];for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&(g[t]=I[t])}return g},t.apply(this,arguments)}I.d(e,{Z:function(){return t}})},3366:function(g,e,I){"use strict";function t(g,e){if(null==g)return{};var I,t,n={},l=Object.keys(g);for(t=0;t<l.length;t++)I=l[t],e.indexOf(I)>=0||(n[I]=g[I]);return n}I.d(e,{Z:function(){return t}})},512:function(g,e,I){"use strict";function t(g){var e,I,n="";if("string"==typeof g||"number"==typeof g)n+=g;else if("object"==typeof g)if(Array.isArray(g))for(e=0;e<g.length;e++)g[e]&&(I=t(g[e]))&&(n&&(n+=" "),n+=I);else for(e in g)g[e]&&(n&&(n+=" "),n+=e);return n}e.Z=function(){for(var g,e,I=0,n="";I<arguments.length;)(g=arguments[I++])&&(e=t(g))&&(n&&(n+=" "),n+=e);return n}},7582:function(g,e,I){"use strict";I.r(e),I.d(e,{__addDisposableResource:function(){return H},__assign:function(){return l},__asyncDelegator:function(){return W},__asyncGenerator:function(){return S},__asyncValues:function(){return V},__await:function(){return B},__awaiter:function(){return s},__classPrivateFieldGet:function(){return k},__classPrivateFieldIn:function(){return Y},__classPrivateFieldSet:function(){return J},__createBinding:function(){return m},__decorate:function(){return o},__disposeResources:function(){return N},__esDecorate:function(){return r},__exportStar:function(){return b},__extends:function(){return n},__generator:function(){return u},__importDefault:function(){return X},__importStar:function(){return f},__makeTemplateObject:function(){return R},__metadata:function(){return d},__param:function(){return a},__propKey:function(){return c},__read:function(){return p},__rest:function(){return C},__runInitializers:function(){return i},__setFunctionName:function(){return A},__spread:function(){return G},__spreadArray:function(){return y},__spreadArrays:function(){return h},__values:function(){return Z}});var t=function(g,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,e){g.__proto__=e}||function(g,e){for(var I in e)Object.prototype.hasOwnProperty.call(e,I)&&(g[I]=e[I])},t(g,e)};function n(g,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function I(){this.constructor=g}t(g,e),g.prototype=null===e?Object.create(e):(I.prototype=e.prototype,new I)}var l=function(){return l=Object.assign||function(g){for(var e,I=1,t=arguments.length;I<t;I++)for(var n in e=arguments[I])Object.prototype.hasOwnProperty.call(e,n)&&(g[n]=e[n]);return g},l.apply(this,arguments)};function C(g,e){var I={};for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&e.indexOf(t)<0&&(I[t]=g[t]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(g);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(g,t[n])&&(I[t[n]]=g[t[n]])}return I}function o(g,e,I,t){var n,l=arguments.length,C=l<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,I):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)C=Reflect.decorate(g,e,I,t);else for(var o=g.length-1;o>=0;o--)(n=g[o])&&(C=(l<3?n(C):l>3?n(e,I,C):n(e,I))||C);return l>3&&C&&Object.defineProperty(e,I,C),C}function a(g,e){return function(I,t){e(I,t,g)}}function r(g,e,I,t,n,l){function C(g){if(void 0!==g&&"function"!=typeof g)throw new TypeError("Function expected");return g}for(var o,a=t.kind,r="getter"===a?"get":"setter"===a?"set":"value",i=!e&&g?t.static?g:g.prototype:null,c=e||(i?Object.getOwnPropertyDescriptor(i,t.name):{}),A=!1,d=I.length-1;d>=0;d--){var s={};for(var u in t)s[u]="access"===u?{}:t[u];for(var u in t.access)s.access[u]=t.access[u];s.addInitializer=function(g){if(A)throw new TypeError("Cannot add initializers after decoration has completed");l.push(C(g||null))};var m=(0,I[d])("accessor"===a?{get:c.get,set:c.set}:c[r],s);if("accessor"===a){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=C(m.get))&&(c.get=o),(o=C(m.set))&&(c.set=o),(o=C(m.init))&&n.unshift(o)}else(o=C(m))&&("field"===a?n.unshift(o):c[r]=o)}i&&Object.defineProperty(i,t.name,c),A=!0}function i(g,e,I){for(var t=arguments.length>2,n=0;n<e.length;n++)I=t?e[n].call(g,I):e[n].call(g);return t?I:void 0}function c(g){return"symbol"==typeof g?g:"".concat(g)}function A(g,e,I){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(g,"name",{configurable:!0,value:I?"".concat(I," ",e):e})}function d(g,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(g,e)}function s(g,e,I,t){return new(I||(I=Promise))((function(n,l){function C(g){try{a(t.next(g))}catch(g){l(g)}}function o(g){try{a(t.throw(g))}catch(g){l(g)}}function a(g){var e;g.done?n(g.value):(e=g.value,e instanceof I?e:new I((function(g){g(e)}))).then(C,o)}a((t=t.apply(g,e||[])).next())}))}function u(g,e){var I,t,n,l,C={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(o){return function(a){return function(o){if(I)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(C=0)),C;)try{if(I=1,t&&(n=2&o[0]?t.return:o[0]?t.throw||((n=t.return)&&n.call(t),0):t.next)&&!(n=n.call(t,o[1])).done)return n;switch(t=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return C.label++,{value:o[1],done:!1};case 5:C.label++,t=o[1],o=[0];continue;case 7:o=C.ops.pop(),C.trys.pop();continue;default:if(!((n=(n=C.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){C=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){C.label=o[1];break}if(6===o[0]&&C.label<n[1]){C.label=n[1],n=o;break}if(n&&C.label<n[2]){C.label=n[2],C.ops.push(o);break}n[2]&&C.ops.pop(),C.trys.pop();continue}o=e.call(g,C)}catch(g){o=[6,g],t=0}finally{I=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var m=Object.create?function(g,e,I,t){void 0===t&&(t=I);var n=Object.getOwnPropertyDescriptor(e,I);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[I]}}),Object.defineProperty(g,t,n)}:function(g,e,I,t){void 0===t&&(t=I),g[t]=e[I]};function b(g,e){for(var I in g)"default"===I||Object.prototype.hasOwnProperty.call(e,I)||m(e,g,I)}function Z(g){var e="function"==typeof Symbol&&Symbol.iterator,I=e&&g[e],t=0;if(I)return I.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&t>=g.length&&(g=void 0),{value:g&&g[t++],done:!g}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(g,e){var I="function"==typeof Symbol&&g[Symbol.iterator];if(!I)return g;var t,n,l=I.call(g),C=[];try{for(;(void 0===e||e-- >0)&&!(t=l.next()).done;)C.push(t.value)}catch(g){n={error:g}}finally{try{t&&!t.done&&(I=l.return)&&I.call(l)}finally{if(n)throw n.error}}return C}function G(){for(var g=[],e=0;e<arguments.length;e++)g=g.concat(p(arguments[e]));return g}function h(){for(var g=0,e=0,I=arguments.length;e<I;e++)g+=arguments[e].length;var t=Array(g),n=0;for(e=0;e<I;e++)for(var l=arguments[e],C=0,o=l.length;C<o;C++,n++)t[n]=l[C];return t}function y(g,e,I){if(I||2===arguments.length)for(var t,n=0,l=e.length;n<l;n++)!t&&n in e||(t||(t=Array.prototype.slice.call(e,0,n)),t[n]=e[n]);return g.concat(t||Array.prototype.slice.call(e))}function B(g){return this instanceof B?(this.v=g,this):new B(g)}function S(g,e,I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=I.apply(g,e||[]),l=[];return t={},C("next"),C("throw"),C("return"),t[Symbol.asyncIterator]=function(){return this},t;function C(g){n[g]&&(t[g]=function(e){return new Promise((function(I,t){l.push([g,e,I,t])>1||o(g,e)}))})}function o(g,e){try{(I=n[g](e)).value instanceof B?Promise.resolve(I.value.v).then(a,r):i(l[0][2],I)}catch(g){i(l[0][3],g)}var I}function a(g){o("next",g)}function r(g){o("throw",g)}function i(g,e){g(e),l.shift(),l.length&&o(l[0][0],l[0][1])}}function W(g){var e,I;return e={},t("next"),t("throw",(function(g){throw g})),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,n){e[t]=g[t]?function(e){return(I=!I)?{value:B(g[t](e)),done:!1}:n?n(e):e}:n}}function V(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,I=g[Symbol.asyncIterator];return I?I.call(g):(g=Z(g),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(I){e[I]=g[I]&&function(e){return new Promise((function(t,n){!function(g,e,I,t){Promise.resolve(t).then((function(e){g({value:e,done:I})}),e)}(t,n,(e=g[I](e)).done,e.value)}))}}}function R(g,e){return Object.defineProperty?Object.defineProperty(g,"raw",{value:e}):g.raw=e,g}var v=Object.create?function(g,e){Object.defineProperty(g,"default",{enumerable:!0,value:e})}:function(g,e){g.default=e};function f(g){if(g&&g.__esModule)return g;var e={};if(null!=g)for(var I in g)"default"!==I&&Object.prototype.hasOwnProperty.call(g,I)&&m(e,g,I);return v(e,g),e}function X(g){return g&&g.__esModule?g:{default:g}}function k(g,e,I,t){if("a"===I&&!t)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?g!==e||!t:!e.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===I?t:"a"===I?t.call(g):t?t.value:e.get(g)}function J(g,e,I,t,n){if("m"===t)throw new TypeError("Private method is not writable");if("a"===t&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?g!==e||!n:!e.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===t?n.call(g,I):n?n.value=I:e.set(g,I),I}function Y(g,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof g?e===g:g.has(e)}function H(g,e,I){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var t;if(I){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");t=e[Symbol.asyncDispose]}if(void 0===t){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");t=e[Symbol.dispose]}if("function"!=typeof t)throw new TypeError("Object not disposable.");g.stack.push({value:e,dispose:t,async:I})}else I&&g.stack.push({async:!0});return e}var w="function"==typeof SuppressedError?SuppressedError:function(g,e,I){var t=new Error(I);return t.name="SuppressedError",t.error=g,t.suppressed=e,t};function N(g){function e(e){g.error=g.hasError?new w(e,g.error,"An error was suppressed during disposal."):e,g.hasError=!0}return function I(){for(;g.stack.length;){var t=g.stack.pop();try{var n=t.dispose&&t.dispose.call(t.value);if(t.async)return Promise.resolve(n).then(I,(function(g){return e(g),I()}))}catch(g){e(g)}}if(g.hasError)throw g.error}()}e.default={__extends:n,__assign:l,__rest:C,__decorate:o,__param:a,__metadata:d,__awaiter:s,__generator:u,__createBinding:m,__exportStar:b,__values:Z,__read:p,__spread:G,__spreadArrays:h,__spreadArray:y,__await:B,__asyncGenerator:S,__asyncDelegator:W,__asyncValues:V,__makeTemplateObject:R,__importStar:f,__importDefault:X,__classPrivateFieldGet:k,__classPrivateFieldSet:J,__classPrivateFieldIn:Y,__addDisposableResource:H,__disposeResources:N}}},t={};function n(g){var e=t[g];if(void 0!==e)return e.exports;var l=t[g]={exports:{}};return I[g].call(l.exports,l,l.exports,n),l.exports}n.n=function(g){var e=g&&g.__esModule?function(){return g.default}:function(){return g};return n.d(e,{a:e}),e},e=Object.getPrototypeOf?function(g){return Object.getPrototypeOf(g)}:function(g){return g.__proto__},n.t=function(I,t){if(1&t&&(I=this(I)),8&t)return I;if("object"==typeof I&&I){if(4&t&&I.__esModule)return I;if(16&t&&"function"==typeof I.then)return I}var l=Object.create(null);n.r(l);var C={};g=g||[null,e({}),e([]),e(e)];for(var o=2&t&&I;"object"==typeof o&&!~g.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((function(g){C[g]=function(){return I[g]}}));return C.default=function(){return I},n.d(l,C),l},n.d=function(g,e){for(var I in e)n.o(e,I)&&!n.o(g,I)&&Object.defineProperty(g,I,{enumerable:!0,get:e[I]})},n.o=function(g,e){return Object.prototype.hasOwnProperty.call(g,e)},n.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},function(){"use strict";var g={};n.r(g),n.d(g,{exclude:function(){return yu},extract:function(){return mu},parse:function(){return bu},parseUrl:function(){return pu},pick:function(){return hu},stringify:function(){return Zu},stringifyUrl:function(){return Gu}});var e=n(7294),I=n.t(e,2),t=n(745),l=n(948),C=n(6682),o=n(247),a=n(606);function r(){const g=(0,C.Z)(o.Z);return g[a.Z]||g}var i=n(3527),c=n(7462),A=n(3366),d=e.createContext(null);function s(){return e.useContext(d)}var u="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",m=n(5893),b=function(g){const{children:I,theme:t}=g,n=s(),l=e.useMemo((()=>{const g=null===n?t:function(g,e){return"function"==typeof e?e(g):(0,c.Z)({},g,e)}(n,t);return null!=g&&(g[u]=null!==n),g}),[t,n]);return(0,m.jsx)(d.Provider,{value:l,children:I})},Z=n(5260),p=n(4168);const G={};function h(g,I,t,n=!1){return e.useMemo((()=>{const e=g&&I[g]||I;if("function"==typeof t){const l=t(e),C=g?(0,c.Z)({},I,{[g]:l}):l;return n?()=>C:C}return g?(0,c.Z)({},I,{[g]:t}):(0,c.Z)({},I,t)}),[g,I,t,n])}var y=function(g){const{children:e,theme:I,themeId:t}=g,n=(0,p.Z)(G),l=s()||G,C=h(t,n,I),o=h(t,l,I,!0);return(0,m.jsx)(b,{theme:o,children:(0,m.jsx)(Z.T.Provider,{value:C,children:e})})};const B=["theme"];function S(g){let{theme:e}=g,I=(0,A.Z)(g,B);const t=e[a.Z];return(0,m.jsx)(y,(0,c.Z)({},I,{themeId:t?a.Z:void 0,theme:t||e}))}var W=n(512),V=n(9378),R=n(6523),v=n(9766),f=n(8010);const X=["sx"];function k(g){const{sx:e}=g,I=(0,A.Z)(g,X),{systemProps:t,otherProps:n}=(g=>{var e,I;const t={systemProps:{},otherProps:{}},n=null!=(e=null==g||null==(I=g.theme)?void 0:I.unstable_sxConfig)?e:f.Z;return Object.keys(g).forEach((e=>{n[e]?t.systemProps[e]=g[e]:t.otherProps[e]=g[e]})),t})(I);let l;return l=Array.isArray(e)?[t,...e]:"function"==typeof e?(...g)=>{const I=e(...g);return(0,v.P)(I)?(0,c.Z)({},t,I):t}:(0,c.Z)({},t,e),(0,c.Z)({},n,{sx:l})}const J=["className","component"];var Y=n(7078);const H=(0,i.Z)(),w=function(g={}){const{themeId:I,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:l}=g,o=(0,V.ZP)("div",{shouldForwardProp:g=>"theme"!==g&&"sx"!==g&&"as"!==g})(R.Z);return e.forwardRef((function(g,e){const a=(0,C.Z)(t),r=k(g),{className:i,component:d="div"}=r,s=(0,A.Z)(r,J);return(0,m.jsx)(o,(0,c.Z)({as:d,ref:e,className:(0,W.Z)(i,l?l(n):n),theme:I&&a[I]||a},s))}))}({themeId:a.Z,defaultTheme:H,defaultClassName:"MuiBox-root",generateClassName:Y.Z.generate});var N=w,F=n(4780),K=n(3703);function x(g){return"string"==typeof g}function z(g,e,I){return void 0===g||x(g)?e:(0,c.Z)({},e,{ownerState:(0,c.Z)({},e.ownerState,I)})}function M(g,e=[]){if(void 0===g)return{};const I={};return Object.keys(g).filter((I=>I.match(/^on[A-Z]/)&&"function"==typeof g[I]&&!e.includes(I))).forEach((e=>{I[e]=g[e]})),I}function E(g){if(void 0===g)return{};const e={};return Object.keys(g).filter((e=>!(e.match(/^on[A-Z]/)&&"function"==typeof g[e]))).forEach((I=>{e[I]=g[I]})),e}const L=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function U(g){var e;const{elementType:I,externalSlotProps:t,ownerState:n,skipResolvingSlotProps:l=!1}=g,C=(0,A.Z)(g,L),o=l?{}:function(g,e,I){return"function"==typeof g?g(e,void 0):g}(t,n),{props:a,internalRef:r}=function(g){const{getSlotProps:e,additionalProps:I,externalSlotProps:t,externalForwardedProps:n,className:l}=g;if(!e){const g=(0,W.Z)(null==n?void 0:n.className,null==t?void 0:t.className,l,null==I?void 0:I.className),e=(0,c.Z)({},null==I?void 0:I.style,null==n?void 0:n.style,null==t?void 0:t.style),C=(0,c.Z)({},I,n,t);return g.length>0&&(C.className=g),Object.keys(e).length>0&&(C.style=e),{props:C,internalRef:void 0}}const C=M((0,c.Z)({},n,t)),o=E(t),a=E(n),r=e(C),i=(0,W.Z)(null==r?void 0:r.className,null==I?void 0:I.className,l,null==n?void 0:n.className,null==t?void 0:t.className),A=(0,c.Z)({},null==r?void 0:r.style,null==I?void 0:I.style,null==n?void 0:n.style,null==t?void 0:t.style),d=(0,c.Z)({},r,I,a,o);return i.length>0&&(d.className=i),Object.keys(A).length>0&&(d.style=A),{props:d,internalRef:r.ref}}((0,c.Z)({},C,{externalSlotProps:o})),i=(0,K.Z)(r,null==o?void 0:o.ref,null==(e=g.additionalProps)?void 0:e.ref);return z(I,(0,c.Z)({},a,{ref:i}),n)}var Q=n(2690),T=n(9948),D=n(9064),j=n(4161);function P(g){const e=g.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function O(g,e){e?g.setAttribute("aria-hidden","true"):g.removeAttribute("aria-hidden")}function q(g){return parseInt((0,j.Z)(g).getComputedStyle(g).paddingRight,10)||0}function $(g,e,I,t,n){const l=[e,I,...t];[].forEach.call(g.children,(g=>{const e=-1===l.indexOf(g),I=!function(g){const e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(g.tagName),I="INPUT"===g.tagName&&"hidden"===g.getAttribute("type");return e||I}(g);e&&I&&O(g,n)}))}function _(g,e){let I=-1;return g.some(((g,t)=>!!e(g)&&(I=t,!0))),I}const gg=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(g,e){let I=this.modals.indexOf(g);if(-1!==I)return I;I=this.modals.length,this.modals.push(g),g.modalRef&&O(g.modalRef,!1);const t=function(g){const e=[];return[].forEach.call(g.children,(g=>{"true"===g.getAttribute("aria-hidden")&&e.push(g)})),e}(e);$(e,g.mount,g.modalRef,t,!0);const n=_(this.containers,(g=>g.container===e));return-1!==n?(this.containers[n].modals.push(g),I):(this.containers.push({modals:[g],container:e,restore:null,hiddenSiblings:t}),I)}mount(g,e){const I=_(this.containers,(e=>-1!==e.modals.indexOf(g))),t=this.containers[I];t.restore||(t.restore=function(g,e){const I=[],t=g.container;if(!e.disableScrollLock){if(function(g){const e=(0,Q.Z)(g);return e.body===g?(0,j.Z)(g).innerWidth>e.documentElement.clientWidth:g.scrollHeight>g.clientHeight}(t)){const g=P((0,Q.Z)(t));I.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${q(t)+g}px`;const e=(0,Q.Z)(t).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{I.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${q(e)+g}px`}))}let g;if(t.parentNode instanceof DocumentFragment)g=(0,Q.Z)(t).body;else{const e=t.parentElement,I=(0,j.Z)(t);g="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===I.getComputedStyle(e).overflowY?e:t}I.push({value:g.style.overflow,property:"overflow",el:g},{value:g.style.overflowX,property:"overflow-x",el:g},{value:g.style.overflowY,property:"overflow-y",el:g}),g.style.overflow="hidden"}return()=>{I.forEach((({value:g,el:e,property:I})=>{g?e.style.setProperty(I,g):e.style.removeProperty(I)}))}}(t,e))}remove(g,e=!0){const I=this.modals.indexOf(g);if(-1===I)return I;const t=_(this.containers,(e=>-1!==e.modals.indexOf(g))),n=this.containers[t];if(n.modals.splice(n.modals.indexOf(g),1),this.modals.splice(I,1),0===n.modals.length)n.restore&&n.restore(),g.modalRef&&O(g.modalRef,e),$(n.container,g.mount,g.modalRef,n.hiddenSiblings,!1),this.containers.splice(t,1);else{const g=n.modals[n.modals.length-1];g.modalRef&&O(g.modalRef,!1)}return I}isTopModal(g){return this.modals.length>0&&this.modals[this.modals.length-1]===g}};const eg=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ig(g){const e=[],I=[];return Array.from(g.querySelectorAll(eg)).forEach(((g,t)=>{const n=function(g){const e=parseInt(g.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===g.contentEditable||("AUDIO"===g.nodeName||"VIDEO"===g.nodeName||"DETAILS"===g.nodeName)&&null===g.getAttribute("tabindex")?0:g.tabIndex:e}(g);-1!==n&&function(g){return!(g.disabled||"INPUT"===g.tagName&&"hidden"===g.type||function(g){if("INPUT"!==g.tagName||"radio"!==g.type)return!1;if(!g.name)return!1;const e=e=>g.ownerDocument.querySelector(`input[type="radio"]${e}`);let I=e(`[name="${g.name}"]:checked`);return I||(I=e(`[name="${g.name}"]`)),I!==g}(g))}(g)&&(0===n?e.push(g):I.push({documentOrder:t,tabIndex:n,node:g}))})),I.sort(((g,e)=>g.tabIndex===e.tabIndex?g.documentOrder-e.documentOrder:g.tabIndex-e.tabIndex)).map((g=>g.node)).concat(e)}function tg(){return!0}function ng(g){const{children:I,disableAutoFocus:t=!1,disableEnforceFocus:n=!1,disableRestoreFocus:l=!1,getTabbable:C=Ig,isEnabled:o=tg,open:a}=g,r=e.useRef(!1),i=e.useRef(null),c=e.useRef(null),A=e.useRef(null),d=e.useRef(null),s=e.useRef(!1),u=e.useRef(null),b=(0,K.Z)(I.ref,u),Z=e.useRef(null);e.useEffect((()=>{a&&u.current&&(s.current=!t)}),[t,a]),e.useEffect((()=>{if(!a||!u.current)return;const g=(0,Q.Z)(u.current);return u.current.contains(g.activeElement)||(u.current.hasAttribute("tabIndex")||u.current.setAttribute("tabIndex","-1"),s.current&&u.current.focus()),()=>{l||(A.current&&A.current.focus&&(r.current=!0,A.current.focus()),A.current=null)}}),[a]),e.useEffect((()=>{if(!a||!u.current)return;const g=(0,Q.Z)(u.current),e=e=>{Z.current=e,!n&&o()&&"Tab"===e.key&&g.activeElement===u.current&&e.shiftKey&&(r.current=!0,c.current&&c.current.focus())},I=()=>{const e=u.current;if(null===e)return;if(!g.hasFocus()||!o()||r.current)return void(r.current=!1);if(e.contains(g.activeElement))return;if(n&&g.activeElement!==i.current&&g.activeElement!==c.current)return;if(g.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!s.current)return;let I=[];if(g.activeElement!==i.current&&g.activeElement!==c.current||(I=C(u.current)),I.length>0){var t,l;const g=Boolean((null==(t=Z.current)?void 0:t.shiftKey)&&"Tab"===(null==(l=Z.current)?void 0:l.key)),e=I[0],n=I[I.length-1];"string"!=typeof e&&"string"!=typeof n&&(g?n.focus():e.focus())}else e.focus()};g.addEventListener("focusin",I),g.addEventListener("keydown",e,!0);const t=setInterval((()=>{g.activeElement&&"BODY"===g.activeElement.tagName&&I()}),50);return()=>{clearInterval(t),g.removeEventListener("focusin",I),g.removeEventListener("keydown",e,!0)}}),[t,n,l,o,a,C]);const p=g=>{null===A.current&&(A.current=g.relatedTarget),s.current=!0};return(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)("div",{tabIndex:a?0:-1,onFocus:p,ref:i,"data-testid":"sentinelStart"}),e.cloneElement(I,{ref:b,onFocus:g=>{null===A.current&&(A.current=g.relatedTarget),s.current=!0,d.current=g.target;const e=I.props.onFocus;e&&e(g)}}),(0,m.jsx)("div",{tabIndex:a?0:-1,onFocus:p,ref:c,"data-testid":"sentinelEnd"})]})}var lg=n(3935),Cg=n(3546),og=n(7960);const ag=e.forwardRef((function(g,I){const{children:t,container:n,disablePortal:l=!1}=g,[C,o]=e.useState(null),a=(0,K.Z)(e.isValidElement(t)?t.ref:null,I);if((0,Cg.Z)((()=>{l||o(function(g){return"function"==typeof g?g():g}(n)||document.body)}),[n,l]),(0,Cg.Z)((()=>{if(C&&!l)return(0,og.Z)(I,C),()=>{(0,og.Z)(I,null)}}),[I,C,l]),l){if(e.isValidElement(t)){const g={ref:a};return e.cloneElement(t,g)}return(0,m.jsx)(e.Fragment,{children:t})}return(0,m.jsx)(e.Fragment,{children:C?lg.createPortal(t,C):C})}));var rg=n(1657);function ig(g,e){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,e){return g.__proto__=e,g},ig(g,e)}function cg(g,e){g.prototype=Object.create(e.prototype),g.prototype.constructor=g,ig(g,e)}var Ag=e.createContext(null),dg="unmounted",sg="exited",ug="entering",mg="entered",bg="exiting",Zg=function(g){function I(e,I){var t;t=g.call(this,e,I)||this;var n,l=I&&!I.isMounting?e.enter:e.appear;return t.appearStatus=null,e.in?l?(n=sg,t.appearStatus=ug):n=mg:n=e.unmountOnExit||e.mountOnEnter?dg:sg,t.state={status:n},t.nextCallback=null,t}cg(I,g),I.getDerivedStateFromProps=function(g,e){return g.in&&e.status===dg?{status:sg}:null};var t=I.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(g){var e=null;if(g!==this.props){var I=this.state.status;this.props.in?I!==ug&&I!==mg&&(e=ug):I!==ug&&I!==mg||(e=bg)}this.updateStatus(!1,e)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var g,e,I,t=this.props.timeout;return g=e=I=t,null!=t&&"number"!=typeof t&&(g=t.exit,e=t.enter,I=void 0!==t.appear?t.appear:e),{exit:g,enter:e,appear:I}},t.updateStatus=function(g,e){if(void 0===g&&(g=!1),null!==e)if(this.cancelNextCallback(),e===ug){if(this.props.unmountOnExit||this.props.mountOnEnter){var I=this.props.nodeRef?this.props.nodeRef.current:lg.findDOMNode(this);I&&function(g){g.scrollTop}(I)}this.performEnter(g)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sg&&this.setState({status:dg})},t.performEnter=function(g){var e=this,I=this.props.enter,t=this.context?this.context.isMounting:g,n=this.props.nodeRef?[t]:[lg.findDOMNode(this),t],l=n[0],C=n[1],o=this.getTimeouts(),a=t?o.appear:o.enter;g||I?(this.props.onEnter(l,C),this.safeSetState({status:ug},(function(){e.props.onEntering(l,C),e.onTransitionEnd(a,(function(){e.safeSetState({status:mg},(function(){e.props.onEntered(l,C)}))}))}))):this.safeSetState({status:mg},(function(){e.props.onEntered(l)}))},t.performExit=function(){var g=this,e=this.props.exit,I=this.getTimeouts(),t=this.props.nodeRef?void 0:lg.findDOMNode(this);e?(this.props.onExit(t),this.safeSetState({status:bg},(function(){g.props.onExiting(t),g.onTransitionEnd(I.exit,(function(){g.safeSetState({status:sg},(function(){g.props.onExited(t)}))}))}))):this.safeSetState({status:sg},(function(){g.props.onExited(t)}))},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(g,e){e=this.setNextCallback(e),this.setState(g,e)},t.setNextCallback=function(g){var e=this,I=!0;return this.nextCallback=function(t){I&&(I=!1,e.nextCallback=null,g(t))},this.nextCallback.cancel=function(){I=!1},this.nextCallback},t.onTransitionEnd=function(g,e){this.setNextCallback(e);var I=this.props.nodeRef?this.props.nodeRef.current:lg.findDOMNode(this),t=null==g&&!this.props.addEndListener;if(I&&!t){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[I,this.nextCallback],l=n[0],C=n[1];this.props.addEndListener(l,C)}null!=g&&setTimeout(this.nextCallback,g)}else setTimeout(this.nextCallback,0)},t.render=function(){var g=this.state.status;if(g===dg)return null;var I=this.props,t=I.children,n=(I.in,I.mountOnEnter,I.unmountOnExit,I.appear,I.enter,I.exit,I.timeout,I.addEndListener,I.onEnter,I.onEntering,I.onEntered,I.onExit,I.onExiting,I.onExited,I.nodeRef,(0,A.Z)(I,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Ag.Provider,{value:null},"function"==typeof t?t(g,n):e.cloneElement(e.Children.only(t),n))},I}(e.Component);function pg(){}Zg.contextType=Ag,Zg.propTypes={},Zg.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pg,onEntering:pg,onEntered:pg,onExit:pg,onExiting:pg,onExited:pg},Zg.UNMOUNTED=dg,Zg.EXITED=sg,Zg.ENTERING=ug,Zg.ENTERED=mg,Zg.EXITING=bg;var Gg=Zg;const hg=g=>g.scrollTop;function yg(g,e){var I,t;const{timeout:n,easing:l,style:C={}}=g;return{duration:null!=(I=C.transitionDuration)?I:"number"==typeof n?n:n[e.mode]||0,easing:null!=(t=C.transitionTimingFunction)?t:"object"==typeof l?l[e.mode]:l,delay:C.transitionDelay}}var Bg=n(1705);const Sg=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Wg={entering:{opacity:1},entered:{opacity:1}},Vg=e.forwardRef((function(g,I){const t=r(),n={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},{addEndListener:l,appear:C=!0,children:o,easing:a,in:i,onEnter:d,onEntered:s,onEntering:u,onExit:b,onExited:Z,onExiting:p,style:G,timeout:h=n,TransitionComponent:y=Gg}=g,B=(0,A.Z)(g,Sg),S=e.useRef(null),W=(0,Bg.Z)(S,o.ref,I),V=g=>e=>{if(g){const I=S.current;void 0===e?g(I):g(I,e)}},R=V(u),v=V(((g,e)=>{hg(g);const I=yg({style:G,timeout:h,easing:a},{mode:"enter"});g.style.webkitTransition=t.transitions.create("opacity",I),g.style.transition=t.transitions.create("opacity",I),d&&d(g,e)})),f=V(s),X=V(p),k=V((g=>{const e=yg({style:G,timeout:h,easing:a},{mode:"exit"});g.style.webkitTransition=t.transitions.create("opacity",e),g.style.transition=t.transitions.create("opacity",e),b&&b(g)})),J=V(Z);return(0,m.jsx)(y,(0,c.Z)({appear:C,in:i,nodeRef:S,onEnter:v,onEntered:f,onEntering:R,onExit:k,onExited:J,onExiting:X,addEndListener:g=>{l&&l(S.current,g)},timeout:h},B,{children:(g,I)=>e.cloneElement(o,(0,c.Z)({style:(0,c.Z)({opacity:0,visibility:"exited"!==g||i?void 0:"hidden"},Wg[g],G,o.props.style),ref:W},I))}))}));var Rg=Vg,vg=n(1588),fg=n(4867);function Xg(g){return(0,fg.Z)("MuiBackdrop",g)}(0,vg.Z)("MuiBackdrop",["root","invisible"]);const kg=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Jg=(0,l.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.invisible&&e.invisible]}})((({ownerState:g})=>(0,c.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},g.invisible&&{backgroundColor:"transparent"})));var Yg=e.forwardRef((function(g,e){var I,t,n;const l=(0,rg.Z)({props:g,name:"MuiBackdrop"}),{children:C,className:o,component:a="div",components:r={},componentsProps:i={},invisible:d=!1,open:s,slotProps:u={},slots:b={},TransitionComponent:Z=Rg,transitionDuration:p}=l,G=(0,A.Z)(l,kg),h=(0,c.Z)({},l,{component:a,invisible:d}),y=(g=>{const{classes:e,invisible:I}=g,t={root:["root",I&&"invisible"]};return(0,F.Z)(t,Xg,e)})(h),B=null!=(I=u.root)?I:i.root;return(0,m.jsx)(Z,(0,c.Z)({in:s,timeout:p},G,{children:(0,m.jsx)(Jg,(0,c.Z)({"aria-hidden":!0},B,{as:null!=(t=null!=(n=b.root)?n:r.Root)?t:a,className:(0,W.Z)(y.root,o,null==B?void 0:B.className),ownerState:(0,c.Z)({},h,null==B?void 0:B.ownerState),classes:y,ref:e,children:C}))}))}));function Hg(g){return(0,fg.Z)("MuiModal",g)}(0,vg.Z)("MuiModal",["root","hidden","backdrop"]);const wg=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Ng=(0,l.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,!I.open&&I.exited&&e.hidden]}})((({theme:g,ownerState:e})=>(0,c.Z)({position:"fixed",zIndex:(g.vars||g).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"}))),Fg=(0,l.ZP)(Yg,{name:"MuiModal",slot:"Backdrop",overridesResolver:(g,e)=>e.backdrop})({zIndex:-1}),Kg=e.forwardRef((function(g,I){var t,n,l,C,o,a;const r=(0,rg.Z)({name:"MuiModal",props:g}),{BackdropComponent:i=Fg,BackdropProps:d,className:s,closeAfterTransition:u=!1,children:b,container:Z,component:p,components:G={},componentsProps:h={},disableAutoFocus:y=!1,disableEnforceFocus:B=!1,disableEscapeKeyDown:S=!1,disablePortal:V=!1,disableRestoreFocus:R=!1,disableScrollLock:v=!1,hideBackdrop:f=!1,keepMounted:X=!1,onBackdropClick:k,open:J,slotProps:Y,slots:H}=r,w=(0,A.Z)(r,wg),N=(0,c.Z)({},r,{closeAfterTransition:u,disableAutoFocus:y,disableEnforceFocus:B,disableEscapeKeyDown:S,disablePortal:V,disableRestoreFocus:R,disableScrollLock:v,hideBackdrop:f,keepMounted:X}),{getRootProps:x,getBackdropProps:z,getTransitionProps:E,portalRef:L,isTopModal:j,exited:P,hasTransition:q}=function(g){const{container:I,disableEscapeKeyDown:t=!1,disableScrollLock:n=!1,manager:l=gg,closeAfterTransition:C=!1,onTransitionEnter:o,onTransitionExited:a,children:r,onClose:i,open:A,rootRef:d}=g,s=e.useRef({}),u=e.useRef(null),m=e.useRef(null),b=(0,K.Z)(m,d),[Z,p]=e.useState(!A),G=function(g){return!!g&&g.props.hasOwnProperty("in")}(r);let h=!0;"false"!==g["aria-hidden"]&&!1!==g["aria-hidden"]||(h=!1);const y=()=>(s.current.modalRef=m.current,s.current.mount=u.current,s.current),B=()=>{l.mount(y(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},S=(0,T.Z)((()=>{const g=function(g){return"function"==typeof g?g():g}(I)||(0,Q.Z)(u.current).body;l.add(y(),g),m.current&&B()})),W=e.useCallback((()=>l.isTopModal(y())),[l]),V=(0,T.Z)((g=>{u.current=g,g&&(A&&W()?B():m.current&&O(m.current,h))})),R=e.useCallback((()=>{l.remove(y(),h)}),[h,l]);e.useEffect((()=>()=>{R()}),[R]),e.useEffect((()=>{A?S():G&&C||R()}),[A,R,G,C,S]);const v=g=>e=>{var I;null==(I=g.onKeyDown)||I.call(g,e),"Escape"===e.key&&W()&&(t||(e.stopPropagation(),i&&i(e,"escapeKeyDown")))},f=g=>e=>{var I;null==(I=g.onClick)||I.call(g,e),e.target===e.currentTarget&&i&&i(e,"backdropClick")};return{getRootProps:(e={})=>{const I=M(g);delete I.onTransitionEnter,delete I.onTransitionExited;const t=(0,c.Z)({},I,e);return(0,c.Z)({role:"presentation"},t,{onKeyDown:v(t),ref:b})},getBackdropProps:(g={})=>{const e=g;return(0,c.Z)({"aria-hidden":!0},e,{onClick:f(e),open:A})},getTransitionProps:()=>({onEnter:(0,D.Z)((()=>{p(!1),o&&o()}),null==r?void 0:r.props.onEnter),onExited:(0,D.Z)((()=>{p(!0),a&&a(),C&&R()}),null==r?void 0:r.props.onExited)}),rootRef:b,portalRef:V,isTopModal:W,exited:Z,hasTransition:G}}((0,c.Z)({},N,{rootRef:I})),$=(0,c.Z)({},N,{exited:P}),_=(g=>{const{open:e,exited:I,classes:t}=g,n={root:["root",!e&&I&&"hidden"],backdrop:["backdrop"]};return(0,F.Z)(n,Hg,t)})($),eg={};if(void 0===b.props.tabIndex&&(eg.tabIndex="-1"),q){const{onEnter:g,onExited:e}=E();eg.onEnter=g,eg.onExited=e}const Ig=null!=(t=null!=(n=null==H?void 0:H.root)?n:G.Root)?t:Ng,tg=null!=(l=null!=(C=null==H?void 0:H.backdrop)?C:G.Backdrop)?l:i,lg=null!=(o=null==Y?void 0:Y.root)?o:h.root,Cg=null!=(a=null==Y?void 0:Y.backdrop)?a:h.backdrop,og=U({elementType:Ig,externalSlotProps:lg,externalForwardedProps:w,getSlotProps:x,additionalProps:{ref:I,as:p},ownerState:$,className:(0,W.Z)(s,null==lg?void 0:lg.className,null==_?void 0:_.root,!$.open&&$.exited&&(null==_?void 0:_.hidden))}),ig=U({elementType:tg,externalSlotProps:Cg,additionalProps:d,getSlotProps:g=>z((0,c.Z)({},g,{onClick:e=>{k&&k(e),null!=g&&g.onClick&&g.onClick(e)}})),className:(0,W.Z)(null==Cg?void 0:Cg.className,null==d?void 0:d.className,null==_?void 0:_.backdrop),ownerState:$});return X||J||q&&!P?(0,m.jsx)(ag,{ref:L,container:Z,disablePortal:V,children:(0,m.jsxs)(Ig,(0,c.Z)({},og,{children:[!f&&i?(0,m.jsx)(tg,(0,c.Z)({},ig)):null,(0,m.jsx)(ng,{disableEnforceFocus:B,disableAutoFocus:y,disableRestoreFocus:R,isEnabled:j,open:J,children:e.cloneElement(b,eg)})]}))}):null}));var xg=Kg,zg=n(7144),Mg=n(5340);const Eg=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Lg(g,e,I){var t;const n=function(g,e,I){const t=e.getBoundingClientRect(),n=I&&I.getBoundingClientRect(),l=(0,Mg.Z)(e);let C;if(e.fakeTransform)C=e.fakeTransform;else{const g=l.getComputedStyle(e);C=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform")}let o=0,a=0;if(C&&"none"!==C&&"string"==typeof C){const g=C.split("(")[1].split(")")[0].split(",");o=parseInt(g[4],10),a=parseInt(g[5],10)}return"left"===g?n?`translateX(${n.right+o-t.left}px)`:`translateX(${l.innerWidth+o-t.left}px)`:"right"===g?n?`translateX(-${t.right-n.left-o}px)`:`translateX(-${t.left+t.width-o}px)`:"up"===g?n?`translateY(${n.bottom+a-t.top}px)`:`translateY(${l.innerHeight+a-t.top}px)`:n?`translateY(-${t.top-n.top+t.height-a}px)`:`translateY(-${t.top+t.height-a}px)`}(g,e,"function"==typeof(t=I)?t():t);n&&(e.style.webkitTransform=n,e.style.transform=n)}const Ug=e.forwardRef((function(g,I){const t=r(),n={enter:t.transitions.easing.easeOut,exit:t.transitions.easing.sharp},l={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},{addEndListener:C,appear:o=!0,children:a,container:i,direction:d="down",easing:s=n,in:u,onEnter:b,onEntered:Z,onEntering:p,onExit:G,onExited:h,onExiting:y,style:B,timeout:S=l,TransitionComponent:W=Gg}=g,V=(0,A.Z)(g,Eg),R=e.useRef(null),v=(0,Bg.Z)(a.ref,R,I),f=g=>e=>{g&&(void 0===e?g(R.current):g(R.current,e))},X=f(((g,e)=>{Lg(d,g,i),hg(g),b&&b(g,e)})),k=f(((g,e)=>{const I=yg({timeout:S,style:B,easing:s},{mode:"enter"});g.style.webkitTransition=t.transitions.create("-webkit-transform",(0,c.Z)({},I)),g.style.transition=t.transitions.create("transform",(0,c.Z)({},I)),g.style.webkitTransform="none",g.style.transform="none",p&&p(g,e)})),J=f(Z),Y=f(y),H=f((g=>{const e=yg({timeout:S,style:B,easing:s},{mode:"exit"});g.style.webkitTransition=t.transitions.create("-webkit-transform",e),g.style.transition=t.transitions.create("transform",e),Lg(d,g,i),G&&G(g)})),w=f((g=>{g.style.webkitTransition="",g.style.transition="",h&&h(g)})),N=e.useCallback((()=>{R.current&&Lg(d,R.current,i)}),[d,i]);return e.useEffect((()=>{if(u||"down"===d||"right"===d)return;const g=(0,zg.Z)((()=>{R.current&&Lg(d,R.current,i)})),e=(0,Mg.Z)(R.current);return e.addEventListener("resize",g),()=>{g.clear(),e.removeEventListener("resize",g)}}),[d,u,i]),e.useEffect((()=>{u||N()}),[u,N]),(0,m.jsx)(W,(0,c.Z)({nodeRef:R,onEnter:X,onEntered:J,onEntering:k,onExit:H,onExited:w,onExiting:Y,addEndListener:g=>{C&&C(R.current,g)},appear:o,in:u,timeout:S},V,{children:(g,I)=>e.cloneElement(a,(0,c.Z)({ref:v,style:(0,c.Z)({visibility:"exited"!==g||u?void 0:"hidden"},B,a.props.style)},I))}))}));var Qg=Ug,Tg=n(1796),Dg=g=>{let e;return e=g<1?5.11916*g**2:4.5*Math.log(g+1)+2,(e/100).toFixed(2)};function jg(g){return(0,fg.Z)("MuiPaper",g)}(0,vg.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Pg=["className","component","elevation","square","variant"],Og=(0,l.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[I.variant],!I.square&&e.rounded,"elevation"===I.variant&&e[`elevation${I.elevation}`]]}})((({theme:g,ownerState:e})=>{var I;return(0,c.Z)({backgroundColor:(g.vars||g).palette.background.paper,color:(g.vars||g).palette.text.primary,transition:g.transitions.create("box-shadow")},!e.square&&{borderRadius:g.shape.borderRadius},"outlined"===e.variant&&{border:`1px solid ${(g.vars||g).palette.divider}`},"elevation"===e.variant&&(0,c.Z)({boxShadow:(g.vars||g).shadows[e.elevation]},!g.vars&&"dark"===g.palette.mode&&{backgroundImage:`linear-gradient(${(0,Tg.Fq)("#fff",Dg(e.elevation))}, ${(0,Tg.Fq)("#fff",Dg(e.elevation))})`},g.vars&&{backgroundImage:null==(I=g.vars.overlays)?void 0:I[e.elevation]}))}));var qg=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiPaper"}),{className:t,component:n="div",elevation:l=1,square:C=!1,variant:o="elevation"}=I,a=(0,A.Z)(I,Pg),r=(0,c.Z)({},I,{component:n,elevation:l,square:C,variant:o}),i=(g=>{const{square:e,elevation:I,variant:t,classes:n}=g,l={root:["root",t,!e&&"rounded","elevation"===t&&`elevation${I}`]};return(0,F.Z)(l,jg,n)})(r);return(0,m.jsx)(Og,(0,c.Z)({as:n,ownerState:r,className:(0,W.Z)(i.root,t),ref:e},a))})),$g=n(8216);function _g(g){return(0,fg.Z)("MuiDrawer",g)}(0,vg.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ge=["BackdropProps"],ee=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Ie=(g,e)=>{const{ownerState:I}=g;return[e.root,("permanent"===I.variant||"persistent"===I.variant)&&e.docked,e.modal]},te=(0,l.ZP)(xg,{name:"MuiDrawer",slot:"Root",overridesResolver:Ie})((({theme:g})=>({zIndex:(g.vars||g).zIndex.drawer}))),ne=(0,l.ZP)("div",{shouldForwardProp:l.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ie})({flex:"0 0 auto"}),le=(0,l.ZP)(qg,{name:"MuiDrawer",slot:"Paper",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.paper,e[`paperAnchor${(0,$g.Z)(I.anchor)}`],"temporary"!==I.variant&&e[`paperAnchorDocked${(0,$g.Z)(I.anchor)}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(g.vars||g).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===e.anchor&&{left:0},"top"===e.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===e.anchor&&{right:0},"bottom"===e.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===e.anchor&&"temporary"!==e.variant&&{borderRight:`1px solid ${(g.vars||g).palette.divider}`},"top"===e.anchor&&"temporary"!==e.variant&&{borderBottom:`1px solid ${(g.vars||g).palette.divider}`},"right"===e.anchor&&"temporary"!==e.variant&&{borderLeft:`1px solid ${(g.vars||g).palette.divider}`},"bottom"===e.anchor&&"temporary"!==e.variant&&{borderTop:`1px solid ${(g.vars||g).palette.divider}`}))),Ce={left:"right",right:"left",top:"down",bottom:"up"};var oe=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiDrawer"}),n=r(),l={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:C="left",BackdropProps:o,children:a,className:i,elevation:d=16,hideBackdrop:s=!1,ModalProps:{BackdropProps:u}={},onClose:b,open:Z=!1,PaperProps:p={},SlideProps:G,TransitionComponent:h=Qg,transitionDuration:y=l,variant:B="temporary"}=t,S=(0,A.Z)(t.ModalProps,ge),V=(0,A.Z)(t,ee),R=e.useRef(!1);e.useEffect((()=>{R.current=!0}),[]);const v=function(g,e){return"rtl"===g.direction&&function(g){return-1!==["left","right"].indexOf(g)}(e)?Ce[e]:e}(n,C),f=C,X=(0,c.Z)({},t,{anchor:f,elevation:d,open:Z,variant:B},V),k=(g=>{const{classes:e,anchor:I,variant:t}=g,n={root:["root"],docked:[("permanent"===t||"persistent"===t)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,$g.Z)(I)}`,"temporary"!==t&&`paperAnchorDocked${(0,$g.Z)(I)}`]};return(0,F.Z)(n,_g,e)})(X),J=(0,m.jsx)(le,(0,c.Z)({elevation:"temporary"===B?d:0,square:!0},p,{className:(0,W.Z)(k.paper,p.className),ownerState:X,children:a}));if("permanent"===B)return(0,m.jsx)(ne,(0,c.Z)({className:(0,W.Z)(k.root,k.docked,i),ownerState:X,ref:I},V,{children:J}));const Y=(0,m.jsx)(h,(0,c.Z)({in:Z,direction:Ce[v],timeout:y,appear:R.current},G,{children:J}));return"persistent"===B?(0,m.jsx)(ne,(0,c.Z)({className:(0,W.Z)(k.root,k.docked,i),ownerState:X,ref:I},V,{children:Y})):(0,m.jsx)(te,(0,c.Z)({BackdropProps:(0,c.Z)({},o,u,{transitionDuration:y}),className:(0,W.Z)(k.root,k.modal,i),open:Z,ownerState:X,onClose:b,hideBackdrop:s,ref:I},V,S,{children:Y}))}));function ae(g){return(0,fg.Z)("MuiAppBar",g)}(0,vg.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const re=["className","color","enableColorOnDark","position"],ie=(g,e)=>g?`${null==g?void 0:g.replace(")","")}, ${e})`:e,ce=(0,l.ZP)(qg,{name:"MuiAppBar",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[`position${(0,$g.Z)(I.position)}`],e[`color${(0,$g.Z)(I.color)}`]]}})((({theme:g,ownerState:e})=>{const I="light"===g.palette.mode?g.palette.grey[100]:g.palette.grey[900];return(0,c.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===e.position&&{position:"fixed",zIndex:(g.vars||g).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===e.position&&{position:"absolute",zIndex:(g.vars||g).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===e.position&&{position:"sticky",zIndex:(g.vars||g).zIndex.appBar,top:0,left:"auto",right:0},"static"===e.position&&{position:"static"},"relative"===e.position&&{position:"relative"},!g.vars&&(0,c.Z)({},"default"===e.color&&{backgroundColor:I,color:g.palette.getContrastText(I)},e.color&&"default"!==e.color&&"inherit"!==e.color&&"transparent"!==e.color&&{backgroundColor:g.palette[e.color].main,color:g.palette[e.color].contrastText},"inherit"===e.color&&{color:"inherit"},"dark"===g.palette.mode&&!e.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===e.color&&(0,c.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===g.palette.mode&&{backgroundImage:"none"})),g.vars&&(0,c.Z)({},"default"===e.color&&{"--AppBar-background":e.enableColorOnDark?g.vars.palette.AppBar.defaultBg:ie(g.vars.palette.AppBar.darkBg,g.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?g.vars.palette.text.primary:ie(g.vars.palette.AppBar.darkColor,g.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?g.vars.palette[e.color].main:ie(g.vars.palette.AppBar.darkBg,g.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?g.vars.palette[e.color].contrastText:ie(g.vars.palette.AppBar.darkColor,g.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===e.color?"inherit":"var(--AppBar-color)"},"transparent"===e.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}));var Ae=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiAppBar"}),{className:t,color:n="primary",enableColorOnDark:l=!1,position:C="fixed"}=I,o=(0,A.Z)(I,re),a=(0,c.Z)({},I,{color:n,position:C,enableColorOnDark:l}),r=(g=>{const{color:e,position:I,classes:t}=g,n={root:["root",`color${(0,$g.Z)(e)}`,`position${(0,$g.Z)(I)}`]};return(0,F.Z)(n,ae,t)})(a);return(0,m.jsx)(ce,(0,c.Z)({square:!0,component:"header",ownerState:a,elevation:4,className:(0,W.Z)(r.root,t,"fixed"===C&&"mui-fixed"),ref:e},o))}));function de(g){return(0,fg.Z)("MuiToolbar",g)}(0,vg.Z)("MuiToolbar",["root","gutters","regular","dense"]);const se=["className","component","disableGutters","variant"],ue=(0,l.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,!I.disableGutters&&e.gutters,e[I.variant]]}})((({theme:g,ownerState:e})=>(0,c.Z)({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:g.spacing(2),paddingRight:g.spacing(2),[g.breakpoints.up("sm")]:{paddingLeft:g.spacing(3),paddingRight:g.spacing(3)}},"dense"===e.variant&&{minHeight:48})),(({theme:g,ownerState:e})=>"regular"===e.variant&&g.mixins.toolbar));var me=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiToolbar"}),{className:t,component:n="div",disableGutters:l=!1,variant:C="regular"}=I,o=(0,A.Z)(I,se),a=(0,c.Z)({},I,{component:n,disableGutters:l,variant:C}),r=(g=>{const{classes:e,disableGutters:I,variant:t}=g,n={root:["root",!I&&"gutters",t]};return(0,F.Z)(n,de,e)})(a);return(0,m.jsx)(ue,(0,c.Z)({as:n,className:(0,W.Z)(r.root,t),ref:e,ownerState:a},o))})),be=n(444),Ze=n(7278),pe=n(6797),Ge=(n(6751),n(8679),(0,Z.w)((function(g,I){var t=g.styles,n=(0,pe.O)([t],void 0,e.useContext(Z.T));if(!Z.i){for(var l,C=n.name,o=n.styles,a=n.next;void 0!==a;)C+=" "+a.name,o+=a.styles,a=a.next;var r=!0===I.compat,i=I.insert("",{name:C,styles:o},I.sheet,r);return r?null:e.createElement("style",((l={})["data-emotion"]=I.key+"-global "+C,l.dangerouslySetInnerHTML={__html:i},l.nonce=I.sheet.nonce,l))}var c=e.useRef();return(0,Ze.j)((function(){var g=I.key+"-global",e=new I.sheet.constructor({key:g,nonce:I.sheet.nonce,container:I.sheet.container,speedy:I.sheet.isSpeedy}),t=!1,l=document.querySelector('style[data-emotion="'+g+" "+n.name+'"]');return I.sheet.tags.length&&(e.before=I.sheet.tags[0]),null!==l&&(t=!0,l.setAttribute("data-emotion",g),e.hydrate([l])),c.current=[e,t],function(){e.flush()}}),[I]),(0,Ze.j)((function(){var g=c.current,e=g[0];if(g[1])g[1]=!1;else{if(void 0!==n.next&&(0,be.My)(I,n.next,!0),e.tags.length){var t=e.tags[e.tags.length-1].nextElementSibling;e.before=t,e.flush()}I.insert("",n,e,!1)}}),[I,n.name]),null})));function he(){for(var g=arguments.length,e=new Array(g),I=0;I<g;I++)e[I]=arguments[I];return(0,pe.O)(e)}var ye=function(){var g=he.apply(void 0,arguments),e="animation-"+g.name;return{name:e,styles:"@keyframes "+e+"{"+g.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Be(g){const{styles:e,defaultTheme:I={}}=g,t="function"==typeof e?g=>{return e(null==(t=g)||0===Object.keys(t).length?I:g);var t}:e;return(0,m.jsx)(Ge,{styles:t})}var Se=function({styles:g,themeId:e,defaultTheme:I={}}){const t=(0,C.Z)(I),n="function"==typeof g?g(e&&t[e]||t):g;return(0,m.jsx)(Be,{styles:n})},We=function(g){return(0,m.jsx)(Se,(0,c.Z)({},g,{defaultTheme:o.Z,themeId:a.Z}))};const Ve=(g,e)=>(0,c.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!g.vars&&{colorScheme:g.palette.mode}),Re=g=>(0,c.Z)({color:(g.vars||g).palette.text.primary},g.typography.body1,{backgroundColor:(g.vars||g).palette.background.default,"@media print":{backgroundColor:(g.vars||g).palette.common.white}});var ve=function(g){const I=(0,rg.Z)({props:g,name:"MuiCssBaseline"}),{children:t,enableColorScheme:n=!1}=I;return(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)(We,{styles:g=>((g,e=!1)=>{var I;const t={};e&&g.colorSchemes&&Object.entries(g.colorSchemes).forEach((([e,I])=>{var n;t[g.getColorSchemeSelector(e).replace(/\s*&/,"")]={colorScheme:null==(n=I.palette)?void 0:n.mode}}));let n=(0,c.Z)({html:Ve(g,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:g.typography.fontWeightBold},body:(0,c.Z)({margin:0},Re(g),{"&::backdrop":{backgroundColor:(g.vars||g).palette.background.default}})},t);const l=null==(I=g.components)||null==(I=I.MuiCssBaseline)?void 0:I.styleOverrides;return l&&(n=[n,l]),n})(g,n)}),t]})};function fe(g){return(0,fg.Z)("MuiDivider",g)}var Xe=(0,vg.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const ke=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Je=(0,l.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.absolute&&e.absolute,e[I.variant],I.light&&e.light,"vertical"===I.orientation&&e.vertical,I.flexItem&&e.flexItem,I.children&&e.withChildren,I.children&&"vertical"===I.orientation&&e.withChildrenVertical,"right"===I.textAlign&&"vertical"!==I.orientation&&e.textAlignRight,"left"===I.textAlign&&"vertical"!==I.orientation&&e.textAlignLeft]}})((({theme:g,ownerState:e})=>(0,c.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(g.vars||g).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:g.vars?`rgba(${g.vars.palette.dividerChannel} / 0.08)`:(0,Tg.Fq)(g.palette.divider,.08)},"inset"===e.variant&&{marginLeft:72},"middle"===e.variant&&"horizontal"===e.orientation&&{marginLeft:g.spacing(2),marginRight:g.spacing(2)},"middle"===e.variant&&"vertical"===e.orientation&&{marginTop:g.spacing(1),marginBottom:g.spacing(1)},"vertical"===e.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"})),(({ownerState:g})=>(0,c.Z)({},g.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})),(({theme:g,ownerState:e})=>(0,c.Z)({},e.children&&"vertical"!==e.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(g.vars||g).palette.divider}`}})),(({theme:g,ownerState:e})=>(0,c.Z)({},e.children&&"vertical"===e.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(g.vars||g).palette.divider}`}})),(({ownerState:g})=>(0,c.Z)({},"right"===g.textAlign&&"vertical"!==g.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===g.textAlign&&"vertical"!==g.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),Ye=(0,l.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.wrapper,"vertical"===I.orientation&&e.wrapperVertical]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"inline-block",paddingLeft:`calc(${g.spacing(1)} * 1.2)`,paddingRight:`calc(${g.spacing(1)} * 1.2)`},"vertical"===e.orientation&&{paddingTop:`calc(${g.spacing(1)} * 1.2)`,paddingBottom:`calc(${g.spacing(1)} * 1.2)`}))),He=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiDivider"}),{absolute:t=!1,children:n,className:l,component:C=(n?"div":"hr"),flexItem:o=!1,light:a=!1,orientation:r="horizontal",role:i=("hr"!==C?"separator":void 0),textAlign:d="center",variant:s="fullWidth"}=I,u=(0,A.Z)(I,ke),b=(0,c.Z)({},I,{absolute:t,component:C,flexItem:o,light:a,orientation:r,role:i,textAlign:d,variant:s}),Z=(g=>{const{absolute:e,children:I,classes:t,flexItem:n,light:l,orientation:C,textAlign:o,variant:a}=g,r={root:["root",e&&"absolute",a,l&&"light","vertical"===C&&"vertical",n&&"flexItem",I&&"withChildren",I&&"vertical"===C&&"withChildrenVertical","right"===o&&"vertical"!==C&&"textAlignRight","left"===o&&"vertical"!==C&&"textAlignLeft"],wrapper:["wrapper","vertical"===C&&"wrapperVertical"]};return(0,F.Z)(r,fe,t)})(b);return(0,m.jsx)(Je,(0,c.Z)({as:C,className:(0,W.Z)(Z.root,l),role:i,ref:e,ownerState:b},u,{children:n?(0,m.jsx)(Ye,{className:Z.wrapper,ownerState:b,children:n}):null}))}));He.muiSkipListHighlight=!0;var we=He,Ne=n(2068),Fe=n(9674);function Ke(g,I){var t=Object.create(null);return g&&e.Children.map(g,(function(g){return g})).forEach((function(g){t[g.key]=function(g){return I&&(0,e.isValidElement)(g)?I(g):g}(g)})),t}function xe(g,e,I){return null!=I[e]?I[e]:g.props[e]}function ze(g,I,t){var n=Ke(g.children),l=function(g,e){function I(I){return I in e?e[I]:g[I]}g=g||{},e=e||{};var t,n=Object.create(null),l=[];for(var C in g)C in e?l.length&&(n[C]=l,l=[]):l.push(C);var o={};for(var a in e){if(n[a])for(t=0;t<n[a].length;t++){var r=n[a][t];o[n[a][t]]=I(r)}o[a]=I(a)}for(t=0;t<l.length;t++)o[l[t]]=I(l[t]);return o}(I,n);return Object.keys(l).forEach((function(C){var o=l[C];if((0,e.isValidElement)(o)){var a=C in I,r=C in n,i=I[C],c=(0,e.isValidElement)(i)&&!i.props.in;!r||a&&!c?r||!a||c?r&&a&&(0,e.isValidElement)(i)&&(l[C]=(0,e.cloneElement)(o,{onExited:t.bind(null,o),in:i.props.in,exit:xe(o,"exit",g),enter:xe(o,"enter",g)})):l[C]=(0,e.cloneElement)(o,{in:!1}):l[C]=(0,e.cloneElement)(o,{onExited:t.bind(null,o),in:!0,exit:xe(o,"exit",g),enter:xe(o,"enter",g)})}})),l}var Me=Object.values||function(g){return Object.keys(g).map((function(e){return g[e]}))},Ee=function(g){function I(e,I){var t,n=(t=g.call(this,e,I)||this).handleExited.bind(function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(t));return t.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},t}cg(I,g);var t=I.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},I.getDerivedStateFromProps=function(g,I){var t,n,l=I.children,C=I.handleExited;return{children:I.firstRender?(t=g,n=C,Ke(t.children,(function(g){return(0,e.cloneElement)(g,{onExited:n.bind(null,g),in:!0,appear:xe(g,"appear",t),enter:xe(g,"enter",t),exit:xe(g,"exit",t)})}))):ze(g,l,C),firstRender:!1}},t.handleExited=function(g,e){var I=Ke(this.props.children);g.key in I||(g.props.onExited&&g.props.onExited(e),this.mounted&&this.setState((function(e){var I=(0,c.Z)({},e.children);return delete I[g.key],{children:I}})))},t.render=function(){var g=this.props,I=g.component,t=g.childFactory,n=(0,A.Z)(g,["component","childFactory"]),l=this.state.contextValue,C=Me(this.state.children).map(t);return delete n.appear,delete n.enter,delete n.exit,null===I?e.createElement(Ag.Provider,{value:l},C):e.createElement(Ag.Provider,{value:l},e.createElement(I,n,C))},I}(e.Component);Ee.propTypes={},Ee.defaultProps={component:"div",childFactory:function(g){return g}};var Le=Ee,Ue=(0,vg.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);const Qe=["center","classes","className"];let Te,De,je,Pe,Oe=g=>g;const qe=ye(Te||(Te=Oe`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),$e=ye(De||(De=Oe`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),_e=ye(je||(je=Oe`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),gI=(0,l.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),eI=(0,l.ZP)((function(g){const{className:I,classes:t,pulsate:n=!1,rippleX:l,rippleY:C,rippleSize:o,in:a,onExited:r,timeout:i}=g,[c,A]=e.useState(!1),d=(0,W.Z)(I,t.ripple,t.rippleVisible,n&&t.ripplePulsate),s={width:o,height:o,top:-o/2+C,left:-o/2+l},u=(0,W.Z)(t.child,c&&t.childLeaving,n&&t.childPulsate);return a||c||A(!0),e.useEffect((()=>{if(!a&&null!=r){const g=setTimeout(r,i);return()=>{clearTimeout(g)}}}),[r,a,i]),(0,m.jsx)("span",{className:d,style:s,children:(0,m.jsx)("span",{className:u})})}),{name:"MuiTouchRipple",slot:"Ripple"})(Pe||(Pe=Oe`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ue.rippleVisible,qe,550,(({theme:g})=>g.transitions.easing.easeInOut),Ue.ripplePulsate,(({theme:g})=>g.transitions.duration.shorter),Ue.child,Ue.childLeaving,$e,550,(({theme:g})=>g.transitions.easing.easeInOut),Ue.childPulsate,_e,(({theme:g})=>g.transitions.easing.easeInOut)),II=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiTouchRipple"}),{center:n=!1,classes:l={},className:C}=t,o=(0,A.Z)(t,Qe),[a,r]=e.useState([]),i=e.useRef(0),d=e.useRef(null);e.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[a]);const s=e.useRef(!1),u=e.useRef(0),b=e.useRef(null),Z=e.useRef(null);e.useEffect((()=>()=>{u.current&&clearTimeout(u.current)}),[]);const p=e.useCallback((g=>{const{pulsate:e,rippleX:I,rippleY:t,rippleSize:n,cb:C}=g;r((g=>[...g,(0,m.jsx)(eI,{classes:{ripple:(0,W.Z)(l.ripple,Ue.ripple),rippleVisible:(0,W.Z)(l.rippleVisible,Ue.rippleVisible),ripplePulsate:(0,W.Z)(l.ripplePulsate,Ue.ripplePulsate),child:(0,W.Z)(l.child,Ue.child),childLeaving:(0,W.Z)(l.childLeaving,Ue.childLeaving),childPulsate:(0,W.Z)(l.childPulsate,Ue.childPulsate)},timeout:550,pulsate:e,rippleX:I,rippleY:t,rippleSize:n},i.current)])),i.current+=1,d.current=C}),[l]),G=e.useCallback(((g={},e={},I=(()=>{}))=>{const{pulsate:t=!1,center:l=n||e.pulsate,fakeElement:C=!1}=e;if("mousedown"===(null==g?void 0:g.type)&&s.current)return void(s.current=!1);"touchstart"===(null==g?void 0:g.type)&&(s.current=!0);const o=C?null:Z.current,a=o?o.getBoundingClientRect():{width:0,height:0,left:0,top:0};let r,i,c;if(l||void 0===g||0===g.clientX&&0===g.clientY||!g.clientX&&!g.touches)r=Math.round(a.width/2),i=Math.round(a.height/2);else{const{clientX:e,clientY:I}=g.touches&&g.touches.length>0?g.touches[0]:g;r=Math.round(e-a.left),i=Math.round(I-a.top)}if(l)c=Math.sqrt((2*a.width**2+a.height**2)/3),c%2==0&&(c+=1);else{const g=2*Math.max(Math.abs((o?o.clientWidth:0)-r),r)+2,e=2*Math.max(Math.abs((o?o.clientHeight:0)-i),i)+2;c=Math.sqrt(g**2+e**2)}null!=g&&g.touches?null===b.current&&(b.current=()=>{p({pulsate:t,rippleX:r,rippleY:i,rippleSize:c,cb:I})},u.current=setTimeout((()=>{b.current&&(b.current(),b.current=null)}),80)):p({pulsate:t,rippleX:r,rippleY:i,rippleSize:c,cb:I})}),[n,p]),h=e.useCallback((()=>{G({},{pulsate:!0})}),[G]),y=e.useCallback(((g,e)=>{if(clearTimeout(u.current),"touchend"===(null==g?void 0:g.type)&&b.current)return b.current(),b.current=null,void(u.current=setTimeout((()=>{y(g,e)})));b.current=null,r((g=>g.length>0?g.slice(1):g)),d.current=e}),[]);return e.useImperativeHandle(I,(()=>({pulsate:h,start:G,stop:y})),[h,G,y]),(0,m.jsx)(gI,(0,c.Z)({className:(0,W.Z)(Ue.root,l.root,C),ref:Z},o,{children:(0,m.jsx)(Le,{component:null,exit:!0,children:a})}))}));var tI=II;function nI(g){return(0,fg.Z)("MuiButtonBase",g)}var lI=(0,vg.Z)("MuiButtonBase",["root","disabled","focusVisible"]);const CI=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],oI=(0,l.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(g,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lI.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var aI=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiButtonBase"}),{action:n,centerRipple:l=!1,children:C,className:o,component:a="button",disabled:r=!1,disableRipple:i=!1,disableTouchRipple:d=!1,focusRipple:s=!1,LinkComponent:u="a",onBlur:b,onClick:Z,onContextMenu:p,onDragLeave:G,onFocus:h,onFocusVisible:y,onKeyDown:B,onKeyUp:S,onMouseDown:V,onMouseLeave:R,onMouseUp:v,onTouchEnd:f,onTouchMove:X,onTouchStart:k,tabIndex:J=0,TouchRippleProps:Y,touchRippleRef:H,type:w}=t,N=(0,A.Z)(t,CI),K=e.useRef(null),x=e.useRef(null),z=(0,Bg.Z)(x,H),{isFocusVisibleRef:M,onFocus:E,onBlur:L,ref:U}=(0,Fe.Z)(),[Q,T]=e.useState(!1);r&&Q&&T(!1),e.useImperativeHandle(n,(()=>({focusVisible:()=>{T(!0),K.current.focus()}})),[]);const[D,j]=e.useState(!1);e.useEffect((()=>{j(!0)}),[]);const P=D&&!i&&!r;function O(g,e,I=d){return(0,Ne.Z)((t=>(e&&e(t),!I&&x.current&&x.current[g](t),!0)))}e.useEffect((()=>{Q&&s&&!i&&D&&x.current.pulsate()}),[i,s,Q,D]);const q=O("start",V),$=O("stop",p),_=O("stop",G),gg=O("stop",v),eg=O("stop",(g=>{Q&&g.preventDefault(),R&&R(g)})),Ig=O("start",k),tg=O("stop",f),ng=O("stop",X),lg=O("stop",(g=>{L(g),!1===M.current&&T(!1),b&&b(g)}),!1),Cg=(0,Ne.Z)((g=>{K.current||(K.current=g.currentTarget),E(g),!0===M.current&&(T(!0),y&&y(g)),h&&h(g)})),og=()=>{const g=K.current;return a&&"button"!==a&&!("A"===g.tagName&&g.href)},ag=e.useRef(!1),ig=(0,Ne.Z)((g=>{s&&!ag.current&&Q&&x.current&&" "===g.key&&(ag.current=!0,x.current.stop(g,(()=>{x.current.start(g)}))),g.target===g.currentTarget&&og()&&" "===g.key&&g.preventDefault(),B&&B(g),g.target===g.currentTarget&&og()&&"Enter"===g.key&&!r&&(g.preventDefault(),Z&&Z(g))})),cg=(0,Ne.Z)((g=>{s&&" "===g.key&&x.current&&Q&&!g.defaultPrevented&&(ag.current=!1,x.current.stop(g,(()=>{x.current.pulsate(g)}))),S&&S(g),Z&&g.target===g.currentTarget&&og()&&" "===g.key&&!g.defaultPrevented&&Z(g)}));let Ag=a;"button"===Ag&&(N.href||N.to)&&(Ag=u);const dg={};"button"===Ag?(dg.type=void 0===w?"button":w,dg.disabled=r):(N.href||N.to||(dg.role="button"),r&&(dg["aria-disabled"]=r));const sg=(0,Bg.Z)(I,U,K),ug=(0,c.Z)({},t,{centerRipple:l,component:a,disabled:r,disableRipple:i,disableTouchRipple:d,focusRipple:s,tabIndex:J,focusVisible:Q}),mg=(g=>{const{disabled:e,focusVisible:I,focusVisibleClassName:t,classes:n}=g,l={root:["root",e&&"disabled",I&&"focusVisible"]},C=(0,F.Z)(l,nI,n);return I&&t&&(C.root+=` ${t}`),C})(ug);return(0,m.jsxs)(oI,(0,c.Z)({as:Ag,className:(0,W.Z)(mg.root,o),ownerState:ug,onBlur:lg,onClick:Z,onContextMenu:$,onFocus:Cg,onKeyDown:ig,onKeyUp:cg,onMouseDown:q,onMouseLeave:eg,onMouseUp:gg,onDragLeave:_,onTouchEnd:tg,onTouchMove:ng,onTouchStart:Ig,ref:sg,tabIndex:r?-1:J,type:w},dg,N,{children:[C,P?(0,m.jsx)(tI,(0,c.Z)({ref:z,center:l},Y)):null]}))}));function rI(g){return(0,fg.Z)("MuiIconButton",g)}var iI=(0,vg.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);const cI=["edge","children","className","color","disabled","disableFocusRipple","size"],AI=(0,l.ZP)(aI,{name:"MuiIconButton",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,"default"!==I.color&&e[`color${(0,$g.Z)(I.color)}`],I.edge&&e[`edge${(0,$g.Z)(I.edge)}`],e[`size${(0,$g.Z)(I.size)}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({textAlign:"center",flex:"0 0 auto",fontSize:g.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(g.vars||g).palette.action.active,transition:g.transitions.create("background-color",{duration:g.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:g.vars?`rgba(${g.vars.palette.action.activeChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)(g.palette.action.active,g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),(({theme:g,ownerState:e})=>{var I;const t=null==(I=(g.vars||g).palette)?void 0:I[e.color];return(0,c.Z)({},"inherit"===e.color&&{color:"inherit"},"inherit"!==e.color&&"default"!==e.color&&(0,c.Z)({color:null==t?void 0:t.main},!e.disableRipple&&{"&:hover":(0,c.Z)({},t&&{backgroundColor:g.vars?`rgba(${t.mainChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)(t.main,g.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===e.size&&{padding:5,fontSize:g.typography.pxToRem(18)},"large"===e.size&&{padding:12,fontSize:g.typography.pxToRem(28)},{[`&.${iI.disabled}`]:{backgroundColor:"transparent",color:(g.vars||g).palette.action.disabled}})}));var dI=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiIconButton"}),{edge:t=!1,children:n,className:l,color:C="default",disabled:o=!1,disableFocusRipple:a=!1,size:r="medium"}=I,i=(0,A.Z)(I,cI),d=(0,c.Z)({},I,{edge:t,color:C,disabled:o,disableFocusRipple:a,size:r}),s=(g=>{const{classes:e,disabled:I,color:t,edge:n,size:l}=g,C={root:["root",I&&"disabled","default"!==t&&`color${(0,$g.Z)(t)}`,n&&`edge${(0,$g.Z)(n)}`,`size${(0,$g.Z)(l)}`]};return(0,F.Z)(C,rI,e)})(d);return(0,m.jsx)(AI,(0,c.Z)({className:(0,W.Z)(s.root,l),centerRipple:!0,focusRipple:!a,disabled:o,ref:e,ownerState:d},i,{children:n}))})),sI=n(9572),uI=n(6215),mI=n(8974),bI=e.createContext({});function ZI(g){return(0,fg.Z)("MuiListItemButton",g)}var pI=(0,vg.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);const GI=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],hI=(0,l.ZP)(aI,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiListItemButton",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.dense&&e.dense,"flex-start"===I.alignItems&&e.alignItemsFlexStart,I.divider&&e.divider,!I.disableGutters&&e.gutters]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:g.transitions.create("background-color",{duration:g.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(g.vars||g).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${pI.selected}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity),[`&.${pI.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.focusOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.focusOpacity)}},[`&.${pI.selected}:hover`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.hoverOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity)}},[`&.${pI.focusVisible}`]:{backgroundColor:(g.vars||g).palette.action.focus},[`&.${pI.disabled}`]:{opacity:(g.vars||g).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(g.vars||g).palette.divider}`,backgroundClip:"padding-box"},"flex-start"===e.alignItems&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})));var yI=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:l=!1,component:C="div",children:o,dense:a=!1,disableGutters:r=!1,divider:i=!1,focusVisibleClassName:d,selected:s=!1,className:u}=t,b=(0,A.Z)(t,GI),Z=e.useContext(bI),p=e.useMemo((()=>({dense:a||Z.dense||!1,alignItems:n,disableGutters:r})),[n,Z.dense,a,r]),G=e.useRef(null);(0,mI.Z)((()=>{l&&G.current&&G.current.focus()}),[l]);const h=(0,c.Z)({},t,{alignItems:n,dense:p.dense,disableGutters:r,divider:i,selected:s}),y=(g=>{const{alignItems:e,classes:I,dense:t,disabled:n,disableGutters:l,divider:C,selected:o}=g,a={root:["root",t&&"dense",!l&&"gutters",C&&"divider",n&&"disabled","flex-start"===e&&"alignItemsFlexStart",o&&"selected"]},r=(0,F.Z)(a,ZI,I);return(0,c.Z)({},I,r)})(h),B=(0,Bg.Z)(G,I);return(0,m.jsx)(bI.Provider,{value:p,children:(0,m.jsx)(hI,(0,c.Z)({ref:B,href:b.href||b.to,component:(b.href||b.to)&&"div"===C?"button":C,focusVisibleClassName:(0,W.Z)(y.focusVisible,d),ownerState:h,className:(0,W.Z)(y.root,u)},b,{classes:y,children:o}))})}));function BI(g){return(0,fg.Z)("MuiListItemIcon",g)}var SI=(0,vg.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);const WI=["className"],VI=(0,l.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,"flex-start"===I.alignItems&&e.alignItemsFlexStart]}})((({theme:g,ownerState:e})=>(0,c.Z)({minWidth:56,color:(g.vars||g).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===e.alignItems&&{marginTop:8})));var RI=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiListItemIcon"}),{className:n}=t,l=(0,A.Z)(t,WI),C=e.useContext(bI),o=(0,c.Z)({},t,{alignItems:C.alignItems}),a=(g=>{const{alignItems:e,classes:I}=g,t={root:["root","flex-start"===e&&"alignItemsFlexStart"]};return(0,F.Z)(t,BI,I)})(o);return(0,m.jsx)(VI,(0,c.Z)({className:(0,W.Z)(a.root,n),ownerState:o,ref:I},l))}));function vI(g){return(0,fg.Z)("MuiTypography",g)}(0,vg.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const fI=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],XI=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.variant&&e[I.variant],"inherit"!==I.align&&e[`align${(0,$g.Z)(I.align)}`],I.noWrap&&e.noWrap,I.gutterBottom&&e.gutterBottom,I.paragraph&&e.paragraph]}})((({theme:g,ownerState:e})=>(0,c.Z)({margin:0},"inherit"===e.variant&&{font:"inherit"},"inherit"!==e.variant&&g.typography[e.variant],"inherit"!==e.align&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16}))),kI={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},JI={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var YI=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiTypography"}),t=(g=>JI[g]||g)(I.color),n=k((0,c.Z)({},I,{color:t})),{align:l="inherit",className:C,component:o,gutterBottom:a=!1,noWrap:r=!1,paragraph:i=!1,variant:d="body1",variantMapping:s=kI}=n,u=(0,A.Z)(n,fI),b=(0,c.Z)({},n,{align:l,color:t,className:C,component:o,gutterBottom:a,noWrap:r,paragraph:i,variant:d,variantMapping:s}),Z=o||(i?"p":s[d]||kI[d])||"span",p=(g=>{const{align:e,gutterBottom:I,noWrap:t,paragraph:n,variant:l,classes:C}=g,o={root:["root",l,"inherit"!==g.align&&`align${(0,$g.Z)(e)}`,I&&"gutterBottom",t&&"noWrap",n&&"paragraph"]};return(0,F.Z)(o,vI,C)})(b);return(0,m.jsx)(XI,(0,c.Z)({as:Z,ref:e,ownerState:b,className:(0,W.Z)(p.root,C)},u))}));function HI(g){return(0,fg.Z)("MuiListItemText",g)}var wI=(0,vg.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);const NI=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],FI=(0,l.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[{[`& .${wI.primary}`]:e.primary},{[`& .${wI.secondary}`]:e.secondary},e.root,I.inset&&e.inset,I.primary&&I.secondary&&e.multiline,I.dense&&e.dense]}})((({ownerState:g})=>(0,c.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},g.primary&&g.secondary&&{marginTop:6,marginBottom:6},g.inset&&{paddingLeft:56})));var KI=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiListItemText"}),{children:n,className:l,disableTypography:C=!1,inset:o=!1,primary:a,primaryTypographyProps:r,secondary:i,secondaryTypographyProps:d}=t,s=(0,A.Z)(t,NI),{dense:u}=e.useContext(bI);let b=null!=a?a:n,Z=i;const p=(0,c.Z)({},t,{disableTypography:C,inset:o,primary:!!b,secondary:!!Z,dense:u}),G=(g=>{const{classes:e,inset:I,primary:t,secondary:n,dense:l}=g,C={root:["root",I&&"inset",l&&"dense",t&&n&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,F.Z)(C,HI,e)})(p);return null==b||b.type===YI||C||(b=(0,m.jsx)(YI,(0,c.Z)({variant:u?"body2":"body1",className:G.primary,component:null!=r&&r.variant?void 0:"span",display:"block"},r,{children:b}))),null==Z||Z.type===YI||C||(Z=(0,m.jsx)(YI,(0,c.Z)({variant:"body2",className:G.secondary,color:"text.secondary",display:"block"},d,{children:Z}))),(0,m.jsxs)(FI,(0,c.Z)({className:(0,W.Z)(G.root,l),ownerState:p,ref:I},s,{children:[b,Z]}))}));function xI(g){return(0,fg.Z)("MuiList",g)}(0,vg.Z)("MuiList",["root","padding","dense","subheader"]);const zI=["children","className","component","dense","disablePadding","subheader"],MI=(0,l.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,!I.disablePadding&&e.padding,I.dense&&e.dense,I.subheader&&e.subheader]}})((({ownerState:g})=>(0,c.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!g.disablePadding&&{paddingTop:8,paddingBottom:8},g.subheader&&{paddingTop:0})));var EI,LI=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiList"}),{children:n,className:l,component:C="ul",dense:o=!1,disablePadding:a=!1,subheader:r}=t,i=(0,A.Z)(t,zI),d=e.useMemo((()=>({dense:o})),[o]),s=(0,c.Z)({},t,{component:C,dense:o,disablePadding:a}),u=(g=>{const{classes:e,disablePadding:I,dense:t,subheader:n}=g,l={root:["root",!I&&"padding",t&&"dense",n&&"subheader"]};return(0,F.Z)(l,xI,e)})(s);return(0,m.jsx)(bI.Provider,{value:d,children:(0,m.jsxs)(MI,(0,c.Z)({as:C,className:(0,W.Z)(u.root,l),ref:I,ownerState:s},i,{children:[r,n]}))})}));function UI(){return UI=Object.assign?Object.assign.bind():function(g){for(var e=1;e<arguments.length;e++){var I=arguments[e];for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&(g[t]=I[t])}return g},UI.apply(this,arguments)}!function(g){g.Pop="POP",g.Push="PUSH",g.Replace="REPLACE"}(EI||(EI={}));const QI="popstate";function TI(g,e){if(!1===g||null==g)throw new Error(e)}function DI(g,e){if(!g){"undefined"!=typeof console&&console.warn(e);try{throw new Error(e)}catch(g){}}}function jI(g,e){return{usr:g.state,key:g.key,idx:e}}function PI(g,e,I,t){return void 0===I&&(I=null),UI({pathname:"string"==typeof g?g:g.pathname,search:"",hash:""},"string"==typeof e?qI(e):e,{state:I,key:e&&e.key||t||Math.random().toString(36).substr(2,8)})}function OI(g){let{pathname:e="/",search:I="",hash:t=""}=g;return I&&"?"!==I&&(e+="?"===I.charAt(0)?I:"?"+I),t&&"#"!==t&&(e+="#"===t.charAt(0)?t:"#"+t),e}function qI(g){let e={};if(g){let I=g.indexOf("#");I>=0&&(e.hash=g.substr(I),g=g.substr(0,I));let t=g.indexOf("?");t>=0&&(e.search=g.substr(t),g=g.substr(0,t)),g&&(e.pathname=g)}return e}var $I;function _I(g,e,I){void 0===I&&(I="/");let t=dt(("string"==typeof e?qI(e):e).pathname||"/",I);if(null==t)return null;let n=gt(g);!function(g){g.sort(((g,e)=>g.score!==e.score?e.score-g.score:function(g,e){return g.length===e.length&&g.slice(0,-1).every(((g,I)=>g===e[I]))?g[g.length-1]-e[e.length-1]:0}(g.routesMeta.map((g=>g.childrenIndex)),e.routesMeta.map((g=>g.childrenIndex)))))}(n);let l=null;for(let g=0;null==l&&g<n.length;++g)l=it(n[g],At(t));return l}function gt(g,e,I,t){void 0===e&&(e=[]),void 0===I&&(I=[]),void 0===t&&(t="");let n=(g,n,l)=>{let C={relativePath:void 0===l?g.path||"":l,caseSensitive:!0===g.caseSensitive,childrenIndex:n,route:g};C.relativePath.startsWith("/")&&(TI(C.relativePath.startsWith(t),'Absolute route path "'+C.relativePath+'" nested under path "'+t+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),C.relativePath=C.relativePath.slice(t.length));let o=ut([t,C.relativePath]),a=I.concat(C);g.children&&g.children.length>0&&(TI(!0!==g.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),gt(g.children,e,a,o)),(null!=g.path||g.index)&&e.push({path:o,score:rt(o,g.index),routesMeta:a})};return g.forEach(((g,e)=>{var I;if(""!==g.path&&null!=(I=g.path)&&I.includes("?"))for(let I of et(g.path))n(g,e,I);else n(g,e)})),e}function et(g){let e=g.split("/");if(0===e.length)return[];let[I,...t]=e,n=I.endsWith("?"),l=I.replace(/\?$/,"");if(0===t.length)return n?[l,""]:[l];let C=et(t.join("/")),o=[];return o.push(...C.map((g=>""===g?l:[l,g].join("/")))),n&&o.push(...C),o.map((e=>g.startsWith("/")&&""===e?"/":e))}!function(g){g.data="data",g.deferred="deferred",g.redirect="redirect",g.error="error"}($I||($I={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const It=/^:\w+$/,tt=3,nt=2,lt=1,Ct=10,ot=-2,at=g=>"*"===g;function rt(g,e){let I=g.split("/"),t=I.length;return I.some(at)&&(t+=ot),e&&(t+=nt),I.filter((g=>!at(g))).reduce(((g,e)=>g+(It.test(e)?tt:""===e?lt:Ct)),t)}function it(g,e){let{routesMeta:I}=g,t={},n="/",l=[];for(let g=0;g<I.length;++g){let C=I[g],o=g===I.length-1,a="/"===n?e:e.slice(n.length)||"/",r=ct({path:C.relativePath,caseSensitive:C.caseSensitive,end:o},a);if(!r)return null;Object.assign(t,r.params);let i=C.route;l.push({params:t,pathname:ut([n,r.pathname]),pathnameBase:mt(ut([n,r.pathnameBase])),route:i}),"/"!==r.pathnameBase&&(n=ut([n,r.pathnameBase]))}return l}function ct(g,e){"string"==typeof g&&(g={path:g,caseSensitive:!1,end:!0});let[I,t]=function(g,e,I){void 0===e&&(e=!1),void 0===I&&(I=!0),DI("*"===g||!g.endsWith("*")||g.endsWith("/*"),'Route path "'+g+'" will be treated as if it were "'+g.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+g.replace(/\*$/,"/*")+'".');let t=[],n="^"+g.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((g,e)=>(t.push(e),"/([^\\/]+)")));return g.endsWith("*")?(t.push("*"),n+="*"===g||"/*"===g?"(.*)$":"(?:\\/(.+)|\\/*)$"):I?n+="\\/*$":""!==g&&"/"!==g&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),t]}(g.path,g.caseSensitive,g.end),n=e.match(I);if(!n)return null;let l=n[0],C=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:t.reduce(((g,e,I)=>{if("*"===e){let g=o[I]||"";C=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}return g[e]=function(g,e){try{return decodeURIComponent(g)}catch(I){return DI(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+g+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+I+")."),g}}(o[I]||"",e),g}),{}),pathname:l,pathnameBase:C,pattern:g}}function At(g){try{return decodeURI(g)}catch(e){return DI(!1,'The URL path "'+g+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),g}}function dt(g,e){if("/"===e)return g;if(!g.toLowerCase().startsWith(e.toLowerCase()))return null;let I=e.endsWith("/")?e.length-1:e.length,t=g.charAt(I);return t&&"/"!==t?null:g.slice(I)||"/"}function st(g,e,I,t){return"Cannot include a '"+g+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(t)+"].  Please separate it out to the `to."+I+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}const ut=g=>g.join("/").replace(/\/\/+/g,"/"),mt=g=>g.replace(/\/+$/,"").replace(/^\/*/,"/"),bt=g=>g&&"?"!==g?g.startsWith("?")?g:"?"+g:"",Zt=g=>g&&"#"!==g?g.startsWith("#")?g:"#"+g:"";Error;const pt=["post","put","patch","delete"],Gt=(new Set(pt),["get",...pt]);function ht(){return ht=Object.assign?Object.assign.bind():function(g){for(var e=1;e<arguments.length;e++){var I=arguments[e];for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&(g[t]=I[t])}return g},ht.apply(this,arguments)}new Set(Gt),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const yt=e.createContext(null),Bt=e.createContext(null),St=e.createContext(null),Wt=e.createContext(null),Vt=e.createContext({outlet:null,matches:[],isDataRoute:!1}),Rt=e.createContext(null);function vt(){return null!=e.useContext(Wt)}function ft(){return vt()||TI(!1),e.useContext(Wt).location}function Xt(g){e.useContext(St).static||e.useLayoutEffect(g)}function kt(){let{isDataRoute:g}=e.useContext(Vt);return g?function(){let{router:g}=function(g){let I=e.useContext(yt);return I||TI(!1),I}(Ft.UseNavigateStable),I=xt(Kt.UseNavigateStable),t=e.useRef(!1);return Xt((()=>{t.current=!0})),e.useCallback((function(e,n){void 0===n&&(n={}),t.current&&("number"==typeof e?g.navigate(e):g.navigate(e,ht({fromRouteId:I},n)))}),[g,I])}():function(){vt()||TI(!1);let g=e.useContext(yt),{basename:I,navigator:t}=e.useContext(St),{matches:n}=e.useContext(Vt),{pathname:l}=ft(),C=JSON.stringify(function(g){return g.filter(((g,e)=>0===e||g.route.path&&g.route.path.length>0))}(n).map((g=>g.pathnameBase))),o=e.useRef(!1);return Xt((()=>{o.current=!0})),e.useCallback((function(e,n){if(void 0===n&&(n={}),!o.current)return;if("number"==typeof e)return void t.go(e);let a=function(g,e,I,t){let n;void 0===t&&(t=!1),"string"==typeof g?n=qI(g):(n=UI({},g),TI(!n.pathname||!n.pathname.includes("?"),st("?","pathname","search",n)),TI(!n.pathname||!n.pathname.includes("#"),st("#","pathname","hash",n)),TI(!n.search||!n.search.includes("#"),st("#","search","hash",n)));let l,C=""===g||""===n.pathname,o=C?"/":n.pathname;if(t||null==o)l=I;else{let g=e.length-1;if(o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),g-=1;n.pathname=e.join("/")}l=g>=0?e[g]:"/"}let a=function(g,e){void 0===e&&(e="/");let{pathname:I,search:t="",hash:n=""}="string"==typeof g?qI(g):g,l=I?I.startsWith("/")?I:function(g,e){let I=e.replace(/\/+$/,"").split("/");return g.split("/").forEach((g=>{".."===g?I.length>1&&I.pop():"."!==g&&I.push(g)})),I.length>1?I.join("/"):"/"}(I,e):e;return{pathname:l,search:bt(t),hash:Zt(n)}}(n,l),r=o&&"/"!==o&&o.endsWith("/"),i=(C||"."===o)&&I.endsWith("/");return a.pathname.endsWith("/")||!r&&!i||(a.pathname+="/"),a}(e,JSON.parse(C),l,"path"===n.relative);null==g&&"/"!==I&&(a.pathname="/"===a.pathname?I:ut([I,a.pathname])),(n.replace?t.replace:t.push)(a,n.state,n)}),[I,t,C,l,g])}()}function Jt(g,I,t){vt()||TI(!1);let{navigator:n}=e.useContext(St),{matches:l}=e.useContext(Vt),C=l[l.length-1],o=C?C.params:{},a=(C&&C.pathname,C?C.pathnameBase:"/");C&&C.route;let r,i=ft();if(I){var c;let g="string"==typeof I?qI(I):I;"/"===a||(null==(c=g.pathname)?void 0:c.startsWith(a))||TI(!1),r=g}else r=i;let A=r.pathname||"/",d=_I(g,{pathname:"/"===a?A:A.slice(a.length)||"/"}),s=function(g,I,t){var n;if(void 0===I&&(I=[]),void 0===t&&(t=null),null==g){var l;if(null==(l=t)||!l.errors)return null;g=t.matches}let C=g,o=null==(n=t)?void 0:n.errors;if(null!=o){let g=C.findIndex((g=>g.route.id&&(null==o?void 0:o[g.route.id])));g>=0||TI(!1),C=C.slice(0,Math.min(C.length,g+1))}return C.reduceRight(((g,n,l)=>{let a=n.route.id?null==o?void 0:o[n.route.id]:null,r=null;t&&(r=n.route.errorElement||Ht);let i=I.concat(C.slice(0,l+1)),c=()=>{let I;return I=a?r:n.route.Component?e.createElement(n.route.Component,null):n.route.element?n.route.element:g,e.createElement(Nt,{match:n,routeContext:{outlet:g,matches:i,isDataRoute:null!=t},children:I})};return t&&(n.route.ErrorBoundary||n.route.errorElement||0===l)?e.createElement(wt,{location:t.location,revalidation:t.revalidation,component:r,error:a,children:c(),routeContext:{outlet:null,matches:i,isDataRoute:!0}}):c()}),null)}(d&&d.map((g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:ut([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:"/"===g.pathnameBase?a:ut([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])}))),l,t);return I&&s?e.createElement(Wt.Provider,{value:{location:ht({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:EI.Pop}},s):s}function Yt(){let g=function(){var g;let I=e.useContext(Rt),t=function(g){let I=e.useContext(Bt);return I||TI(!1),I}(Kt.UseRouteError),n=xt(Kt.UseRouteError);return I||(null==(g=t.errors)?void 0:g[n])}(),I=function(g){return null!=g&&"number"==typeof g.status&&"string"==typeof g.statusText&&"boolean"==typeof g.internal&&"data"in g}(g)?g.status+" "+g.statusText:g instanceof Error?g.message:JSON.stringify(g),t=g instanceof Error?g.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},I),t?e.createElement("pre",{style:n},t):null,null)}const Ht=e.createElement(Yt,null);class wt extends e.Component{constructor(g){super(g),this.state={location:g.location,revalidation:g.revalidation,error:g.error}}static getDerivedStateFromError(g){return{error:g}}static getDerivedStateFromProps(g,e){return e.location!==g.location||"idle"!==e.revalidation&&"idle"===g.revalidation?{error:g.error,location:g.location,revalidation:g.revalidation}:{error:g.error||e.error,location:e.location,revalidation:g.revalidation||e.revalidation}}componentDidCatch(g,e){console.error("React Router caught the following error during render",g,e)}render(){return this.state.error?e.createElement(Vt.Provider,{value:this.props.routeContext},e.createElement(Rt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nt(g){let{routeContext:I,match:t,children:n}=g,l=e.useContext(yt);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),e.createElement(Vt.Provider,{value:I},n)}var Ft=function(g){return g.UseBlocker="useBlocker",g.UseRevalidator="useRevalidator",g.UseNavigateStable="useNavigate",g}(Ft||{}),Kt=function(g){return g.UseBlocker="useBlocker",g.UseLoaderData="useLoaderData",g.UseActionData="useActionData",g.UseRouteError="useRouteError",g.UseNavigation="useNavigation",g.UseRouteLoaderData="useRouteLoaderData",g.UseMatches="useMatches",g.UseRevalidator="useRevalidator",g.UseNavigateStable="useNavigate",g.UseRouteId="useRouteId",g}(Kt||{});function xt(g){let I=function(g){let I=e.useContext(Vt);return I||TI(!1),I}(),t=I.matches[I.matches.length-1];return t.route.id||TI(!1),t.route.id}function zt(g){TI(!1)}function Mt(g){let{basename:I="/",children:t=null,location:n,navigationType:l=EI.Pop,navigator:C,static:o=!1}=g;vt()&&TI(!1);let a=I.replace(/^\/*/,"/"),r=e.useMemo((()=>({basename:a,navigator:C,static:o})),[a,C,o]);"string"==typeof n&&(n=qI(n));let{pathname:i="/",search:c="",hash:A="",state:d=null,key:s="default"}=n,u=e.useMemo((()=>{let g=dt(i,a);return null==g?null:{location:{pathname:g,search:c,hash:A,state:d,key:s},navigationType:l}}),[a,i,c,A,d,s,l]);return null==u?null:e.createElement(St.Provider,{value:r},e.createElement(Wt.Provider,{children:t,value:u}))}function Et(g){let{children:e,location:I}=g;return Jt(Lt(e),I)}function Lt(g,I){void 0===I&&(I=[]);let t=[];return e.Children.forEach(g,((g,n)=>{if(!e.isValidElement(g))return;let l=[...I,n];if(g.type===e.Fragment)return void t.push.apply(t,Lt(g.props.children,l));g.type!==zt&&TI(!1),g.props.index&&g.props.children&&TI(!1);let C={id:g.props.id||l.join("-"),caseSensitive:g.props.caseSensitive,element:g.props.element,Component:g.props.Component,index:g.props.index,path:g.props.path,loader:g.props.loader,action:g.props.action,errorElement:g.props.errorElement,ErrorBoundary:g.props.ErrorBoundary,hasErrorBoundary:null!=g.props.ErrorBoundary||null!=g.props.errorElement,shouldRevalidate:g.props.shouldRevalidate,handle:g.props.handle,lazy:g.props.lazy};g.props.children&&(C.children=Lt(g.props.children,l)),t.push(C)})),t}I.startTransition,new Promise((()=>{})),e.Component;const Ut=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Qt(g){return`scale(${g}, ${g**2})`}const Tt={entering:{opacity:1,transform:Qt(1)},entered:{opacity:1,transform:"none"}},Dt="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),jt=e.forwardRef((function(g,I){const{addEndListener:t,appear:n=!0,children:l,easing:C,in:o,onEnter:a,onEntered:i,onEntering:d,onExit:s,onExited:u,onExiting:b,style:Z,timeout:p="auto",TransitionComponent:G=Gg}=g,h=(0,A.Z)(g,Ut),y=e.useRef(),B=e.useRef(),S=r(),W=e.useRef(null),V=(0,Bg.Z)(W,l.ref,I),R=g=>e=>{if(g){const I=W.current;void 0===e?g(I):g(I,e)}},v=R(d),f=R(((g,e)=>{hg(g);const{duration:I,delay:t,easing:n}=yg({style:Z,timeout:p,easing:C},{mode:"enter"});let l;"auto"===p?(l=S.transitions.getAutoHeightDuration(g.clientHeight),B.current=l):l=I,g.style.transition=[S.transitions.create("opacity",{duration:l,delay:t}),S.transitions.create("transform",{duration:Dt?l:.666*l,delay:t,easing:n})].join(","),a&&a(g,e)})),X=R(i),k=R(b),J=R((g=>{const{duration:e,delay:I,easing:t}=yg({style:Z,timeout:p,easing:C},{mode:"exit"});let n;"auto"===p?(n=S.transitions.getAutoHeightDuration(g.clientHeight),B.current=n):n=e,g.style.transition=[S.transitions.create("opacity",{duration:n,delay:I}),S.transitions.create("transform",{duration:Dt?n:.666*n,delay:Dt?I:I||.333*n,easing:t})].join(","),g.style.opacity=0,g.style.transform=Qt(.75),s&&s(g)})),Y=R(u);return e.useEffect((()=>()=>{clearTimeout(y.current)}),[]),(0,m.jsx)(G,(0,c.Z)({appear:n,in:o,nodeRef:W,onEnter:f,onEntered:X,onEntering:v,onExit:J,onExited:Y,onExiting:k,addEndListener:g=>{"auto"===p&&(y.current=setTimeout(g,B.current||0)),t&&t(W.current,g)},timeout:"auto"===p?null:p},h,{children:(g,I)=>e.cloneElement(l,(0,c.Z)({style:(0,c.Z)({opacity:0,transform:Qt(.75),visibility:"exited"!==g||o?void 0:"hidden"},Tt[g],Z,l.props.style),ref:V},I))}))}));jt.muiSupportAuto=!0;var Pt=jt;function Ot(g){if(null==g)return window;if("[object Window]"!==g.toString()){var e=g.ownerDocument;return e&&e.defaultView||window}return g}function qt(g){return g instanceof Ot(g).Element||g instanceof Element}function $t(g){return g instanceof Ot(g).HTMLElement||g instanceof HTMLElement}function _t(g){return"undefined"!=typeof ShadowRoot&&(g instanceof Ot(g).ShadowRoot||g instanceof ShadowRoot)}var gn=Math.max,en=Math.min,In=Math.round;function tn(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map((function(g){return g.brand+"/"+g.version})).join(" "):navigator.userAgent}function nn(){return!/^((?!chrome|android).)*safari/i.test(tn())}function ln(g,e,I){void 0===e&&(e=!1),void 0===I&&(I=!1);var t=g.getBoundingClientRect(),n=1,l=1;e&&$t(g)&&(n=g.offsetWidth>0&&In(t.width)/g.offsetWidth||1,l=g.offsetHeight>0&&In(t.height)/g.offsetHeight||1);var C=(qt(g)?Ot(g):window).visualViewport,o=!nn()&&I,a=(t.left+(o&&C?C.offsetLeft:0))/n,r=(t.top+(o&&C?C.offsetTop:0))/l,i=t.width/n,c=t.height/l;return{width:i,height:c,top:r,right:a+i,bottom:r+c,left:a,x:a,y:r}}function Cn(g){var e=Ot(g);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function on(g){return g?(g.nodeName||"").toLowerCase():null}function an(g){return((qt(g)?g.ownerDocument:g.document)||window.document).documentElement}function rn(g){return ln(an(g)).left+Cn(g).scrollLeft}function cn(g){return Ot(g).getComputedStyle(g)}function An(g){var e=cn(g),I=e.overflow,t=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(I+n+t)}function dn(g,e,I){void 0===I&&(I=!1);var t,n,l=$t(e),C=$t(e)&&function(g){var e=g.getBoundingClientRect(),I=In(e.width)/g.offsetWidth||1,t=In(e.height)/g.offsetHeight||1;return 1!==I||1!==t}(e),o=an(e),a=ln(g,C,I),r={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(l||!l&&!I)&&(("body"!==on(e)||An(o))&&(r=(t=e)!==Ot(t)&&$t(t)?{scrollLeft:(n=t).scrollLeft,scrollTop:n.scrollTop}:Cn(t)),$t(e)?((i=ln(e,!0)).x+=e.clientLeft,i.y+=e.clientTop):o&&(i.x=rn(o))),{x:a.left+r.scrollLeft-i.x,y:a.top+r.scrollTop-i.y,width:a.width,height:a.height}}function sn(g){var e=ln(g),I=g.offsetWidth,t=g.offsetHeight;return Math.abs(e.width-I)<=1&&(I=e.width),Math.abs(e.height-t)<=1&&(t=e.height),{x:g.offsetLeft,y:g.offsetTop,width:I,height:t}}function un(g){return"html"===on(g)?g:g.assignedSlot||g.parentNode||(_t(g)?g.host:null)||an(g)}function mn(g){return["html","body","#document"].indexOf(on(g))>=0?g.ownerDocument.body:$t(g)&&An(g)?g:mn(un(g))}function bn(g,e){var I;void 0===e&&(e=[]);var t=mn(g),n=t===(null==(I=g.ownerDocument)?void 0:I.body),l=Ot(t),C=n?[l].concat(l.visualViewport||[],An(t)?t:[]):t,o=e.concat(C);return n?o:o.concat(bn(un(C)))}function Zn(g){return["table","td","th"].indexOf(on(g))>=0}function pn(g){return $t(g)&&"fixed"!==cn(g).position?g.offsetParent:null}function Gn(g){for(var e=Ot(g),I=pn(g);I&&Zn(I)&&"static"===cn(I).position;)I=pn(I);return I&&("html"===on(I)||"body"===on(I)&&"static"===cn(I).position)?e:I||function(g){var e=/firefox/i.test(tn());if(/Trident/i.test(tn())&&$t(g)&&"fixed"===cn(g).position)return null;var I=un(g);for(_t(I)&&(I=I.host);$t(I)&&["html","body"].indexOf(on(I))<0;){var t=cn(I);if("none"!==t.transform||"none"!==t.perspective||"paint"===t.contain||-1!==["transform","perspective"].indexOf(t.willChange)||e&&"filter"===t.willChange||e&&t.filter&&"none"!==t.filter)return I;I=I.parentNode}return null}(g)||e}var hn="top",yn="bottom",Bn="right",Sn="left",Wn="auto",Vn=[hn,yn,Bn,Sn],Rn="start",vn="end",fn="viewport",Xn="popper",kn=Vn.reduce((function(g,e){return g.concat([e+"-"+Rn,e+"-"+vn])}),[]),Jn=[].concat(Vn,[Wn]).reduce((function(g,e){return g.concat([e,e+"-"+Rn,e+"-"+vn])}),[]),Yn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Hn(g){var e=new Map,I=new Set,t=[];function n(g){I.add(g.name),[].concat(g.requires||[],g.requiresIfExists||[]).forEach((function(g){if(!I.has(g)){var t=e.get(g);t&&n(t)}})),t.push(g)}return g.forEach((function(g){e.set(g.name,g)})),g.forEach((function(g){I.has(g.name)||n(g)})),t}var wn={placement:"bottom",modifiers:[],strategy:"absolute"};function Nn(){for(var g=arguments.length,e=new Array(g),I=0;I<g;I++)e[I]=arguments[I];return!e.some((function(g){return!(g&&"function"==typeof g.getBoundingClientRect)}))}function Fn(g){void 0===g&&(g={});var e=g,I=e.defaultModifiers,t=void 0===I?[]:I,n=e.defaultOptions,l=void 0===n?wn:n;return function(g,e,I){void 0===I&&(I=l);var n,C,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},wn,l),modifiersData:{},elements:{reference:g,popper:e},attributes:{},styles:{}},a=[],r=!1,i={state:o,setOptions:function(I){var n="function"==typeof I?I(o.options):I;c(),o.options=Object.assign({},l,o.options,n),o.scrollParents={reference:qt(g)?bn(g):g.contextElement?bn(g.contextElement):[],popper:bn(e)};var C,r,A=function(g){var e=Hn(g);return Yn.reduce((function(g,I){return g.concat(e.filter((function(g){return g.phase===I})))}),[])}((C=[].concat(t,o.options.modifiers),r=C.reduce((function(g,e){var I=g[e.name];return g[e.name]=I?Object.assign({},I,e,{options:Object.assign({},I.options,e.options),data:Object.assign({},I.data,e.data)}):e,g}),{}),Object.keys(r).map((function(g){return r[g]}))));return o.orderedModifiers=A.filter((function(g){return g.enabled})),o.orderedModifiers.forEach((function(g){var e=g.name,I=g.options,t=void 0===I?{}:I,n=g.effect;if("function"==typeof n){var l=n({state:o,name:e,instance:i,options:t});a.push(l||function(){})}})),i.update()},forceUpdate:function(){if(!r){var g=o.elements,e=g.reference,I=g.popper;if(Nn(e,I)){o.rects={reference:dn(e,Gn(I),"fixed"===o.options.strategy),popper:sn(I)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(g){return o.modifiersData[g.name]=Object.assign({},g.data)}));for(var t=0;t<o.orderedModifiers.length;t++)if(!0!==o.reset){var n=o.orderedModifiers[t],l=n.fn,C=n.options,a=void 0===C?{}:C,c=n.name;"function"==typeof l&&(o=l({state:o,options:a,name:c,instance:i})||o)}else o.reset=!1,t=-1}}},update:(n=function(){return new Promise((function(g){i.forceUpdate(),g(o)}))},function(){return C||(C=new Promise((function(g){Promise.resolve().then((function(){C=void 0,g(n())}))}))),C}),destroy:function(){c(),r=!0}};if(!Nn(g,e))return i;function c(){a.forEach((function(g){return g()})),a=[]}return i.setOptions(I).then((function(g){!r&&I.onFirstUpdate&&I.onFirstUpdate(g)})),i}}var Kn={passive:!0};function xn(g){return g.split("-")[0]}function zn(g){return g.split("-")[1]}function Mn(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function En(g){var e,I=g.reference,t=g.element,n=g.placement,l=n?xn(n):null,C=n?zn(n):null,o=I.x+I.width/2-t.width/2,a=I.y+I.height/2-t.height/2;switch(l){case hn:e={x:o,y:I.y-t.height};break;case yn:e={x:o,y:I.y+I.height};break;case Bn:e={x:I.x+I.width,y:a};break;case Sn:e={x:I.x-t.width,y:a};break;default:e={x:I.x,y:I.y}}var r=l?Mn(l):null;if(null!=r){var i="y"===r?"height":"width";switch(C){case Rn:e[r]=e[r]-(I[i]/2-t[i]/2);break;case vn:e[r]=e[r]+(I[i]/2-t[i]/2)}}return e}var Ln={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Un(g){var e,I=g.popper,t=g.popperRect,n=g.placement,l=g.variation,C=g.offsets,o=g.position,a=g.gpuAcceleration,r=g.adaptive,i=g.roundOffsets,c=g.isFixed,A=C.x,d=void 0===A?0:A,s=C.y,u=void 0===s?0:s,m="function"==typeof i?i({x:d,y:u}):{x:d,y:u};d=m.x,u=m.y;var b=C.hasOwnProperty("x"),Z=C.hasOwnProperty("y"),p=Sn,G=hn,h=window;if(r){var y=Gn(I),B="clientHeight",S="clientWidth";y===Ot(I)&&"static"!==cn(y=an(I)).position&&"absolute"===o&&(B="scrollHeight",S="scrollWidth"),(n===hn||(n===Sn||n===Bn)&&l===vn)&&(G=yn,u-=(c&&y===h&&h.visualViewport?h.visualViewport.height:y[B])-t.height,u*=a?1:-1),n!==Sn&&(n!==hn&&n!==yn||l!==vn)||(p=Bn,d-=(c&&y===h&&h.visualViewport?h.visualViewport.width:y[S])-t.width,d*=a?1:-1)}var W,V=Object.assign({position:o},r&&Ln),R=!0===i?function(g,e){var I=g.x,t=g.y,n=e.devicePixelRatio||1;return{x:In(I*n)/n||0,y:In(t*n)/n||0}}({x:d,y:u},Ot(I)):{x:d,y:u};return d=R.x,u=R.y,a?Object.assign({},V,((W={})[G]=Z?"0":"",W[p]=b?"0":"",W.transform=(h.devicePixelRatio||1)<=1?"translate("+d+"px, "+u+"px)":"translate3d("+d+"px, "+u+"px, 0)",W)):Object.assign({},V,((e={})[G]=Z?u+"px":"",e[p]=b?d+"px":"",e.transform="",e))}var Qn={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var e=g.state;Object.keys(e.elements).forEach((function(g){var I=e.styles[g]||{},t=e.attributes[g]||{},n=e.elements[g];$t(n)&&on(n)&&(Object.assign(n.style,I),Object.keys(t).forEach((function(g){var e=t[g];!1===e?n.removeAttribute(g):n.setAttribute(g,!0===e?"":e)})))}))},effect:function(g){var e=g.state,I={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,I.popper),e.styles=I,e.elements.arrow&&Object.assign(e.elements.arrow.style,I.arrow),function(){Object.keys(e.elements).forEach((function(g){var t=e.elements[g],n=e.attributes[g]||{},l=Object.keys(e.styles.hasOwnProperty(g)?e.styles[g]:I[g]).reduce((function(g,e){return g[e]="",g}),{});$t(t)&&on(t)&&(Object.assign(t.style,l),Object.keys(n).forEach((function(g){t.removeAttribute(g)})))}))}},requires:["computeStyles"]},Tn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(g){var e=g.state,I=g.options,t=g.name,n=I.offset,l=void 0===n?[0,0]:n,C=Jn.reduce((function(g,I){return g[I]=function(g,e,I){var t=xn(g),n=[Sn,hn].indexOf(t)>=0?-1:1,l="function"==typeof I?I(Object.assign({},e,{placement:g})):I,C=l[0],o=l[1];return C=C||0,o=(o||0)*n,[Sn,Bn].indexOf(t)>=0?{x:o,y:C}:{x:C,y:o}}(I,e.rects,l),g}),{}),o=C[e.placement],a=o.x,r=o.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=r),e.modifiersData[t]=C}},Dn={left:"right",right:"left",bottom:"top",top:"bottom"};function jn(g){return g.replace(/left|right|bottom|top/g,(function(g){return Dn[g]}))}var Pn={start:"end",end:"start"};function On(g){return g.replace(/start|end/g,(function(g){return Pn[g]}))}function qn(g,e){var I=e.getRootNode&&e.getRootNode();if(g.contains(e))return!0;if(I&&_t(I)){var t=e;do{if(t&&g.isSameNode(t))return!0;t=t.parentNode||t.host}while(t)}return!1}function $n(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function _n(g,e,I){return e===fn?$n(function(g,e){var I=Ot(g),t=an(g),n=I.visualViewport,l=t.clientWidth,C=t.clientHeight,o=0,a=0;if(n){l=n.width,C=n.height;var r=nn();(r||!r&&"fixed"===e)&&(o=n.offsetLeft,a=n.offsetTop)}return{width:l,height:C,x:o+rn(g),y:a}}(g,I)):qt(e)?function(g,e){var I=ln(g,!1,"fixed"===e);return I.top=I.top+g.clientTop,I.left=I.left+g.clientLeft,I.bottom=I.top+g.clientHeight,I.right=I.left+g.clientWidth,I.width=g.clientWidth,I.height=g.clientHeight,I.x=I.left,I.y=I.top,I}(e,I):$n(function(g){var e,I=an(g),t=Cn(g),n=null==(e=g.ownerDocument)?void 0:e.body,l=gn(I.scrollWidth,I.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),C=gn(I.scrollHeight,I.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-t.scrollLeft+rn(g),a=-t.scrollTop;return"rtl"===cn(n||I).direction&&(o+=gn(I.clientWidth,n?n.clientWidth:0)-l),{width:l,height:C,x:o,y:a}}(an(g)))}function gl(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function el(g,e){return e.reduce((function(e,I){return e[I]=g,e}),{})}function Il(g,e){void 0===e&&(e={});var I=e,t=I.placement,n=void 0===t?g.placement:t,l=I.strategy,C=void 0===l?g.strategy:l,o=I.boundary,a=void 0===o?"clippingParents":o,r=I.rootBoundary,i=void 0===r?fn:r,c=I.elementContext,A=void 0===c?Xn:c,d=I.altBoundary,s=void 0!==d&&d,u=I.padding,m=void 0===u?0:u,b=gl("number"!=typeof m?m:el(m,Vn)),Z=A===Xn?"reference":Xn,p=g.rects.popper,G=g.elements[s?Z:A],h=function(g,e,I,t){var n="clippingParents"===e?function(g){var e=bn(un(g)),I=["absolute","fixed"].indexOf(cn(g).position)>=0&&$t(g)?Gn(g):g;return qt(I)?e.filter((function(g){return qt(g)&&qn(g,I)&&"body"!==on(g)})):[]}(g):[].concat(e),l=[].concat(n,[I]),C=l[0],o=l.reduce((function(e,I){var n=_n(g,I,t);return e.top=gn(n.top,e.top),e.right=en(n.right,e.right),e.bottom=en(n.bottom,e.bottom),e.left=gn(n.left,e.left),e}),_n(g,C,t));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(qt(G)?G:G.contextElement||an(g.elements.popper),a,i,C),y=ln(g.elements.reference),B=En({reference:y,element:p,strategy:"absolute",placement:n}),S=$n(Object.assign({},p,B)),W=A===Xn?S:y,V={top:h.top-W.top+b.top,bottom:W.bottom-h.bottom+b.bottom,left:h.left-W.left+b.left,right:W.right-h.right+b.right},R=g.modifiersData.offset;if(A===Xn&&R){var v=R[n];Object.keys(V).forEach((function(g){var e=[Bn,yn].indexOf(g)>=0?1:-1,I=[hn,yn].indexOf(g)>=0?"y":"x";V[g]+=v[I]*e}))}return V}var tl={name:"flip",enabled:!0,phase:"main",fn:function(g){var e=g.state,I=g.options,t=g.name;if(!e.modifiersData[t]._skip){for(var n=I.mainAxis,l=void 0===n||n,C=I.altAxis,o=void 0===C||C,a=I.fallbackPlacements,r=I.padding,i=I.boundary,c=I.rootBoundary,A=I.altBoundary,d=I.flipVariations,s=void 0===d||d,u=I.allowedAutoPlacements,m=e.options.placement,b=xn(m),Z=a||(b!==m&&s?function(g){if(xn(g)===Wn)return[];var e=jn(g);return[On(g),e,On(e)]}(m):[jn(m)]),p=[m].concat(Z).reduce((function(g,I){return g.concat(xn(I)===Wn?function(g,e){void 0===e&&(e={});var I=e,t=I.placement,n=I.boundary,l=I.rootBoundary,C=I.padding,o=I.flipVariations,a=I.allowedAutoPlacements,r=void 0===a?Jn:a,i=zn(t),c=i?o?kn:kn.filter((function(g){return zn(g)===i})):Vn,A=c.filter((function(g){return r.indexOf(g)>=0}));0===A.length&&(A=c);var d=A.reduce((function(e,I){return e[I]=Il(g,{placement:I,boundary:n,rootBoundary:l,padding:C})[xn(I)],e}),{});return Object.keys(d).sort((function(g,e){return d[g]-d[e]}))}(e,{placement:I,boundary:i,rootBoundary:c,padding:r,flipVariations:s,allowedAutoPlacements:u}):I)}),[]),G=e.rects.reference,h=e.rects.popper,y=new Map,B=!0,S=p[0],W=0;W<p.length;W++){var V=p[W],R=xn(V),v=zn(V)===Rn,f=[hn,yn].indexOf(R)>=0,X=f?"width":"height",k=Il(e,{placement:V,boundary:i,rootBoundary:c,altBoundary:A,padding:r}),J=f?v?Bn:Sn:v?yn:hn;G[X]>h[X]&&(J=jn(J));var Y=jn(J),H=[];if(l&&H.push(k[R]<=0),o&&H.push(k[J]<=0,k[Y]<=0),H.every((function(g){return g}))){S=V,B=!1;break}y.set(V,H)}if(B)for(var w=function(g){var e=p.find((function(e){var I=y.get(e);if(I)return I.slice(0,g).every((function(g){return g}))}));if(e)return S=e,"break"},N=s?3:1;N>0&&"break"!==w(N);N--);e.placement!==S&&(e.modifiersData[t]._skip=!0,e.placement=S,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function nl(g,e,I){return gn(g,en(e,I))}var ll={name:"preventOverflow",enabled:!0,phase:"main",fn:function(g){var e=g.state,I=g.options,t=g.name,n=I.mainAxis,l=void 0===n||n,C=I.altAxis,o=void 0!==C&&C,a=I.boundary,r=I.rootBoundary,i=I.altBoundary,c=I.padding,A=I.tether,d=void 0===A||A,s=I.tetherOffset,u=void 0===s?0:s,m=Il(e,{boundary:a,rootBoundary:r,padding:c,altBoundary:i}),b=xn(e.placement),Z=zn(e.placement),p=!Z,G=Mn(b),h="x"===G?"y":"x",y=e.modifiersData.popperOffsets,B=e.rects.reference,S=e.rects.popper,W="function"==typeof u?u(Object.assign({},e.rects,{placement:e.placement})):u,V="number"==typeof W?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,v={x:0,y:0};if(y){if(l){var f,X="y"===G?hn:Sn,k="y"===G?yn:Bn,J="y"===G?"height":"width",Y=y[G],H=Y+m[X],w=Y-m[k],N=d?-S[J]/2:0,F=Z===Rn?B[J]:S[J],K=Z===Rn?-S[J]:-B[J],x=e.elements.arrow,z=d&&x?sn(x):{width:0,height:0},M=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},E=M[X],L=M[k],U=nl(0,B[J],z[J]),Q=p?B[J]/2-N-U-E-V.mainAxis:F-U-E-V.mainAxis,T=p?-B[J]/2+N+U+L+V.mainAxis:K+U+L+V.mainAxis,D=e.elements.arrow&&Gn(e.elements.arrow),j=D?"y"===G?D.clientTop||0:D.clientLeft||0:0,P=null!=(f=null==R?void 0:R[G])?f:0,O=Y+T-P,q=nl(d?en(H,Y+Q-P-j):H,Y,d?gn(w,O):w);y[G]=q,v[G]=q-Y}if(o){var $,_="x"===G?hn:Sn,gg="x"===G?yn:Bn,eg=y[h],Ig="y"===h?"height":"width",tg=eg+m[_],ng=eg-m[gg],lg=-1!==[hn,Sn].indexOf(b),Cg=null!=($=null==R?void 0:R[h])?$:0,og=lg?tg:eg-B[Ig]-S[Ig]-Cg+V.altAxis,ag=lg?eg+B[Ig]+S[Ig]-Cg-V.altAxis:ng,rg=d&&lg?function(g,e,I){var t=nl(g,e,I);return t>I?I:t}(og,eg,ag):nl(d?og:tg,eg,d?ag:ng);y[h]=rg,v[h]=rg-eg}e.modifiersData[t]=v}},requiresIfExists:["offset"]};function Cl(g,e,I){return void 0===I&&(I={x:0,y:0}),{top:g.top-e.height-I.y,right:g.right-e.width+I.x,bottom:g.bottom-e.height+I.y,left:g.left-e.width-I.x}}function ol(g){return[hn,Bn,yn,Sn].some((function(e){return g[e]>=0}))}var al=Fn({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var e=g.state,I=g.instance,t=g.options,n=t.scroll,l=void 0===n||n,C=t.resize,o=void 0===C||C,a=Ot(e.elements.popper),r=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&r.forEach((function(g){g.addEventListener("scroll",I.update,Kn)})),o&&a.addEventListener("resize",I.update,Kn),function(){l&&r.forEach((function(g){g.removeEventListener("scroll",I.update,Kn)})),o&&a.removeEventListener("resize",I.update,Kn)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(g){var e=g.state,I=g.name;e.modifiersData[I]=En({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(g){var e=g.state,I=g.options,t=I.gpuAcceleration,n=void 0===t||t,l=I.adaptive,C=void 0===l||l,o=I.roundOffsets,a=void 0===o||o,r={placement:xn(e.placement),variation:zn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Un(Object.assign({},r,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:C,roundOffsets:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Un(Object.assign({},r,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Qn,Tn,tl,ll,{name:"arrow",enabled:!0,phase:"main",fn:function(g){var e,I=g.state,t=g.name,n=g.options,l=I.elements.arrow,C=I.modifiersData.popperOffsets,o=xn(I.placement),a=Mn(o),r=[Sn,Bn].indexOf(o)>=0?"height":"width";if(l&&C){var i=function(g,e){return gl("number"!=typeof(g="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g)?g:el(g,Vn))}(n.padding,I),c=sn(l),A="y"===a?hn:Sn,d="y"===a?yn:Bn,s=I.rects.reference[r]+I.rects.reference[a]-C[a]-I.rects.popper[r],u=C[a]-I.rects.reference[a],m=Gn(l),b=m?"y"===a?m.clientHeight||0:m.clientWidth||0:0,Z=s/2-u/2,p=i[A],G=b-c[r]-i[d],h=b/2-c[r]/2+Z,y=nl(p,h,G),B=a;I.modifiersData[t]=((e={})[B]=y,e.centerOffset=y-h,e)}},effect:function(g){var e=g.state,I=g.options.element,t=void 0===I?"[data-popper-arrow]":I;null!=t&&("string"!=typeof t||(t=e.elements.popper.querySelector(t)))&&qn(e.elements.popper,t)&&(e.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(g){var e=g.state,I=g.name,t=e.rects.reference,n=e.rects.popper,l=e.modifiersData.preventOverflow,C=Il(e,{elementContext:"reference"}),o=Il(e,{altBoundary:!0}),a=Cl(C,t),r=Cl(o,n,l),i=ol(a),c=ol(r);e.modifiersData[I]={referenceClippingOffsets:a,popperEscapeOffsets:r,isReferenceHidden:i,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":i,"data-popper-escaped":c})}}]});function rl(g){return(0,fg.Z)("MuiPopper",g)}(0,vg.Z)("MuiPopper",["root"]);const il={disableDefaultClasses:!1},cl=e.createContext(il),Al=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],dl=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function sl(g){return"function"==typeof g?g():g}const ul={},ml=e.forwardRef((function(g,I){var t;const{anchorEl:n,children:l,direction:C,disablePortal:o,modifiers:a,open:r,placement:i,popperOptions:d,popperRef:s,slotProps:u={},slots:b={},TransitionProps:Z}=g,p=(0,A.Z)(g,Al),G=e.useRef(null),h=(0,K.Z)(G,I),y=e.useRef(null),B=(0,K.Z)(y,s),S=e.useRef(B);(0,Cg.Z)((()=>{S.current=B}),[B]),e.useImperativeHandle(s,(()=>y.current),[]);const W=function(g,e){if("ltr"===e)return g;switch(g){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return g}}(i,C),[V,R]=e.useState(W),[v,f]=e.useState(sl(n));e.useEffect((()=>{y.current&&y.current.forceUpdate()})),e.useEffect((()=>{n&&f(sl(n))}),[n]),(0,Cg.Z)((()=>{if(!v||!r)return;let g=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:g})=>{R(g.placement)}}];null!=a&&(g=g.concat(a)),d&&null!=d.modifiers&&(g=g.concat(d.modifiers));const e=al(v,G.current,(0,c.Z)({placement:W},d,{modifiers:g}));return S.current(e),()=>{e.destroy(),S.current(null)}}),[v,o,a,r,d,W]);const X={placement:V};null!==Z&&(X.TransitionProps=Z);const k=(0,F.Z)({root:["root"]},function(g){const{disableDefaultClasses:I}=e.useContext(cl);return e=>I?"":g(e)}(rl)),J=null!=(t=b.root)?t:"div",Y=U({elementType:J,externalSlotProps:u.root,externalForwardedProps:p,additionalProps:{role:"tooltip",ref:h},ownerState:g,className:k.root});return(0,m.jsx)(J,(0,c.Z)({},Y,{children:"function"==typeof l?l(X):l}))})),bl=e.forwardRef((function(g,I){const{anchorEl:t,children:n,container:l,direction:C="ltr",disablePortal:o=!1,keepMounted:a=!1,modifiers:r,open:i,placement:d="bottom",popperOptions:s=ul,popperRef:u,style:b,transition:Z=!1,slotProps:p={},slots:G={}}=g,h=(0,A.Z)(g,dl),[y,B]=e.useState(!0);if(!a&&!i&&(!Z||y))return null;let S;if(l)S=l;else if(t){const g=sl(t);S=g&&void 0!==g.nodeType?(0,Q.Z)(g).body:(0,Q.Z)(null).body}const W=i||!a||Z&&!y?void 0:"none",V=Z?{in:i,onEnter:()=>{B(!1)},onExited:()=>{B(!0)}}:void 0;return(0,m.jsx)(ag,{disablePortal:o,container:S,children:(0,m.jsx)(ml,(0,c.Z)({anchorEl:t,direction:C,disablePortal:o,modifiers:r,ref:I,open:Z?!y:i,placement:d,popperOptions:s,popperRef:u,slotProps:p,slots:G},h,{style:(0,c.Z)({position:"fixed",top:0,left:0,display:W},b),TransitionProps:V,children:n}))})})),Zl=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],pl=(0,l.ZP)(bl,{name:"MuiPopper",slot:"Root",overridesResolver:(g,e)=>e.root})({});var Gl=e.forwardRef((function(g,e){var I;const t=(0,p.Z)(),n=(0,rg.Z)({props:g,name:"MuiPopper"}),{anchorEl:l,component:C,components:o,componentsProps:a,container:r,disablePortal:i,keepMounted:d,modifiers:s,open:u,placement:b,popperOptions:Z,popperRef:G,transition:h,slots:y,slotProps:B}=n,S=(0,A.Z)(n,Zl),W=null!=(I=null==y?void 0:y.root)?I:null==o?void 0:o.Root,V=(0,c.Z)({anchorEl:l,container:r,disablePortal:i,keepMounted:d,modifiers:s,open:u,placement:b,popperOptions:Z,popperRef:G,transition:h},S);return(0,m.jsx)(pl,(0,c.Z)({as:C,direction:null==t?void 0:t.direction,slots:{root:W},slotProps:null!=B?B:a},V,{ref:e}))})),hl=n(7909),yl=n(9299);function Bl(g){return(0,fg.Z)("MuiTooltip",g)}var Sl=(0,vg.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);const Wl=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"],Vl=(0,l.ZP)(Gl,{name:"MuiTooltip",slot:"Popper",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.popper,!I.disableInteractive&&e.popperInteractive,I.arrow&&e.popperArrow,!I.open&&e.popperClose]}})((({theme:g,ownerState:e,open:I})=>(0,c.Z)({zIndex:(g.vars||g).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!I&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Sl.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Sl.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Sl.arrow}`]:(0,c.Z)({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Sl.arrow}`]:(0,c.Z)({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})}))),Rl=(0,l.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.tooltip,I.touch&&e.touch,I.arrow&&e.tooltipArrow,e[`tooltipPlacement${(0,$g.Z)(I.placement.split("-")[0])}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({backgroundColor:g.vars?g.vars.palette.Tooltip.bg:(0,Tg.Fq)(g.palette.grey[700],.92),borderRadius:(g.vars||g).shape.borderRadius,color:(g.vars||g).palette.common.white,fontFamily:g.typography.fontFamily,padding:"4px 8px",fontSize:g.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:g.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:g.typography.pxToRem(14),lineHeight:(16/14,Math.round(114285.71428571428)/1e5+"em"),fontWeight:g.typography.fontWeightRegular},{[`.${Sl.popper}[data-popper-placement*="left"] &`]:(0,c.Z)({transformOrigin:"right center"},e.isRtl?(0,c.Z)({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):(0,c.Z)({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Sl.popper}[data-popper-placement*="right"] &`]:(0,c.Z)({transformOrigin:"left center"},e.isRtl?(0,c.Z)({marginRight:"14px"},e.touch&&{marginRight:"24px"}):(0,c.Z)({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Sl.popper}[data-popper-placement*="top"] &`]:(0,c.Z)({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Sl.popper}[data-popper-placement*="bottom"] &`]:(0,c.Z)({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})}))),vl=(0,l.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(g,e)=>e.arrow})((({theme:g})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:g.vars?g.vars.palette.Tooltip.bg:(0,Tg.Fq)(g.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let fl=!1,Xl=null,kl={x:0,y:0};function Jl(g,e){return I=>{e&&e(I),g(I)}}var Yl=e.forwardRef((function(g,I){var t,n,l,C,o,a,i,d,s,u,b,Z,p,G,h,y,B,S,V;const R=(0,rg.Z)({props:g,name:"MuiTooltip"}),{arrow:v=!1,children:f,components:X={},componentsProps:k={},describeChild:J=!1,disableFocusListener:Y=!1,disableHoverListener:H=!1,disableInteractive:w=!1,disableTouchListener:N=!1,enterDelay:K=100,enterNextDelay:x=0,enterTouchDelay:M=700,followCursor:E=!1,id:L,leaveDelay:U=0,leaveTouchDelay:Q=1500,onClose:T,onOpen:D,open:j,placement:P="bottom",PopperComponent:O,PopperProps:q={},slotProps:$={},slots:_={},title:gg,TransitionComponent:eg=Pt,TransitionProps:Ig}=R,tg=(0,A.Z)(R,Wl),ng=e.isValidElement(f)?f:(0,m.jsx)("span",{children:f}),lg=r(),Cg="rtl"===lg.direction,[og,ag]=e.useState(),[ig,cg]=e.useState(null),Ag=e.useRef(!1),dg=w||E,sg=e.useRef(),ug=e.useRef(),mg=e.useRef(),bg=e.useRef(),[Zg,pg]=(0,yl.Z)({controlled:j,default:!1,name:"Tooltip",state:"open"});let Gg=Zg;const hg=(0,hl.Z)(L),yg=e.useRef(),Sg=e.useCallback((()=>{void 0!==yg.current&&(document.body.style.WebkitUserSelect=yg.current,yg.current=void 0),clearTimeout(bg.current)}),[]);e.useEffect((()=>()=>{clearTimeout(sg.current),clearTimeout(ug.current),clearTimeout(mg.current),Sg()}),[Sg]);const Wg=g=>{clearTimeout(Xl),fl=!0,pg(!0),D&&!Gg&&D(g)},Vg=(0,Ne.Z)((g=>{clearTimeout(Xl),Xl=setTimeout((()=>{fl=!1}),800+U),pg(!1),T&&Gg&&T(g),clearTimeout(sg.current),sg.current=setTimeout((()=>{Ag.current=!1}),lg.transitions.duration.shortest)})),Rg=g=>{Ag.current&&"touchstart"!==g.type||(og&&og.removeAttribute("title"),clearTimeout(ug.current),clearTimeout(mg.current),K||fl&&x?ug.current=setTimeout((()=>{Wg(g)}),fl?x:K):Wg(g))},vg=g=>{clearTimeout(ug.current),clearTimeout(mg.current),mg.current=setTimeout((()=>{Vg(g)}),U)},{isFocusVisibleRef:fg,onBlur:Xg,onFocus:kg,ref:Jg}=(0,Fe.Z)(),[,Yg]=e.useState(!1),Hg=g=>{Xg(g),!1===fg.current&&(Yg(!1),vg(g))},wg=g=>{og||ag(g.currentTarget),kg(g),!0===fg.current&&(Yg(!0),Rg(g))},Ng=g=>{Ag.current=!0;const e=ng.props;e.onTouchStart&&e.onTouchStart(g)},Fg=Rg,Kg=vg;e.useEffect((()=>{if(Gg)return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)};function g(g){"Escape"!==g.key&&"Esc"!==g.key||Vg(g)}}),[Vg,Gg]);const xg=(0,Bg.Z)(ng.ref,Jg,ag,I);gg||0===gg||(Gg=!1);const zg=e.useRef(),Mg={},Eg="string"==typeof gg;J?(Mg.title=Gg||!Eg||H?null:gg,Mg["aria-describedby"]=Gg?hg:null):(Mg["aria-label"]=Eg?gg:null,Mg["aria-labelledby"]=Gg&&!Eg?hg:null);const Lg=(0,c.Z)({},Mg,tg,ng.props,{className:(0,W.Z)(tg.className,ng.props.className),onTouchStart:Ng,ref:xg},E?{onMouseMove:g=>{const e=ng.props;e.onMouseMove&&e.onMouseMove(g),kl={x:g.clientX,y:g.clientY},zg.current&&zg.current.update()}}:{}),Ug={};N||(Lg.onTouchStart=g=>{Ng(g),clearTimeout(mg.current),clearTimeout(sg.current),Sg(),yg.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",bg.current=setTimeout((()=>{document.body.style.WebkitUserSelect=yg.current,Rg(g)}),M)},Lg.onTouchEnd=g=>{ng.props.onTouchEnd&&ng.props.onTouchEnd(g),Sg(),clearTimeout(mg.current),mg.current=setTimeout((()=>{Vg(g)}),Q)}),H||(Lg.onMouseOver=Jl(Fg,Lg.onMouseOver),Lg.onMouseLeave=Jl(Kg,Lg.onMouseLeave),dg||(Ug.onMouseOver=Fg,Ug.onMouseLeave=Kg)),Y||(Lg.onFocus=Jl(wg,Lg.onFocus),Lg.onBlur=Jl(Hg,Lg.onBlur),dg||(Ug.onFocus=wg,Ug.onBlur=Hg));const Qg=e.useMemo((()=>{var g;let e=[{name:"arrow",enabled:Boolean(ig),options:{element:ig,padding:4}}];return null!=(g=q.popperOptions)&&g.modifiers&&(e=e.concat(q.popperOptions.modifiers)),(0,c.Z)({},q.popperOptions,{modifiers:e})}),[ig,q]),Tg=(0,c.Z)({},R,{isRtl:Cg,arrow:v,disableInteractive:dg,placement:P,PopperComponentProp:O,touch:Ag.current}),Dg=(g=>{const{classes:e,disableInteractive:I,arrow:t,touch:n,placement:l}=g,C={popper:["popper",!I&&"popperInteractive",t&&"popperArrow"],tooltip:["tooltip",t&&"tooltipArrow",n&&"touch",`tooltipPlacement${(0,$g.Z)(l.split("-")[0])}`],arrow:["arrow"]};return(0,F.Z)(C,Bl,e)})(Tg),jg=null!=(t=null!=(n=_.popper)?n:X.Popper)?t:Vl,Pg=null!=(l=null!=(C=null!=(o=_.transition)?o:X.Transition)?C:eg)?l:Pt,Og=null!=(a=null!=(i=_.tooltip)?i:X.Tooltip)?a:Rl,qg=null!=(d=null!=(s=_.arrow)?s:X.Arrow)?d:vl,_g=z(jg,(0,c.Z)({},q,null!=(u=$.popper)?u:k.popper,{className:(0,W.Z)(Dg.popper,null==q?void 0:q.className,null==(b=null!=(Z=$.popper)?Z:k.popper)?void 0:b.className)}),Tg),ge=z(Pg,(0,c.Z)({},Ig,null!=(p=$.transition)?p:k.transition),Tg),ee=z(Og,(0,c.Z)({},null!=(G=$.tooltip)?G:k.tooltip,{className:(0,W.Z)(Dg.tooltip,null==(h=null!=(y=$.tooltip)?y:k.tooltip)?void 0:h.className)}),Tg),Ie=z(qg,(0,c.Z)({},null!=(B=$.arrow)?B:k.arrow,{className:(0,W.Z)(Dg.arrow,null==(S=null!=(V=$.arrow)?V:k.arrow)?void 0:S.className)}),Tg);return(0,m.jsxs)(e.Fragment,{children:[e.cloneElement(ng,Lg),(0,m.jsx)(jg,(0,c.Z)({as:null!=O?O:Gl,placement:P,anchorEl:E?{getBoundingClientRect:()=>({top:kl.y,left:kl.x,right:kl.x,bottom:kl.y,width:0,height:0})}:og,popperRef:zg,open:!!og&&Gg,id:hg,transition:!0},Ug,_g,{popperOptions:Qg,children:({TransitionProps:g})=>(0,m.jsx)(Pg,(0,c.Z)({timeout:lg.transitions.duration.shorter},g,ge,{children:(0,m.jsxs)(Og,(0,c.Z)({},ee,{children:[gg,v?(0,m.jsx)(qg,(0,c.Z)({},Ie,{ref:cg})):null]}))}))}))]})}));const Hl=(0,l.ZP)((({className:g,...e})=>(0,m.jsx)(Yl,{...e,classes:{popper:g}})))((({theme:g})=>({[`& .${Sl.tooltip}`]:{backgroundColor:g.palette.background.paper,color:g.palette.text.primary,boxShadow:g.shadows[1],fontSize:11,textAlign:"justify"}})));function wl(g,e){return g.orden<e.orden?-1:g.orden>e.orden?1:0}function Nl({items:g}){let I=kt();const[t,n]=(0,e.useState)(JSON.parse(localStorage.getItem("LateralMenuIndex")));return(0,m.jsx)(N,{sx:{marginLeft:-1},children:(0,m.jsx)(LI,{component:"nav","aria-label":"lateral menu",children:g.sort(wl).map((g=>(0,m.jsxs)(N,{children:[(0,m.jsx)(Hl,{title:g.descripcion,placement:"right-start",arrow:!0,children:(0,m.jsxs)(yI,{selected:t===g.id,onClick:e=>{return t=g.id,l=g.url,n(t),localStorage.setItem("LateralMenuIndex",JSON.stringify(t)),void I("/"+l,{replace:!0});var t,l},children:[(0,m.jsx)(RI,{sx:{paddingLeft:.5},children:(0,m.jsx)("img",{src:g.image,width:30})}),(0,m.jsx)(KI,{primary:g.nombre})]},g.id)}),(0,m.jsx)(we,{variant:"middle"})]},g.id)))})})}var Fl=n(6067);function Kl(g){return(0,fg.Z)("MuiCollapse",g)}(0,vg.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const xl=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],zl=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[I.orientation],"entered"===I.state&&e.entered,"exited"===I.state&&!I.in&&"0px"===I.collapsedSize&&e.hidden]}})((({theme:g,ownerState:e})=>(0,c.Z)({height:0,overflow:"hidden",transition:g.transitions.create("height")},"horizontal"===e.orientation&&{height:"auto",width:0,transition:g.transitions.create("width")},"entered"===e.state&&(0,c.Z)({height:"auto",overflow:"visible"},"horizontal"===e.orientation&&{width:"auto"}),"exited"===e.state&&!e.in&&"0px"===e.collapsedSize&&{visibility:"hidden"}))),Ml=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(g,e)=>e.wrapper})((({ownerState:g})=>(0,c.Z)({display:"flex",width:"100%"},"horizontal"===g.orientation&&{width:"auto",height:"100%"}))),El=(0,l.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(g,e)=>e.wrapperInner})((({ownerState:g})=>(0,c.Z)({width:"100%"},"horizontal"===g.orientation&&{width:"auto",height:"100%"}))),Ll=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiCollapse"}),{addEndListener:n,children:l,className:C,collapsedSize:o="0px",component:a,easing:i,in:d,onEnter:s,onEntered:u,onEntering:b,onExit:Z,onExited:p,onExiting:G,orientation:h="vertical",style:y,timeout:B=Fl.x9.standard,TransitionComponent:S=Gg}=t,V=(0,A.Z)(t,xl),R=(0,c.Z)({},t,{orientation:h,collapsedSize:o}),v=(g=>{const{orientation:e,classes:I}=g,t={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return(0,F.Z)(t,Kl,I)})(R),f=r(),X=e.useRef(),k=e.useRef(null),J=e.useRef(),Y="number"==typeof o?`${o}px`:o,H="horizontal"===h,w=H?"width":"height";e.useEffect((()=>()=>{clearTimeout(X.current)}),[]);const N=e.useRef(null),K=(0,Bg.Z)(I,N),x=g=>e=>{if(g){const I=N.current;void 0===e?g(I):g(I,e)}},z=()=>k.current?k.current[H?"clientWidth":"clientHeight"]:0,M=x(((g,e)=>{k.current&&H&&(k.current.style.position="absolute"),g.style[w]=Y,s&&s(g,e)})),E=x(((g,e)=>{const I=z();k.current&&H&&(k.current.style.position="");const{duration:t,easing:n}=yg({style:y,timeout:B,easing:i},{mode:"enter"});if("auto"===B){const e=f.transitions.getAutoHeightDuration(I);g.style.transitionDuration=`${e}ms`,J.current=e}else g.style.transitionDuration="string"==typeof t?t:`${t}ms`;g.style[w]=`${I}px`,g.style.transitionTimingFunction=n,b&&b(g,e)})),L=x(((g,e)=>{g.style[w]="auto",u&&u(g,e)})),U=x((g=>{g.style[w]=`${z()}px`,Z&&Z(g)})),Q=x(p),T=x((g=>{const e=z(),{duration:I,easing:t}=yg({style:y,timeout:B,easing:i},{mode:"exit"});if("auto"===B){const I=f.transitions.getAutoHeightDuration(e);g.style.transitionDuration=`${I}ms`,J.current=I}else g.style.transitionDuration="string"==typeof I?I:`${I}ms`;g.style[w]=Y,g.style.transitionTimingFunction=t,G&&G(g)}));return(0,m.jsx)(S,(0,c.Z)({in:d,onEnter:M,onEntered:L,onEntering:E,onExit:U,onExited:Q,onExiting:T,addEndListener:g=>{"auto"===B&&(X.current=setTimeout(g,J.current||0)),n&&n(N.current,g)},nodeRef:N,timeout:"auto"===B?null:B},V,{children:(g,e)=>(0,m.jsx)(zl,(0,c.Z)({as:a,className:(0,W.Z)(v.root,C,{entered:v.entered,exited:!d&&"0px"===Y&&v.hidden}[g]),style:(0,c.Z)({[H?"minWidth":"minHeight"]:Y},y),ownerState:(0,c.Z)({},R,{state:g}),ref:K},e,{children:(0,m.jsx)(Ml,{ownerState:(0,c.Z)({},R,{state:g}),className:v.wrapper,ref:k,children:(0,m.jsx)(El,{ownerState:(0,c.Z)({},R,{state:g}),className:v.wrapperInner,children:l})})}))}))}));Ll.muiSupportAuto=!0;var Ul=Ll,Ql=n(5949),Tl=(0,Ql.Z)((0,m.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Dl=(0,Ql.Z)((0,m.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),jl=e.createContext(void 0);function Pl(){return e.useContext(jl)}function Ol(g){return(0,fg.Z)("PrivateSwitchBase",g)}(0,vg.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ql=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],$l=(0,l.ZP)(aI)((({ownerState:g})=>(0,c.Z)({padding:9,borderRadius:"50%"},"start"===g.edge&&{marginLeft:"small"===g.size?-3:-12},"end"===g.edge&&{marginRight:"small"===g.size?-3:-12}))),_l=(0,l.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1});var gC=e.forwardRef((function(g,e){const{autoFocus:I,checked:t,checkedIcon:n,className:l,defaultChecked:C,disabled:o,disableFocusRipple:a=!1,edge:r=!1,icon:i,id:d,inputProps:s,inputRef:u,name:b,onBlur:Z,onChange:p,onFocus:G,readOnly:h,required:y=!1,tabIndex:B,type:S,value:V}=g,R=(0,A.Z)(g,ql),[v,f]=(0,yl.Z)({controlled:t,default:Boolean(C),name:"SwitchBase",state:"checked"}),X=Pl();let k=o;X&&void 0===k&&(k=X.disabled);const J="checkbox"===S||"radio"===S,Y=(0,c.Z)({},g,{checked:v,disabled:k,disableFocusRipple:a,edge:r}),H=(g=>{const{classes:e,checked:I,disabled:t,edge:n}=g,l={root:["root",I&&"checked",t&&"disabled",n&&`edge${(0,$g.Z)(n)}`],input:["input"]};return(0,F.Z)(l,Ol,e)})(Y);return(0,m.jsxs)($l,(0,c.Z)({component:"span",className:(0,W.Z)(H.root,l),centerRipple:!0,focusRipple:!a,disabled:k,tabIndex:null,role:void 0,onFocus:g=>{G&&G(g),X&&X.onFocus&&X.onFocus(g)},onBlur:g=>{Z&&Z(g),X&&X.onBlur&&X.onBlur(g)},ownerState:Y,ref:e},R,{children:[(0,m.jsx)(_l,(0,c.Z)({autoFocus:I,checked:t,defaultChecked:C,className:H.input,disabled:k,id:J?d:void 0,name:b,onChange:g=>{if(g.nativeEvent.defaultPrevented)return;const e=g.target.checked;f(e),p&&p(g,e)},readOnly:h,ref:u,required:y,ownerState:Y,tabIndex:B,type:S},"checkbox"===S&&void 0===V?{}:{value:V},s)),v?n:i]}))})),eC=(0,Ql.Z)((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),IC=(0,Ql.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),tC=(0,Ql.Z)((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function nC(g){return(0,fg.Z)("MuiCheckbox",g)}var lC=(0,vg.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]);const CC=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],oC=(0,l.ZP)(gC,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiCheckbox",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.indeterminate&&e.indeterminate,"default"!==I.color&&e[`color${(0,$g.Z)(I.color)}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({color:(g.vars||g).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:g.vars?`rgba(${"default"===e.color?g.vars.palette.action.activeChannel:g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)("default"===e.color?g.palette.action.active:g.palette[e.color].main,g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==e.color&&{[`&.${lC.checked}, &.${lC.indeterminate}`]:{color:(g.vars||g).palette[e.color].main},[`&.${lC.disabled}`]:{color:(g.vars||g).palette.action.disabled}}))),aC=(0,m.jsx)(IC,{}),rC=(0,m.jsx)(eC,{}),iC=(0,m.jsx)(tC,{});var cC=e.forwardRef((function(g,I){var t,n;const l=(0,rg.Z)({props:g,name:"MuiCheckbox"}),{checkedIcon:C=aC,color:o="primary",icon:a=rC,indeterminate:r=!1,indeterminateIcon:i=iC,inputProps:d,size:s="medium",className:u}=l,b=(0,A.Z)(l,CC),Z=r?i:a,p=r?i:C,G=(0,c.Z)({},l,{color:o,indeterminate:r,size:s}),h=(g=>{const{classes:e,indeterminate:I,color:t,size:n}=g,l={root:["root",I&&"indeterminate",`color${(0,$g.Z)(t)}`,`size${(0,$g.Z)(n)}`]},C=(0,F.Z)(l,nC,e);return(0,c.Z)({},e,C)})(G);return(0,m.jsx)(oC,(0,c.Z)({type:"checkbox",inputProps:(0,c.Z)({"data-indeterminate":r},d),icon:e.cloneElement(Z,{fontSize:null!=(t=Z.props.fontSize)?t:s}),checkedIcon:e.cloneElement(p,{fontSize:null!=(n=p.props.fontSize)?n:s}),ownerState:G,ref:I,className:(0,W.Z)(h.root,u)},b,{classes:h}))})),AC=(0,n(2807).ZP)(),dC=n(7333),sC=n(6268),uC=n(5408),mC=n(2605);const bC=["component","direction","spacing","divider","children","className","useFlexGap"],ZC=(0,sC.Z)(),pC=AC("div",{name:"MuiStack",slot:"Root",overridesResolver:(g,e)=>e.root});function GC(g){return(0,dC.Z)({props:g,name:"MuiStack",defaultTheme:ZC})}function hC(g,I){const t=e.Children.toArray(g).filter(Boolean);return t.reduce(((g,n,l)=>(g.push(n),l<t.length-1&&g.push(e.cloneElement(I,{key:`separator-${l}`})),g)),[])}const yC=({ownerState:g,theme:e})=>{let I=(0,c.Z)({display:"flex",flexDirection:"column"},(0,uC.k9)({theme:e},(0,uC.P$)({values:g.direction,breakpoints:e.breakpoints.values}),(g=>({flexDirection:g}))));if(g.spacing){const t=(0,mC.hB)(e),n=Object.keys(e.breakpoints.values).reduce(((e,I)=>(("object"==typeof g.spacing&&null!=g.spacing[I]||"object"==typeof g.direction&&null!=g.direction[I])&&(e[I]=!0),e)),{}),l=(0,uC.P$)({values:g.direction,base:n}),C=(0,uC.P$)({values:g.spacing,base:n});"object"==typeof l&&Object.keys(l).forEach(((g,e,I)=>{if(!l[g]){const t=e>0?l[I[e-1]]:"column";l[g]=t}}));const o=(e,I)=>{return g.useFlexGap?{gap:(0,mC.NA)(t,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${n=I?l[I]:g.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[n]}`]:(0,mC.NA)(t,e)}};var n};I=(0,v.Z)(I,(0,uC.k9)({theme:e},C,o))}return I=(0,uC.dt)(e.breakpoints,I),I},BC=function(g={}){const{createStyledComponent:I=pC,useThemeProps:t=GC,componentName:n="MuiStack"}=g,l=I(yC),C=e.forwardRef((function(g,e){const I=k(t(g)),{component:C="div",direction:o="column",spacing:a=0,divider:r,children:i,className:d,useFlexGap:s=!1}=I,u=(0,A.Z)(I,bC),b={direction:o,spacing:a,useFlexGap:s},Z=(0,F.Z)({root:["root"]},(g=>(0,fg.Z)(n,g)),{});return(0,m.jsx)(l,(0,c.Z)({as:C,ownerState:b,ref:e,className:(0,W.Z)(Z.root,d)},u,{children:r?hC(i,r):i}))}));return C}({createStyledComponent:(0,l.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(g,e)=>e.root}),useThemeProps:g=>(0,rg.Z)({props:g,name:"MuiStack"})});var SC=BC;function WC(g){return(0,fg.Z)("MuiFormControlLabel",g)}var VC=(0,vg.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);function RC({props:g,states:e,muiFormControl:I}){return e.reduce(((e,t)=>(e[t]=g[t],I&&void 0===g[t]&&(e[t]=I[t]),e)),{})}const vC=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],fC=(0,l.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[{[`& .${VC.label}`]:e.label},e.root,e[`labelPlacement${(0,$g.Z)(I.labelPlacement)}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${VC.disabled}`]:{cursor:"default"}},"start"===e.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===e.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===e.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${VC.label}`]:{[`&.${VC.disabled}`]:{color:(g.vars||g).palette.text.disabled}}}))),XC=(0,l.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(g,e)=>e.asterisk})((({theme:g})=>({[`&.${VC.error}`]:{color:(g.vars||g).palette.error.main}})));var kC=e.forwardRef((function(g,I){var t,n;const l=(0,rg.Z)({props:g,name:"MuiFormControlLabel"}),{className:C,componentsProps:o={},control:a,disabled:r,disableTypography:i,label:d,labelPlacement:s="end",required:u,slotProps:b={}}=l,Z=(0,A.Z)(l,vC),p=Pl(),G=null!=(t=null!=r?r:a.props.disabled)?t:null==p?void 0:p.disabled,h=null!=u?u:a.props.required,y={disabled:G,required:h};["checked","name","onChange","value","inputRef"].forEach((g=>{void 0===a.props[g]&&void 0!==l[g]&&(y[g]=l[g])}));const B=RC({props:l,muiFormControl:p,states:["error"]}),S=(0,c.Z)({},l,{disabled:G,labelPlacement:s,required:h,error:B.error}),V=(g=>{const{classes:e,disabled:I,labelPlacement:t,error:n,required:l}=g,C={root:["root",I&&"disabled",`labelPlacement${(0,$g.Z)(t)}`,n&&"error",l&&"required"],label:["label",I&&"disabled"],asterisk:["asterisk",n&&"error"]};return(0,F.Z)(C,WC,e)})(S),R=null!=(n=b.typography)?n:o.typography;let v=d;return null==v||v.type===YI||i||(v=(0,m.jsx)(YI,(0,c.Z)({component:"span"},R,{className:(0,W.Z)(V.label,null==R?void 0:R.className),children:v}))),(0,m.jsxs)(fC,(0,c.Z)({className:(0,W.Z)(V.root,C),ownerState:S,ref:I},Z,{children:[e.cloneElement(a,y),h?(0,m.jsxs)(SC,{direction:"row",alignItems:"center",children:[v,(0,m.jsxs)(XC,{ownerState:S,"aria-hidden":!0,className:V.asterisk,children:[" ","*"]})]}):v]}))})),JC=n(2996),YC=n(1387),HC=n(9336);const wC=["onChange","maxRows","minRows","style","value"];function NC(g){return parseInt(g,10)||0}const FC={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function KC(g){return null==g||0===Object.keys(g).length||0===g.outerHeightStyle&&!g.overflow}const xC=e.forwardRef((function(g,I){const{onChange:t,maxRows:n,minRows:l=1,style:C,value:o}=g,a=(0,A.Z)(g,wC),{current:r}=e.useRef(null!=o),i=e.useRef(null),d=(0,K.Z)(I,i),s=e.useRef(null),u=e.useRef(0),[b,Z]=e.useState({outerHeightStyle:0}),p=e.useCallback((()=>{const e=i.current,I=(0,j.Z)(e).getComputedStyle(e);if("0px"===I.width)return{outerHeightStyle:0};const t=s.current;t.style.width=I.width,t.value=e.value||g.placeholder||"x","\n"===t.value.slice(-1)&&(t.value+=" ");const C=I.boxSizing,o=NC(I.paddingBottom)+NC(I.paddingTop),a=NC(I.borderBottomWidth)+NC(I.borderTopWidth),r=t.scrollHeight;t.value="x";const c=t.scrollHeight;let A=r;return l&&(A=Math.max(Number(l)*c,A)),n&&(A=Math.min(Number(n)*c,A)),A=Math.max(A,c),{outerHeightStyle:A+("border-box"===C?o+a:0),overflow:Math.abs(A-r)<=1}}),[n,l,g.placeholder]),G=(g,e)=>{const{outerHeightStyle:I,overflow:t}=e;return u.current<20&&(I>0&&Math.abs((g.outerHeightStyle||0)-I)>1||g.overflow!==t)?(u.current+=1,{overflow:t,outerHeightStyle:I}):g},h=e.useCallback((()=>{const g=p();KC(g)||Z((e=>G(e,g)))}),[p]),y=()=>{const g=p();KC(g)||lg.flushSync((()=>{Z((e=>G(e,g)))}))};return e.useEffect((()=>{const g=(0,HC.Z)((()=>{u.current=0,i.current&&y()}));let e;const I=i.current,t=(0,j.Z)(I);return t.addEventListener("resize",g),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver((()=>{u.current=0,i.current&&y()})),e.observe(I)),()=>{g.clear(),t.removeEventListener("resize",g),e&&e.disconnect()}})),(0,Cg.Z)((()=>{h()})),e.useEffect((()=>{u.current=0}),[o]),(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)("textarea",(0,c.Z)({value:o,onChange:g=>{u.current=0,r||h(),t&&t(g)},ref:d,rows:l,style:(0,c.Z)({height:b.outerHeightStyle,overflow:b.overflow?"hidden":void 0},C)},a)),(0,m.jsx)("textarea",{"aria-hidden":!0,className:g.className,readOnly:!0,ref:s,tabIndex:-1,style:(0,c.Z)({},FC,C,{paddingTop:0,paddingBottom:0})})]})}));function zC(g){return null!=g&&!(Array.isArray(g)&&0===g.length)}function MC(g,e=!1){return g&&(zC(g.value)&&""!==g.value||e&&zC(g.defaultValue)&&""!==g.defaultValue)}function EC(g){return(0,fg.Z)("MuiInputBase",g)}var LC=(0,vg.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const UC=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],QC=(g,e)=>{const{ownerState:I}=g;return[e.root,I.formControl&&e.formControl,I.startAdornment&&e.adornedStart,I.endAdornment&&e.adornedEnd,I.error&&e.error,"small"===I.size&&e.sizeSmall,I.multiline&&e.multiline,I.color&&e[`color${(0,$g.Z)(I.color)}`],I.fullWidth&&e.fullWidth,I.hiddenLabel&&e.hiddenLabel]},TC=(g,e)=>{const{ownerState:I}=g;return[e.input,"small"===I.size&&e.inputSizeSmall,I.multiline&&e.inputMultiline,"search"===I.type&&e.inputTypeSearch,I.startAdornment&&e.inputAdornedStart,I.endAdornment&&e.inputAdornedEnd,I.hiddenLabel&&e.inputHiddenLabel]},DC=(0,l.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:QC})((({theme:g,ownerState:e})=>(0,c.Z)({},g.typography.body1,{color:(g.vars||g).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${LC.disabled}`]:{color:(g.vars||g).palette.text.disabled,cursor:"default"}},e.multiline&&(0,c.Z)({padding:"4px 0 5px"},"small"===e.size&&{paddingTop:1}),e.fullWidth&&{width:"100%"}))),jC=(0,l.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:TC})((({theme:g,ownerState:e})=>{const I="light"===g.palette.mode,t=(0,c.Z)({color:"currentColor"},g.vars?{opacity:g.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5},{transition:g.transitions.create("opacity",{duration:g.transitions.duration.shorter})}),n={opacity:"0 !important"},l=g.vars?{opacity:g.vars.opacity.inputPlaceholder}:{opacity:I?.42:.5};return(0,c.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&:-ms-input-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${LC.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${LC.disabled}`]:{opacity:1,WebkitTextFillColor:(g.vars||g).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===e.size&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===e.type&&{MozAppearance:"textfield"})})),PC=(0,m.jsx)(We,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),OC=e.forwardRef((function(g,I){var t;const n=(0,rg.Z)({props:g,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:C,autoFocus:o,className:a,components:r={},componentsProps:i={},defaultValue:d,disabled:s,disableInjectingGlobalStyles:u,endAdornment:b,fullWidth:Z=!1,id:p,inputComponent:G="input",inputProps:h={},inputRef:y,maxRows:B,minRows:S,multiline:V=!1,name:R,onBlur:v,onChange:f,onClick:X,onFocus:k,onKeyDown:J,onKeyUp:Y,placeholder:H,readOnly:w,renderSuffix:N,rows:K,slotProps:z={},slots:M={},startAdornment:E,type:L="text",value:U}=n,Q=(0,A.Z)(n,UC),T=null!=h.value?h.value:U,{current:D}=e.useRef(null!=T),j=e.useRef(),P=e.useCallback((g=>{}),[]),O=(0,Bg.Z)(j,y,h.ref,P),[q,$]=e.useState(!1),_=Pl(),gg=RC({props:n,muiFormControl:_,states:["color","disabled","error","hiddenLabel","size","required","filled"]});gg.focused=_?_.focused:q,e.useEffect((()=>{!_&&s&&q&&($(!1),v&&v())}),[_,s,q,v]);const eg=_&&_.onFilled,Ig=_&&_.onEmpty,tg=e.useCallback((g=>{MC(g)?eg&&eg():Ig&&Ig()}),[eg,Ig]);(0,mI.Z)((()=>{D&&tg({value:T})}),[T,tg,D]),e.useEffect((()=>{tg(j.current)}),[]);let ng=G,lg=h;V&&"input"===ng&&(lg=K?(0,c.Z)({type:void 0,minRows:K,maxRows:K},lg):(0,c.Z)({type:void 0,maxRows:B,minRows:S},lg),ng=xC),e.useEffect((()=>{_&&_.setAdornedStart(Boolean(E))}),[_,E]);const Cg=(0,c.Z)({},n,{color:gg.color||"primary",disabled:gg.disabled,endAdornment:b,error:gg.error,focused:gg.focused,formControl:_,fullWidth:Z,hiddenLabel:gg.hiddenLabel,multiline:V,size:gg.size,startAdornment:E,type:L}),og=(g=>{const{classes:e,color:I,disabled:t,error:n,endAdornment:l,focused:C,formControl:o,fullWidth:a,hiddenLabel:r,multiline:i,readOnly:c,size:A,startAdornment:d,type:s}=g,u={root:["root",`color${(0,$g.Z)(I)}`,t&&"disabled",n&&"error",a&&"fullWidth",C&&"focused",o&&"formControl",A&&"medium"!==A&&`size${(0,$g.Z)(A)}`,i&&"multiline",d&&"adornedStart",l&&"adornedEnd",r&&"hiddenLabel",c&&"readOnly"],input:["input",t&&"disabled","search"===s&&"inputTypeSearch",i&&"inputMultiline","small"===A&&"inputSizeSmall",r&&"inputHiddenLabel",d&&"inputAdornedStart",l&&"inputAdornedEnd",c&&"readOnly"]};return(0,F.Z)(u,EC,e)})(Cg),ag=M.root||r.Root||DC,ig=z.root||i.root||{},cg=M.input||r.Input||jC;return lg=(0,c.Z)({},lg,null!=(t=z.input)?t:i.input),(0,m.jsxs)(e.Fragment,{children:[!u&&PC,(0,m.jsxs)(ag,(0,c.Z)({},ig,!x(ag)&&{ownerState:(0,c.Z)({},Cg,ig.ownerState)},{ref:I,onClick:g=>{j.current&&g.currentTarget===g.target&&j.current.focus(),X&&X(g)}},Q,{className:(0,W.Z)(og.root,ig.className,a,w&&"MuiInputBase-readOnly"),children:[E,(0,m.jsx)(jl.Provider,{value:null,children:(0,m.jsx)(cg,(0,c.Z)({ownerState:Cg,"aria-invalid":gg.error,"aria-describedby":l,autoComplete:C,autoFocus:o,defaultValue:d,disabled:gg.disabled,id:p,onAnimationStart:g=>{tg("mui-auto-fill-cancel"===g.animationName?j.current:{value:"x"})},name:R,placeholder:H,readOnly:w,required:gg.required,rows:K,value:T,onKeyDown:J,onKeyUp:Y,type:L},lg,!x(cg)&&{as:ng,ownerState:(0,c.Z)({},Cg,lg.ownerState)},{ref:O,className:(0,W.Z)(og.input,lg.className,w&&"MuiInputBase-readOnly"),onBlur:g=>{v&&v(g),h.onBlur&&h.onBlur(g),_&&_.onBlur?_.onBlur(g):$(!1)},onChange:(g,...e)=>{if(!D){const e=g.target||j.current;if(null==e)throw new Error((0,YC.Z)(1));tg({value:e.value})}h.onChange&&h.onChange(g,...e),f&&f(g,...e)},onFocus:g=>{gg.disabled?g.stopPropagation():(k&&k(g),h.onFocus&&h.onFocus(g),_&&_.onFocus?_.onFocus(g):$(!0))}}))}),b,N?N((0,c.Z)({},gg,{startAdornment:E})):null]}))]})}));var qC=OC;function $C(g){return(0,fg.Z)("MuiInput",g)}var _C=(0,c.Z)({},LC,(0,vg.Z)("MuiInput",["root","underline","input"]));const go=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],eo=(0,l.ZP)(DC,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiInput",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[...QC(g,e),!I.disableUnderline&&e.underline]}})((({theme:g,ownerState:e})=>{let I="light"===g.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return g.vars&&(I=`rgba(${g.vars.palette.common.onBackgroundChannel} / ${g.vars.opacity.inputUnderline})`),(0,c.Z)({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(g.vars||g).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:g.transitions.create("transform",{duration:g.transitions.duration.shorter,easing:g.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_C.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_C.error}`]:{"&:before, &:after":{borderBottomColor:(g.vars||g).palette.error.main}},"&:before":{borderBottom:`1px solid ${I}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:g.transitions.create("border-bottom-color",{duration:g.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_C.disabled}, .${_C.error}):before`]:{borderBottom:`2px solid ${(g.vars||g).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${I}`}},[`&.${_C.disabled}:before`]:{borderBottomStyle:"dotted"}})})),Io=(0,l.ZP)(jC,{name:"MuiInput",slot:"Input",overridesResolver:TC})({}),to=e.forwardRef((function(g,e){var I,t,n,l;const C=(0,rg.Z)({props:g,name:"MuiInput"}),{disableUnderline:o,components:a={},componentsProps:r,fullWidth:i=!1,inputComponent:d="input",multiline:s=!1,slotProps:u,slots:b={},type:Z="text"}=C,p=(0,A.Z)(C,go),G=(g=>{const{classes:e,disableUnderline:I}=g,t={root:["root",!I&&"underline"],input:["input"]},n=(0,F.Z)(t,$C,e);return(0,c.Z)({},e,n)})(C),h={root:{ownerState:{disableUnderline:o}}},y=(null!=u?u:r)?(0,v.Z)(null!=u?u:r,h):h,B=null!=(I=null!=(t=b.root)?t:a.Root)?I:eo,S=null!=(n=null!=(l=b.input)?l:a.Input)?n:Io;return(0,m.jsx)(qC,(0,c.Z)({slots:{root:B,input:S},slotProps:y,fullWidth:i,inputComponent:d,multiline:s,ref:e,type:Z},p,{classes:G}))}));to.muiName="Input";var no=to;function lo(g){return(0,fg.Z)("MuiFilledInput",g)}var Co=(0,c.Z)({},LC,(0,vg.Z)("MuiFilledInput",["root","underline","input"]));const oo=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],ao=(0,l.ZP)(DC,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiFilledInput",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[...QC(g,e),!I.disableUnderline&&e.underline]}})((({theme:g,ownerState:e})=>{var I;const t="light"===g.palette.mode,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",C=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,c.Z)({position:"relative",backgroundColor:g.vars?g.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(g.vars||g).shape.borderRadius,borderTopRightRadius:(g.vars||g).shape.borderRadius,transition:g.transitions.create("background-color",{duration:g.transitions.duration.shorter,easing:g.transitions.easing.easeOut}),"&:hover":{backgroundColor:g.vars?g.vars.palette.FilledInput.hoverBg:C,"@media (hover: none)":{backgroundColor:g.vars?g.vars.palette.FilledInput.bg:l}},[`&.${Co.focused}`]:{backgroundColor:g.vars?g.vars.palette.FilledInput.bg:l},[`&.${Co.disabled}`]:{backgroundColor:g.vars?g.vars.palette.FilledInput.disabledBg:o}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${null==(I=(g.vars||g).palette[e.color||"primary"])?void 0:I.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:g.transitions.create("transform",{duration:g.transitions.duration.shorter,easing:g.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Co.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Co.error}`]:{"&:before, &:after":{borderBottomColor:(g.vars||g).palette.error.main}},"&:before":{borderBottom:`1px solid ${g.vars?`rgba(${g.vars.palette.common.onBackgroundChannel} / ${g.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:g.transitions.create("border-bottom-color",{duration:g.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Co.disabled}, .${Co.error}):before`]:{borderBottom:`1px solid ${(g.vars||g).palette.text.primary}`},[`&.${Co.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&(0,c.Z)({padding:"25px 12px 8px"},"small"===e.size&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),ro=(0,l.ZP)(jC,{name:"MuiFilledInput",slot:"Input",overridesResolver:TC})((({theme:g,ownerState:e})=>(0,c.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!g.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===g.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===g.palette.mode?null:"#fff",caretColor:"light"===g.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},g.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[g.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===e.size&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&"small"===e.size&&{paddingTop:8,paddingBottom:9}))),io=e.forwardRef((function(g,e){var I,t,n,l;const C=(0,rg.Z)({props:g,name:"MuiFilledInput"}),{components:o={},componentsProps:a,fullWidth:r=!1,inputComponent:i="input",multiline:d=!1,slotProps:s,slots:u={},type:b="text"}=C,Z=(0,A.Z)(C,oo),p=(0,c.Z)({},C,{fullWidth:r,inputComponent:i,multiline:d,type:b}),G=(g=>{const{classes:e,disableUnderline:I}=g,t={root:["root",!I&&"underline"],input:["input"]},n=(0,F.Z)(t,lo,e);return(0,c.Z)({},e,n)})(C),h={root:{ownerState:p},input:{ownerState:p}},y=(null!=s?s:a)?(0,v.Z)(null!=s?s:a,h):h,B=null!=(I=null!=(t=u.root)?t:o.Root)?I:ao,S=null!=(n=null!=(l=u.input)?l:o.Input)?n:ro;return(0,m.jsx)(qC,(0,c.Z)({slots:{root:B,input:S},componentsProps:y,fullWidth:r,inputComponent:i,multiline:d,ref:e,type:b},Z,{classes:G}))}));io.muiName="Input";var co,Ao=io;const so=["children","classes","className","label","notched"],uo=(0,l.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),mo=(0,l.ZP)("legend")((({ownerState:g,theme:e})=>(0,c.Z)({float:"unset",width:"auto",overflow:"hidden"},!g.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},g.withLabel&&(0,c.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},g.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}))));function bo(g){return(0,fg.Z)("MuiOutlinedInput",g)}var Zo=(0,c.Z)({},LC,(0,vg.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));const po=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Go=(0,l.ZP)(DC,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiOutlinedInput",slot:"Root",overridesResolver:QC})((({theme:g,ownerState:e})=>{const I="light"===g.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,c.Z)({position:"relative",borderRadius:(g.vars||g).shape.borderRadius,[`&:hover .${Zo.notchedOutline}`]:{borderColor:(g.vars||g).palette.text.primary},"@media (hover: none)":{[`&:hover .${Zo.notchedOutline}`]:{borderColor:g.vars?`rgba(${g.vars.palette.common.onBackgroundChannel} / 0.23)`:I}},[`&.${Zo.focused} .${Zo.notchedOutline}`]:{borderColor:(g.vars||g).palette[e.color].main,borderWidth:2},[`&.${Zo.error} .${Zo.notchedOutline}`]:{borderColor:(g.vars||g).palette.error.main},[`&.${Zo.disabled} .${Zo.notchedOutline}`]:{borderColor:(g.vars||g).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&(0,c.Z)({padding:"16.5px 14px"},"small"===e.size&&{padding:"8.5px 14px"}))})),ho=(0,l.ZP)((function(g){const{className:e,label:I,notched:t}=g,n=(0,A.Z)(g,so),l=null!=I&&""!==I,C=(0,c.Z)({},g,{notched:t,withLabel:l});return(0,m.jsx)(uo,(0,c.Z)({"aria-hidden":!0,className:e,ownerState:C},n,{children:(0,m.jsx)(mo,{ownerState:C,children:l?(0,m.jsx)("span",{children:I}):co||(co=(0,m.jsx)("span",{className:"notranslate",children:"​"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(g,e)=>e.notchedOutline})((({theme:g})=>{const e="light"===g.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:g.vars?`rgba(${g.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),yo=(0,l.ZP)(jC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:TC})((({theme:g,ownerState:e})=>(0,c.Z)({padding:"16.5px 14px"},!g.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===g.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===g.palette.mode?null:"#fff",caretColor:"light"===g.palette.mode?null:"#fff",borderRadius:"inherit"}},g.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[g.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===e.size&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0}))),Bo=e.forwardRef((function(g,I){var t,n,l,C,o;const a=(0,rg.Z)({props:g,name:"MuiOutlinedInput"}),{components:r={},fullWidth:i=!1,inputComponent:d="input",label:s,multiline:u=!1,notched:b,slots:Z={},type:p="text"}=a,G=(0,A.Z)(a,po),h=(g=>{const{classes:e}=g,I=(0,F.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},bo,e);return(0,c.Z)({},e,I)})(a),y=Pl(),B=RC({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=(0,c.Z)({},a,{color:B.color||"primary",disabled:B.disabled,error:B.error,focused:B.focused,formControl:y,fullWidth:i,hiddenLabel:B.hiddenLabel,multiline:u,size:B.size,type:p}),W=null!=(t=null!=(n=Z.root)?n:r.Root)?t:Go,V=null!=(l=null!=(C=Z.input)?C:r.Input)?l:yo;return(0,m.jsx)(qC,(0,c.Z)({slots:{root:W,input:V},renderSuffix:g=>(0,m.jsx)(ho,{ownerState:S,className:h.notchedOutline,label:null!=s&&""!==s&&B.required?o||(o=(0,m.jsxs)(e.Fragment,{children:[s," ","*"]})):s,notched:void 0!==b?b:Boolean(g.startAdornment||g.filled||g.focused)}),fullWidth:i,inputComponent:d,multiline:u,ref:I,type:p},G,{classes:(0,c.Z)({},h,{notchedOutline:null})}))}));Bo.muiName="Input";var So=Bo;function Wo(g){return(0,fg.Z)("MuiFormLabel",g)}var Vo=(0,vg.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);const Ro=["children","className","color","component","disabled","error","filled","focused","required"],vo=(0,l.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:g},e)=>(0,c.Z)({},e.root,"secondary"===g.color&&e.colorSecondary,g.filled&&e.filled)})((({theme:g,ownerState:e})=>(0,c.Z)({color:(g.vars||g).palette.text.secondary},g.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Vo.focused}`]:{color:(g.vars||g).palette[e.color].main},[`&.${Vo.disabled}`]:{color:(g.vars||g).palette.text.disabled},[`&.${Vo.error}`]:{color:(g.vars||g).palette.error.main}}))),fo=(0,l.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(g,e)=>e.asterisk})((({theme:g})=>({[`&.${Vo.error}`]:{color:(g.vars||g).palette.error.main}})));var Xo=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiFormLabel"}),{children:t,className:n,component:l="label"}=I,C=(0,A.Z)(I,Ro),o=RC({props:I,muiFormControl:Pl(),states:["color","required","focused","disabled","error","filled"]}),a=(0,c.Z)({},I,{color:o.color||"primary",component:l,disabled:o.disabled,error:o.error,filled:o.filled,focused:o.focused,required:o.required}),r=(g=>{const{classes:e,color:I,focused:t,disabled:n,error:l,filled:C,required:o}=g,a={root:["root",`color${(0,$g.Z)(I)}`,n&&"disabled",l&&"error",C&&"filled",t&&"focused",o&&"required"],asterisk:["asterisk",l&&"error"]};return(0,F.Z)(a,Wo,e)})(a);return(0,m.jsxs)(vo,(0,c.Z)({as:l,ownerState:a,className:(0,W.Z)(r.root,n),ref:e},C,{children:[t,o.required&&(0,m.jsxs)(fo,{ownerState:a,"aria-hidden":!0,className:r.asterisk,children:[" ","*"]})]}))}));function ko(g){return(0,fg.Z)("MuiInputLabel",g)}(0,vg.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Jo=["disableAnimation","margin","shrink","variant","className"],Yo=(0,l.ZP)(Xo,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiInputLabel",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[{[`& .${Vo.asterisk}`]:e.asterisk},e.root,I.formControl&&e.formControl,"small"===I.size&&e.sizeSmall,I.shrink&&e.shrink,!I.disableAnimation&&e.animated,e[I.variant]]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===e.size&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:g.transitions.create(["color","transform","max-width"],{duration:g.transitions.duration.shorter,easing:g.transitions.easing.easeOut})},"filled"===e.variant&&(0,c.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===e.size&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&(0,c.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===e.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===e.variant&&(0,c.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===e.size&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))));var Ho=e.forwardRef((function(g,e){const I=(0,rg.Z)({name:"MuiInputLabel",props:g}),{disableAnimation:t=!1,shrink:n,className:l}=I,C=(0,A.Z)(I,Jo),o=Pl();let a=n;void 0===a&&o&&(a=o.filled||o.focused||o.adornedStart);const r=RC({props:I,muiFormControl:o,states:["size","variant","required"]}),i=(0,c.Z)({},I,{disableAnimation:t,formControl:o,shrink:a,size:r.size,variant:r.variant,required:r.required}),d=(g=>{const{classes:e,formControl:I,size:t,shrink:n,disableAnimation:l,variant:C,required:o}=g,a={root:["root",I&&"formControl",!l&&"animated",n&&"shrink",t&&"normal"!==t&&`size${(0,$g.Z)(t)}`,C],asterisk:[o&&"asterisk"]},r=(0,F.Z)(a,ko,e);return(0,c.Z)({},e,r)})(i);return(0,m.jsx)(Yo,(0,c.Z)({"data-shrink":a,ownerState:i,ref:e,className:(0,W.Z)(d.root,l)},C,{classes:d}))})),wo=n(8502);function No(g){return(0,fg.Z)("MuiFormControl",g)}(0,vg.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Fo=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ko=(0,l.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:g},e)=>(0,c.Z)({},e.root,e[`margin${(0,$g.Z)(g.margin)}`],g.fullWidth&&e.fullWidth)})((({ownerState:g})=>(0,c.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===g.margin&&{marginTop:16,marginBottom:8},"dense"===g.margin&&{marginTop:8,marginBottom:4},g.fullWidth&&{width:"100%"})));var xo=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiFormControl"}),{children:n,className:l,color:C="primary",component:o="div",disabled:a=!1,error:r=!1,focused:i,fullWidth:d=!1,hiddenLabel:s=!1,margin:u="none",required:b=!1,size:Z="medium",variant:p="outlined"}=t,G=(0,A.Z)(t,Fo),h=(0,c.Z)({},t,{color:C,component:o,disabled:a,error:r,fullWidth:d,hiddenLabel:s,margin:u,required:b,size:Z,variant:p}),y=(g=>{const{classes:e,margin:I,fullWidth:t}=g,n={root:["root","none"!==I&&`margin${(0,$g.Z)(I)}`,t&&"fullWidth"]};return(0,F.Z)(n,No,e)})(h),[B,S]=e.useState((()=>{let g=!1;return n&&e.Children.forEach(n,(e=>{if(!(0,wo.Z)(e,["Input","Select"]))return;const I=(0,wo.Z)(e,["Select"])?e.props.input:e;I&&I.props.startAdornment&&(g=!0)})),g})),[V,R]=e.useState((()=>{let g=!1;return n&&e.Children.forEach(n,(e=>{(0,wo.Z)(e,["Input","Select"])&&(MC(e.props,!0)||MC(e.props.inputProps,!0))&&(g=!0)})),g})),[v,f]=e.useState(!1);a&&v&&f(!1);const X=void 0===i||a?v:i;let k;const J=e.useMemo((()=>({adornedStart:B,setAdornedStart:S,color:C,disabled:a,error:r,filled:V,focused:X,fullWidth:d,hiddenLabel:s,size:Z,onBlur:()=>{f(!1)},onEmpty:()=>{R(!1)},onFilled:()=>{R(!0)},onFocus:()=>{f(!0)},registerEffect:k,required:b,variant:p})),[B,C,a,r,V,X,d,s,k,b,Z,p]);return(0,m.jsx)(jl.Provider,{value:J,children:(0,m.jsx)(Ko,(0,c.Z)({as:o,ownerState:h,className:(0,W.Z)(y.root,l),ref:I},G,{children:n}))})}));function zo(g){return(0,fg.Z)("MuiFormHelperText",g)}var Mo,Eo=(0,vg.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);const Lo=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Uo=(0,l.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.size&&e[`size${(0,$g.Z)(I.size)}`],I.contained&&e.contained,I.filled&&e.filled]}})((({theme:g,ownerState:e})=>(0,c.Z)({color:(g.vars||g).palette.text.secondary},g.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Eo.disabled}`]:{color:(g.vars||g).palette.text.disabled},[`&.${Eo.error}`]:{color:(g.vars||g).palette.error.main}},"small"===e.size&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})));var Qo=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiFormHelperText"}),{children:t,className:n,component:l="p"}=I,C=(0,A.Z)(I,Lo),o=RC({props:I,muiFormControl:Pl(),states:["variant","size","disabled","error","filled","focused","required"]}),a=(0,c.Z)({},I,{component:l,contained:"filled"===o.variant||"outlined"===o.variant,variant:o.variant,size:o.size,disabled:o.disabled,error:o.error,filled:o.filled,focused:o.focused,required:o.required}),r=(g=>{const{classes:e,contained:I,size:t,disabled:n,error:l,filled:C,focused:o,required:a}=g,r={root:["root",n&&"disabled",l&&"error",t&&`size${(0,$g.Z)(t)}`,I&&"contained",o&&"focused",C&&"filled",a&&"required"]};return(0,F.Z)(r,zo,e)})(a);return(0,m.jsx)(Uo,(0,c.Z)({as:l,ownerState:a,className:(0,W.Z)(r.root,n),ref:e},C,{children:" "===t?Mo||(Mo=(0,m.jsx)("span",{className:"notranslate",children:"​"})):t}))})),To=(n(6607),n(8038)),Do=P;const jo=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Po(g,e,I){return g===e?g.firstChild:e&&e.nextElementSibling?e.nextElementSibling:I?null:g.firstChild}function Oo(g,e,I){return g===e?I?g.firstChild:g.lastChild:e&&e.previousElementSibling?e.previousElementSibling:I?null:g.lastChild}function qo(g,e){if(void 0===e)return!0;let I=g.innerText;return void 0===I&&(I=g.textContent),I=I.trim().toLowerCase(),0!==I.length&&(e.repeating?I[0]===e.keys[0]:0===I.indexOf(e.keys.join("")))}function $o(g,e,I,t,n,l){let C=!1,o=n(g,e,!!e&&I);for(;o;){if(o===g.firstChild){if(C)return!1;C=!0}const e=!t&&(o.disabled||"true"===o.getAttribute("aria-disabled"));if(o.hasAttribute("tabindex")&&qo(o,l)&&!e)return o.focus(),!0;o=n(g,o,I)}return!1}var _o=e.forwardRef((function(g,I){const{actions:t,autoFocus:n=!1,autoFocusItem:l=!1,children:C,className:o,disabledItemsFocusable:a=!1,disableListWrap:r=!1,onKeyDown:i,variant:d="selectedMenu"}=g,s=(0,A.Z)(g,jo),u=e.useRef(null),b=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,mI.Z)((()=>{n&&u.current.focus()}),[n]),e.useImperativeHandle(t,(()=>({adjustStyleForScrollbar:(g,e)=>{const I=!u.current.style.width;if(g.clientHeight<u.current.clientHeight&&I){const I=`${Do((0,To.Z)(g))}px`;u.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=I,u.current.style.width=`calc(100% + ${I})`}return u.current}})),[]);const Z=(0,Bg.Z)(u,I);let p=-1;e.Children.forEach(C,((g,I)=>{e.isValidElement(g)?(g.props.disabled||("selectedMenu"===d&&g.props.selected||-1===p)&&(p=I),p===I&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(p+=1,p>=C.length&&(p=-1))):p===I&&(p+=1,p>=C.length&&(p=-1))}));const G=e.Children.map(C,((g,I)=>{if(I===p){const I={};return l&&(I.autoFocus=!0),void 0===g.props.tabIndex&&"selectedMenu"===d&&(I.tabIndex=0),e.cloneElement(g,I)}return g}));return(0,m.jsx)(LI,(0,c.Z)({role:"menu",ref:Z,className:o,onKeyDown:g=>{const e=u.current,I=g.key,t=(0,To.Z)(e).activeElement;if("ArrowDown"===I)g.preventDefault(),$o(e,t,r,a,Po);else if("ArrowUp"===I)g.preventDefault(),$o(e,t,r,a,Oo);else if("Home"===I)g.preventDefault(),$o(e,null,r,a,Po);else if("End"===I)g.preventDefault(),$o(e,null,r,a,Oo);else if(1===I.length){const n=b.current,l=I.toLowerCase(),C=performance.now();n.keys.length>0&&(C-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&l!==n.keys[0]&&(n.repeating=!1)),n.lastTime=C,n.keys.push(l);const o=t&&!n.repeating&&qo(t,n);n.previousKeyMatched&&(o||$o(e,t,!1,a,Po,n))?g.preventDefault():n.previousKeyMatched=!1}i&&i(g)},tabIndex:n?0:-1},s,{children:G}))}));function ga(g){return(0,fg.Z)("MuiPopover",g)}(0,vg.Z)("MuiPopover",["root","paper"]);const ea=["onEntering"],Ia=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ta=["slotProps"];function na(g,e){let I=0;return"number"==typeof e?I=e:"center"===e?I=g.height/2:"bottom"===e&&(I=g.height),I}function la(g,e){let I=0;return"number"==typeof e?I=e:"center"===e?I=g.width/2:"right"===e&&(I=g.width),I}function Ca(g){return[g.horizontal,g.vertical].map((g=>"number"==typeof g?`${g}px`:g)).join(" ")}function oa(g){return"function"==typeof g?g():g}const aa=(0,l.ZP)(xg,{name:"MuiPopover",slot:"Root",overridesResolver:(g,e)=>e.root})({}),ra=(0,l.ZP)(qg,{name:"MuiPopover",slot:"Paper",overridesResolver:(g,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ia=e.forwardRef((function(g,I){var t,n,l;const C=(0,rg.Z)({props:g,name:"MuiPopover"}),{action:o,anchorEl:a,anchorOrigin:r={vertical:"top",horizontal:"left"},anchorPosition:i,anchorReference:d="anchorEl",children:s,className:u,container:b,elevation:Z=8,marginThreshold:p=16,open:G,PaperProps:h={},slots:y,slotProps:B,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:V=Pt,transitionDuration:R="auto",TransitionProps:{onEntering:v}={},disableScrollLock:f=!1}=C,X=(0,A.Z)(C.TransitionProps,ea),k=(0,A.Z)(C,Ia),J=null!=(t=null==B?void 0:B.paper)?t:h,Y=e.useRef(),H=(0,Bg.Z)(Y,J.ref),w=(0,c.Z)({},C,{anchorOrigin:r,anchorReference:d,elevation:Z,marginThreshold:p,externalPaperSlotProps:J,transformOrigin:S,TransitionComponent:V,transitionDuration:R,TransitionProps:X}),N=(g=>{const{classes:e}=g;return(0,F.Z)({root:["root"],paper:["paper"]},ga,e)})(w),K=e.useCallback((()=>{if("anchorPosition"===d)return i;const g=oa(a),e=(g&&1===g.nodeType?g:(0,To.Z)(Y.current).body).getBoundingClientRect();return{top:e.top+na(e,r.vertical),left:e.left+la(e,r.horizontal)}}),[a,r.horizontal,r.vertical,i,d]),z=e.useCallback((g=>({vertical:na(g,S.vertical),horizontal:la(g,S.horizontal)})),[S.horizontal,S.vertical]),M=e.useCallback((g=>{const e={width:g.offsetWidth,height:g.offsetHeight},I=z(e);if("none"===d)return{top:null,left:null,transformOrigin:Ca(I)};const t=K();let n=t.top-I.vertical,l=t.left-I.horizontal;const C=n+e.height,o=l+e.width,r=(0,Mg.Z)(oa(a)),i=r.innerHeight-p,c=r.innerWidth-p;if(null!==p&&n<p){const g=n-p;n-=g,I.vertical+=g}else if(null!==p&&C>i){const g=C-i;n-=g,I.vertical+=g}if(null!==p&&l<p){const g=l-p;l-=g,I.horizontal+=g}else if(o>c){const g=o-c;l-=g,I.horizontal+=g}return{top:`${Math.round(n)}px`,left:`${Math.round(l)}px`,transformOrigin:Ca(I)}}),[a,d,K,z,p]),[E,L]=e.useState(G),Q=e.useCallback((()=>{const g=Y.current;if(!g)return;const e=M(g);null!==e.top&&(g.style.top=e.top),null!==e.left&&(g.style.left=e.left),g.style.transformOrigin=e.transformOrigin,L(!0)}),[M]);e.useEffect((()=>(f&&window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q))),[a,f,Q]),e.useEffect((()=>{G&&Q()})),e.useImperativeHandle(o,(()=>G?{updatePosition:()=>{Q()}}:null),[G,Q]),e.useEffect((()=>{if(!G)return;const g=(0,zg.Z)((()=>{Q()})),e=(0,Mg.Z)(a);return e.addEventListener("resize",g),()=>{g.clear(),e.removeEventListener("resize",g)}}),[a,G,Q]);let T=R;"auto"!==R||V.muiSupportAuto||(T=void 0);const D=b||(a?(0,To.Z)(oa(a)).body:void 0),j=null!=(n=null==y?void 0:y.root)?n:aa,P=null!=(l=null==y?void 0:y.paper)?l:ra,O=U({elementType:P,externalSlotProps:(0,c.Z)({},J,{style:E?J.style:(0,c.Z)({},J.style,{opacity:0})}),additionalProps:{elevation:Z,ref:H},ownerState:w,className:(0,W.Z)(N.paper,null==J?void 0:J.className)}),q=U({elementType:j,externalSlotProps:(null==B?void 0:B.root)||{},externalForwardedProps:k,additionalProps:{ref:I,slotProps:{backdrop:{invisible:!0}},container:D,open:G},ownerState:w,className:(0,W.Z)(N.root,u)}),{slotProps:$}=q,_=(0,A.Z)(q,ta);return(0,m.jsx)(j,(0,c.Z)({},_,!x(j)&&{slotProps:$,disableScrollLock:f},{children:(0,m.jsx)(V,(0,c.Z)({appear:!0,in:G,onEntering:(g,e)=>{v&&v(g,e),Q()},onExited:()=>{L(!1)},timeout:T},X,{children:(0,m.jsx)(P,(0,c.Z)({},O,{children:s}))}))}))}));var ca=ia;function Aa(g){return(0,fg.Z)("MuiMenu",g)}(0,vg.Z)("MuiMenu",["root","paper","list"]);const da=["onEntering"],sa=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ua={vertical:"top",horizontal:"right"},ma={vertical:"top",horizontal:"left"},ba=(0,l.ZP)(ca,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiMenu",slot:"Root",overridesResolver:(g,e)=>e.root})({}),Za=(0,l.ZP)(ra,{name:"MuiMenu",slot:"Paper",overridesResolver:(g,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),pa=(0,l.ZP)(_o,{name:"MuiMenu",slot:"List",overridesResolver:(g,e)=>e.list})({outline:0});var Ga=e.forwardRef((function(g,I){var t,n;const l=(0,rg.Z)({props:g,name:"MuiMenu"}),{autoFocus:C=!0,children:o,className:a,disableAutoFocusItem:i=!1,MenuListProps:d={},onClose:s,open:u,PaperProps:b={},PopoverClasses:Z,transitionDuration:p="auto",TransitionProps:{onEntering:G}={},variant:h="selectedMenu",slots:y={},slotProps:B={}}=l,S=(0,A.Z)(l.TransitionProps,da),V=(0,A.Z)(l,sa),R=r(),v="rtl"===R.direction,f=(0,c.Z)({},l,{autoFocus:C,disableAutoFocusItem:i,MenuListProps:d,onEntering:G,PaperProps:b,transitionDuration:p,TransitionProps:S,variant:h}),X=(g=>{const{classes:e}=g;return(0,F.Z)({root:["root"],paper:["paper"],list:["list"]},Aa,e)})(f),k=C&&!i&&u,J=e.useRef(null);let Y=-1;e.Children.map(o,((g,I)=>{e.isValidElement(g)&&(g.props.disabled||("selectedMenu"===h&&g.props.selected||-1===Y)&&(Y=I))}));const H=null!=(t=y.paper)?t:Za,w=null!=(n=B.paper)?n:b,N=U({elementType:y.root,externalSlotProps:B.root,ownerState:f,className:[X.root,a]}),K=U({elementType:H,externalSlotProps:w,ownerState:f,className:X.paper});return(0,m.jsx)(ba,(0,c.Z)({onClose:s,anchorOrigin:{vertical:"bottom",horizontal:v?"right":"left"},transformOrigin:v?ua:ma,slots:{paper:H,root:y.root},slotProps:{root:N,paper:K},open:u,ref:I,transitionDuration:p,TransitionProps:(0,c.Z)({onEntering:(g,e)=>{J.current&&J.current.adjustStyleForScrollbar(g,R),G&&G(g,e)}},S),ownerState:f},V,{classes:Z,children:(0,m.jsx)(pa,(0,c.Z)({onKeyDown:g=>{"Tab"===g.key&&(g.preventDefault(),s&&s(g,"tabKeyDown"))},actions:J,autoFocus:C&&(-1===Y||i),autoFocusItem:k,variant:h},d,{className:(0,W.Z)(X.list,d.className),children:o}))}))}));function ha(g){return(0,fg.Z)("MuiNativeSelect",g)}var ya=(0,vg.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);const Ba=["className","disabled","error","IconComponent","inputRef","variant"],Sa=({ownerState:g,theme:e})=>(0,c.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,c.Z)({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===e.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ya.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===g.variant&&{"&&&":{paddingRight:32}},"outlined"===g.variant&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Wa=(0,l.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:l.FO,overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.select,e[I.variant],I.error&&e.error,{[`&.${ya.multiple}`]:e.multiple}]}})(Sa),Va=({ownerState:g,theme:e})=>(0,c.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${ya.disabled}`]:{color:(e.vars||e).palette.action.disabled}},g.open&&{transform:"rotate(180deg)"},"filled"===g.variant&&{right:7},"outlined"===g.variant&&{right:7}),Ra=(0,l.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.icon,I.variant&&e[`icon${(0,$g.Z)(I.variant)}`],I.open&&e.iconOpen]}})(Va);var va=e.forwardRef((function(g,I){const{className:t,disabled:n,error:l,IconComponent:C,inputRef:o,variant:a="standard"}=g,r=(0,A.Z)(g,Ba),i=(0,c.Z)({},g,{disabled:n,variant:a,error:l}),d=(g=>{const{classes:e,variant:I,disabled:t,multiple:n,open:l,error:C}=g,o={select:["select",I,t&&"disabled",n&&"multiple",C&&"error"],icon:["icon",`icon${(0,$g.Z)(I)}`,l&&"iconOpen",t&&"disabled"]};return(0,F.Z)(o,ha,e)})(i);return(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)(Wa,(0,c.Z)({ownerState:i,className:(0,W.Z)(d.select,t),disabled:n,ref:o||I},r)),g.multiple?null:(0,m.jsx)(Ra,{as:C,ownerState:i,className:d.icon})]})}));function fa(g){return(0,fg.Z)("MuiSelect",g)}var Xa,ka=(0,vg.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);const Ja=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ya=(0,l.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[{[`&.${ka.select}`]:e.select},{[`&.${ka.select}`]:e[I.variant]},{[`&.${ka.error}`]:e.error},{[`&.${ka.multiple}`]:e.multiple}]}})(Sa,{[`&.${ka.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Ha=(0,l.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.icon,I.variant&&e[`icon${(0,$g.Z)(I.variant)}`],I.open&&e.iconOpen]}})(Va),wa=(0,l.ZP)("input",{shouldForwardProp:g=>(0,l.Dz)(g)&&"classes"!==g,name:"MuiSelect",slot:"NativeInput",overridesResolver:(g,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Na(g,e){return"object"==typeof e&&null!==e?g===e:String(g)===String(e)}function Fa(g){return null==g||"string"==typeof g&&!g.trim()}const Ka=e.forwardRef((function(g,I){var t;const{"aria-describedby":n,"aria-label":l,autoFocus:C,autoWidth:o,children:a,className:r,defaultOpen:i,defaultValue:d,disabled:s,displayEmpty:u,error:b=!1,IconComponent:Z,inputRef:p,labelId:G,MenuProps:h={},multiple:y,name:B,onBlur:S,onChange:V,onClose:R,onFocus:v,onOpen:f,open:X,readOnly:k,renderValue:J,SelectDisplayProps:Y={},tabIndex:H,value:w,variant:N="standard"}=g,K=(0,A.Z)(g,Ja),[x,z]=(0,yl.Z)({controlled:w,default:d,name:"Select"}),[M,E]=(0,yl.Z)({controlled:X,default:i,name:"Select"}),L=e.useRef(null),U=e.useRef(null),[Q,T]=e.useState(null),{current:D}=e.useRef(null!=X),[j,P]=e.useState(),O=(0,Bg.Z)(I,p),q=e.useCallback((g=>{U.current=g,g&&T(g)}),[]),$=null==Q?void 0:Q.parentNode;e.useImperativeHandle(O,(()=>({focus:()=>{U.current.focus()},node:L.current,value:x})),[x]),e.useEffect((()=>{i&&M&&Q&&!D&&(P(o?null:$.clientWidth),U.current.focus())}),[Q,o]),e.useEffect((()=>{C&&U.current.focus()}),[C]),e.useEffect((()=>{if(!G)return;const g=(0,To.Z)(U.current).getElementById(G);if(g){const e=()=>{getSelection().isCollapsed&&U.current.focus()};return g.addEventListener("click",e),()=>{g.removeEventListener("click",e)}}}),[G]);const _=(g,e)=>{g?f&&f(e):R&&R(e),D||(P(o?null:$.clientWidth),E(g))},gg=e.Children.toArray(a),eg=g=>e=>{let I;if(e.currentTarget.hasAttribute("tabindex")){if(y){I=Array.isArray(x)?x.slice():[];const e=x.indexOf(g.props.value);-1===e?I.push(g.props.value):I.splice(e,1)}else I=g.props.value;if(g.props.onClick&&g.props.onClick(e),x!==I&&(z(I),V)){const t=e.nativeEvent||e,n=new t.constructor(t.type,t);Object.defineProperty(n,"target",{writable:!0,value:{value:I,name:B}}),V(n,g)}y||_(!1,e)}},Ig=null!==Q&&M;let tg,ng;delete K["aria-invalid"];const lg=[];let Cg=!1,og=!1;(MC({value:x})||u)&&(J?tg=J(x):Cg=!0);const ag=gg.map((g=>{if(!e.isValidElement(g))return null;let I;if(y){if(!Array.isArray(x))throw new Error((0,YC.Z)(2));I=x.some((e=>Na(e,g.props.value))),I&&Cg&&lg.push(g.props.children)}else I=Na(x,g.props.value),I&&Cg&&(ng=g.props.children);return I&&(og=!0),e.cloneElement(g,{"aria-selected":I?"true":"false",onClick:eg(g),onKeyUp:e=>{" "===e.key&&e.preventDefault(),g.props.onKeyUp&&g.props.onKeyUp(e)},role:"option",selected:I,value:void 0,"data-value":g.props.value})}));Cg&&(tg=y?0===lg.length?null:lg.reduce(((g,e,I)=>(g.push(e),I<lg.length-1&&g.push(", "),g)),[]):ng);let rg,ig=j;!o&&D&&Q&&(ig=$.clientWidth),rg=void 0!==H?H:s?null:0;const cg=Y.id||(B?`mui-component-select-${B}`:void 0),Ag=(0,c.Z)({},g,{variant:N,value:x,open:Ig,error:b}),dg=(g=>{const{classes:e,variant:I,disabled:t,multiple:n,open:l,error:C}=g,o={select:["select",I,t&&"disabled",n&&"multiple",C&&"error"],icon:["icon",`icon${(0,$g.Z)(I)}`,l&&"iconOpen",t&&"disabled"],nativeInput:["nativeInput"]};return(0,F.Z)(o,fa,e)})(Ag),sg=(0,c.Z)({},h.PaperProps,null==(t=h.slotProps)?void 0:t.paper);return(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)(Ya,(0,c.Z)({ref:q,tabIndex:rg,role:"button","aria-disabled":s?"true":void 0,"aria-expanded":Ig?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[G,cg].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:g=>{k||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(g.key)&&(g.preventDefault(),_(!0,g))},onMouseDown:s||k?null:g=>{0===g.button&&(g.preventDefault(),U.current.focus(),_(!0,g))},onBlur:g=>{!Ig&&S&&(Object.defineProperty(g,"target",{writable:!0,value:{value:x,name:B}}),S(g))},onFocus:v},Y,{ownerState:Ag,className:(0,W.Z)(Y.className,dg.select,r),id:cg,children:Fa(tg)?Xa||(Xa=(0,m.jsx)("span",{className:"notranslate",children:"​"})):tg})),(0,m.jsx)(wa,(0,c.Z)({"aria-invalid":b,value:Array.isArray(x)?x.join(","):x,name:B,ref:L,"aria-hidden":!0,onChange:g=>{const e=gg.find((e=>e.props.value===g.target.value));void 0!==e&&(z(e.props.value),V&&V(g,e))},tabIndex:-1,disabled:s,className:dg.nativeInput,autoFocus:C,ownerState:Ag},K)),(0,m.jsx)(Ha,{as:Z,className:dg.icon,ownerState:Ag}),(0,m.jsx)(Ga,(0,c.Z)({id:`menu-${B||""}`,anchorEl:$,open:Ig,onClose:g=>{_(!1,g)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},h,{MenuListProps:(0,c.Z)({"aria-labelledby":G,role:"listbox",disableListWrap:!0},h.MenuListProps),slotProps:{paper:(0,c.Z)({},sg,{style:(0,c.Z)({minWidth:ig},null!=sg?sg.style:null)})},children:ag}))]})}));var xa=Ka,za=(0,Ql.Z)((0,m.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");const Ma=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ea=["root"],La={name:"MuiSelect",overridesResolver:(g,e)=>e.root,shouldForwardProp:g=>(0,l.FO)(g)&&"variant"!==g,slot:"Root"},Ua=(0,l.ZP)(no,La)(""),Qa=(0,l.ZP)(So,La)(""),Ta=(0,l.ZP)(Ao,La)(""),Da=e.forwardRef((function(g,I){const t=(0,rg.Z)({name:"MuiSelect",props:g}),{autoWidth:n=!1,children:l,classes:C={},className:o,defaultOpen:a=!1,displayEmpty:r=!1,IconComponent:i=za,id:d,input:s,inputProps:u,label:b,labelId:Z,MenuProps:p,multiple:G=!1,native:h=!1,onClose:y,onOpen:B,open:S,renderValue:V,SelectDisplayProps:R,variant:f="outlined"}=t,X=(0,A.Z)(t,Ma),k=h?va:xa,J=RC({props:t,muiFormControl:Pl(),states:["variant","error"]}),Y=J.variant||f,H=(0,c.Z)({},t,{variant:Y,classes:C}),w=(g=>{const{classes:e}=g;return e})(H),N=(0,A.Z)(w,Ea),F=s||{standard:(0,m.jsx)(Ua,{ownerState:H}),outlined:(0,m.jsx)(Qa,{label:b,ownerState:H}),filled:(0,m.jsx)(Ta,{ownerState:H})}[Y],K=(0,Bg.Z)(I,F.ref);return(0,m.jsx)(e.Fragment,{children:e.cloneElement(F,(0,c.Z)({inputComponent:k,inputProps:(0,c.Z)({children:l,error:J.error,IconComponent:i,variant:Y,type:void 0,multiple:G},h?{id:d}:{autoWidth:n,defaultOpen:a,displayEmpty:r,labelId:Z,MenuProps:p,onClose:y,onOpen:B,open:S,renderValue:V,SelectDisplayProps:(0,c.Z)({id:d},R)},u,{classes:u?(0,v.Z)(N,u.classes):N},s?s.props.inputProps:{})},G&&h&&"outlined"===Y?{notched:!0}:{},{ref:K,className:(0,W.Z)(F.props.className,o,w.root)},!s&&{variant:Y},X))})}));Da.muiName="Select";var ja=Da;function Pa(g){return(0,fg.Z)("MuiTextField",g)}(0,vg.Z)("MuiTextField",["root"]);const Oa=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],qa={standard:no,filled:Ao,outlined:So},$a=(0,l.ZP)(xo,{name:"MuiTextField",slot:"Root",overridesResolver:(g,e)=>e.root})({});var _a=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiTextField"}),{autoComplete:t,autoFocus:n=!1,children:l,className:C,color:o="primary",defaultValue:a,disabled:r=!1,error:i=!1,FormHelperTextProps:d,fullWidth:s=!1,helperText:u,id:b,InputLabelProps:Z,inputProps:p,InputProps:G,inputRef:h,label:y,maxRows:B,minRows:S,multiline:V=!1,name:R,onBlur:v,onChange:f,onFocus:X,placeholder:k,required:J=!1,rows:Y,select:H=!1,SelectProps:w,type:N,value:K,variant:x="outlined"}=I,z=(0,A.Z)(I,Oa),M=(0,c.Z)({},I,{autoFocus:n,color:o,disabled:r,error:i,fullWidth:s,multiline:V,required:J,select:H,variant:x}),E=(g=>{const{classes:e}=g;return(0,F.Z)({root:["root"]},Pa,e)})(M),L={};"outlined"===x&&(Z&&void 0!==Z.shrink&&(L.notched=Z.shrink),L.label=y),H&&(w&&w.native||(L.id=void 0),L["aria-describedby"]=void 0);const U=(0,JC.Z)(b),Q=u&&U?`${U}-helper-text`:void 0,T=y&&U?`${U}-label`:void 0,D=qa[x],j=(0,m.jsx)(D,(0,c.Z)({"aria-describedby":Q,autoComplete:t,autoFocus:n,defaultValue:a,fullWidth:s,multiline:V,name:R,rows:Y,maxRows:B,minRows:S,type:N,value:K,id:U,inputRef:h,onBlur:v,onChange:f,onFocus:X,placeholder:k,inputProps:p},L,G));return(0,m.jsxs)($a,(0,c.Z)({className:(0,W.Z)(E.root,C),disabled:r,error:i,fullWidth:s,ref:e,required:J,color:o,variant:x,ownerState:M},z,{children:[null!=y&&""!==y&&(0,m.jsx)(Ho,(0,c.Z)({htmlFor:U,id:T},Z,{children:y})),H?(0,m.jsx)(ja,(0,c.Z)({"aria-describedby":Q,id:U,labelId:T,value:K,input:j},w,{children:l})):j,u&&(0,m.jsx)(Qo,(0,c.Z)({id:Q},d,{children:u}))]}))})),gr=e.createContext();function er(g){return(0,fg.Z)("MuiGrid",g)}const Ir=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],tr=(0,vg.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((g=>`spacing-xs-${g}`)),...["column-reverse","column","row-reverse","row"].map((g=>`direction-xs-${g}`)),...["nowrap","wrap-reverse","wrap"].map((g=>`wrap-xs-${g}`)),...Ir.map((g=>`grid-xs-${g}`)),...Ir.map((g=>`grid-sm-${g}`)),...Ir.map((g=>`grid-md-${g}`)),...Ir.map((g=>`grid-lg-${g}`)),...Ir.map((g=>`grid-xl-${g}`))]);var nr=tr;const lr=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Cr(g){const e=parseFloat(g);return`${e}${String(g).replace(String(e),"")||"px"}`}function or({breakpoints:g,values:e}){let I="";Object.keys(e).forEach((g=>{""===I&&0!==e[g]&&(I=g)}));const t=Object.keys(g).sort(((e,I)=>g[e]-g[I]));return t.slice(0,t.indexOf(I))}const ar=(0,l.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g,{container:t,direction:n,item:l,spacing:C,wrap:o,zeroMinWidth:a,breakpoints:r}=I;let i=[];t&&(i=function(g,e,I={}){if(!g||g<=0)return[];if("string"==typeof g&&!Number.isNaN(Number(g))||"number"==typeof g)return[I[`spacing-xs-${String(g)}`]];const t=[];return e.forEach((e=>{const n=g[e];Number(n)>0&&t.push(I[`spacing-${e}-${String(n)}`])})),t}(C,r,e));const c=[];return r.forEach((g=>{const t=I[g];t&&c.push(e[`grid-${g}-${String(t)}`])})),[e.root,t&&e.container,l&&e.item,a&&e.zeroMinWidth,...i,"row"!==n&&e[`direction-xs-${String(n)}`],"wrap"!==o&&e[`wrap-xs-${String(o)}`],...c]}})((({ownerState:g})=>(0,c.Z)({boxSizing:"border-box"},g.container&&{display:"flex",flexWrap:"wrap",width:"100%"},g.item&&{margin:0},g.zeroMinWidth&&{minWidth:0},"wrap"!==g.wrap&&{flexWrap:g.wrap})),(function({theme:g,ownerState:e}){const I=(0,uC.P$)({values:e.direction,breakpoints:g.breakpoints.values});return(0,uC.k9)({theme:g},I,(g=>{const e={flexDirection:g};return 0===g.indexOf("column")&&(e[`& > .${nr.item}`]={maxWidth:"none"}),e}))}),(function({theme:g,ownerState:e}){const{container:I,rowSpacing:t}=e;let n={};if(I&&0!==t){const e=(0,uC.P$)({values:t,breakpoints:g.breakpoints.values});let I;"object"==typeof e&&(I=or({breakpoints:g.breakpoints.values,values:e})),n=(0,uC.k9)({theme:g},e,((e,t)=>{var n;const l=g.spacing(e);return"0px"!==l?{marginTop:`-${Cr(l)}`,[`& > .${nr.item}`]:{paddingTop:Cr(l)}}:null!=(n=I)&&n.includes(t)?{}:{marginTop:0,[`& > .${nr.item}`]:{paddingTop:0}}}))}return n}),(function({theme:g,ownerState:e}){const{container:I,columnSpacing:t}=e;let n={};if(I&&0!==t){const e=(0,uC.P$)({values:t,breakpoints:g.breakpoints.values});let I;"object"==typeof e&&(I=or({breakpoints:g.breakpoints.values,values:e})),n=(0,uC.k9)({theme:g},e,((e,t)=>{var n;const l=g.spacing(e);return"0px"!==l?{width:`calc(100% + ${Cr(l)})`,marginLeft:`-${Cr(l)}`,[`& > .${nr.item}`]:{paddingLeft:Cr(l)}}:null!=(n=I)&&n.includes(t)?{}:{width:"100%",marginLeft:0,[`& > .${nr.item}`]:{paddingLeft:0}}}))}return n}),(function({theme:g,ownerState:e}){let I;return g.breakpoints.keys.reduce(((t,n)=>{let l={};if(e[n]&&(I=e[n]),!I)return t;if(!0===I)l={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===I)l={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const C=(0,uC.P$)({values:e.columns,breakpoints:g.breakpoints.values}),o="object"==typeof C?C[n]:C;if(null==o)return t;const a=Math.round(I/o*1e8)/1e6+"%";let r={};if(e.container&&e.item&&0!==e.columnSpacing){const I=g.spacing(e.columnSpacing);if("0px"!==I){const g=`calc(${a} + ${Cr(I)})`;r={flexBasis:g,maxWidth:g}}}l=(0,c.Z)({flexBasis:a,flexGrow:0,maxWidth:a},r)}return 0===g.breakpoints.values[n]?Object.assign(t,l):t[g.breakpoints.up(n)]=l,t}),{})})),rr=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiGrid"}),{breakpoints:n}=r(),l=k(t),{className:C,columns:o,columnSpacing:a,component:i="div",container:d=!1,direction:s="row",item:u=!1,rowSpacing:b,spacing:Z=0,wrap:p="wrap",zeroMinWidth:G=!1}=l,h=(0,A.Z)(l,lr),y=b||Z,B=a||Z,S=e.useContext(gr),V=d?o||12:S,R={},v=(0,c.Z)({},h);n.keys.forEach((g=>{null!=h[g]&&(R[g]=h[g],delete v[g])}));const f=(0,c.Z)({},l,{columns:V,container:d,direction:s,item:u,rowSpacing:y,columnSpacing:B,wrap:p,zeroMinWidth:G,spacing:Z},R,{breakpoints:n.keys}),X=(g=>{const{classes:e,container:I,direction:t,item:n,spacing:l,wrap:C,zeroMinWidth:o,breakpoints:a}=g;let r=[];I&&(r=function(g,e){if(!g||g<=0)return[];if("string"==typeof g&&!Number.isNaN(Number(g))||"number"==typeof g)return[`spacing-xs-${String(g)}`];const I=[];return e.forEach((e=>{const t=g[e];if(Number(t)>0){const g=`spacing-${e}-${String(t)}`;I.push(g)}})),I}(l,a));const i=[];a.forEach((e=>{const I=g[e];I&&i.push(`grid-${e}-${String(I)}`)}));const c={root:["root",I&&"container",n&&"item",o&&"zeroMinWidth",...r,"row"!==t&&`direction-xs-${String(t)}`,"wrap"!==C&&`wrap-xs-${String(C)}`,...i]};return(0,F.Z)(c,er,e)})(f);return(0,m.jsx)(gr.Provider,{value:V,children:(0,m.jsx)(ar,(0,c.Z)({ownerState:f,className:(0,W.Z)(X.root,C),as:i,ref:I},v))})}));var ir,cr=rr,Ar=n(5697),dr=n.n(Ar);function sr(g,e){var I={};for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&e.indexOf(t)<0&&(I[t]=g[t]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(g);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(g,t[n])&&(I[t[n]]=g[t[n]])}return I}function ur(){}function mr(g){return!!(g||"").match(/\d/)}function br(g){return null==g}function Zr(g){return br(g)||function(g){return"number"==typeof g&&isNaN(g)}(g)||"number"==typeof g&&!isFinite(g)}function pr(g){return g.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Gr(g,e){void 0===e&&(e=!0);var I="-"===g[0],t=I&&e,n=(g=g.replace("-","")).split(".");return{beforeDecimal:n[0],afterDecimal:n[1]||"",hasNegation:I,addNegation:t}}function hr(g,e,I){for(var t="",n=I?"0":"",l=0;l<=e-1;l++)t+=g[l]||n;return t}function yr(g,e){return Array(e+1).join(g)}function Br(g){var e=g+"",I="-"===e[0]?"-":"";I&&(e=e.substring(1));var t=e.split(/[eE]/g),n=t[0],l=t[1];if(!(l=Number(l)))return I+n;var C=1+l,o=(n=n.replace(".","")).length;return C<0?n="0."+yr("0",Math.abs(C))+n:C>=o?n+=yr("0",C-o):n=(n.substring(0,C)||"0")+"."+n.substring(C),I+n}function Sr(g,e,I){if(-1!==["","-"].indexOf(g))return g;var t=(-1!==g.indexOf(".")||I)&&e,n=Gr(g),l=n.beforeDecimal,C=n.afterDecimal,o=n.hasNegation,a=parseFloat("0."+(C||"0")),r=(C.length<=e?"0."+C:a.toFixed(e)).split(".");return(o?"-":"")+l.split("").reverse().reduce((function(g,e,I){return g.length>I?(Number(g[0])+Number(e)).toString()+g.substring(1,g.length):e+g}),r[0])+(t?".":"")+hr(r[1]||"",e,I)}function Wr(g,e){if(g.value=g.value,null!==g){if(g.createTextRange){var I=g.createTextRange();return I.move("character",e),I.select(),!0}return g.selectionStart||0===g.selectionStart?(g.focus(),g.setSelectionRange(e,e),!0):(g.focus(),!1)}}!function(g){g.event="event",g.props="prop"}(ir||(ir={}));var Vr,Rr,vr,fr=(Vr=function(g,e){for(var I=0,t=0,n=g.length,l=e.length;g[I]===e[I]&&I<n;)I++;for(;g[n-1-t]===e[l-1-t]&&l-t>I&&n-t>I;)t++;return{from:{start:I,end:n-t},to:{start:I,end:l-t}}},vr=void 0,function(){for(var g=[],e=arguments.length;e--;)g[e]=arguments[e];return Rr&&g.length===Rr.length&&g.every((function(g,e){return g===Rr[e]}))?vr:(Rr=g,vr=Vr.apply(void 0,g))});function Xr(g){return Math.max(g.selectionStart,g.selectionEnd)}function kr(g){var e=g.currentValue,I=g.formattedValue,t=g.currentValueIndex,n=g.formattedValueIndex;return e[t]===I[n]}function Jr(g,e,I,t){var n,l,C=g.length;if(n=e,0,l=C,e=Math.min(Math.max(n,0),l),"left"===t){for(;e>=0&&!I[e];)e--;-1===e&&(e=I.indexOf(!0))}else{for(;e<=C&&!I[e];)e++;e>C&&(e=I.lastIndexOf(!0))}return-1===e&&(e=C),e}function Yr(g){for(var e=Array.from({length:g.length+1}).map((function(){return!0})),I=0,t=e.length;I<t;I++)e[I]=Boolean(mr(g[I])||mr(g[I-1]));return e}function Hr(g,I,t,n,l,C){void 0===C&&(C=ur);var o=function(g){var I=(0,e.useRef)(g);I.current=g;var t=(0,e.useRef)((function(){for(var g=[],e=arguments.length;e--;)g[e]=arguments[e];return I.current.apply(I,g)}));return t.current}((function(g,e){var I,t;return Zr(g)?(t="",I=""):"number"==typeof g||e?(t="number"==typeof g?Br(g):g,I=n(t)):(t=l(g,void 0),I=n(t)),{formattedValue:I,numAsString:t}})),a=(0,e.useState)((function(){return o(br(g)?I:g,t)})),r=a[0],i=a[1],c=g,A=t;br(g)&&(c=r.numAsString,A=!0);var d=o(c,A);return(0,e.useMemo)((function(){i(d)}),[d.formattedValue]),[r,function(g,e){g.formattedValue!==r.formattedValue&&i({formattedValue:g.formattedValue,numAsString:g.value}),C(g,e)}]}function wr(g){return g.replace(/[^0-9]/g,"")}function Nr(g){return g}function Fr(g){var I=g.type;void 0===I&&(I="text");var t=g.displayType;void 0===t&&(t="input");var n=g.customInput,l=g.renderText,C=g.getInputRef,o=g.format;void 0===o&&(o=Nr);var a=g.removeFormatting;void 0===a&&(a=wr);var r=g.defaultValue,i=g.valueIsNumericString,c=g.onValueChange,A=g.isAllowed,d=g.onChange;void 0===d&&(d=ur);var s=g.onKeyDown;void 0===s&&(s=ur);var u=g.onMouseUp;void 0===u&&(u=ur);var m=g.onFocus;void 0===m&&(m=ur);var b=g.onBlur;void 0===b&&(b=ur);var Z=g.value,p=g.getCaretBoundary;void 0===p&&(p=Yr);var G=g.isValidInputCharacter;void 0===G&&(G=mr);var h=g.isCharacterSame,y=sr(g,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),B=Hr(Z,r,Boolean(i),o,a,c),S=B[0],W=S.formattedValue,V=S.numAsString,R=B[1],v=(0,e.useRef)({formattedValue:W,numAsString:V}),f=function(g,e){v.current={formattedValue:g.formattedValue,numAsString:g.value},R(g,e)},X=(0,e.useState)(!1),k=X[0],J=X[1],Y=(0,e.useRef)(null),H=(0,e.useRef)({setCaretTimeout:null,focusTimeout:null});(0,e.useEffect)((function(){return J(!0),function(){clearTimeout(H.current.setCaretTimeout),clearTimeout(H.current.focusTimeout)}}),[]);var w=o,N=function(g,e){var I=parseFloat(e);return{formattedValue:g,value:e,floatValue:isNaN(I)?void 0:I}},F=function(g,e,I){0===g.selectionStart&&g.selectionEnd===g.value.length||(Wr(g,e),H.current.setCaretTimeout=setTimeout((function(){g.value===I&&g.selectionStart!==g.selectionEnd&&Wr(g,e)}),0))},K=function(g,e,I){return Jr(g,e,p(g),I)},x=function(g,e,I){var t=p(e),n=function(g,e,I,t,n,l,C){void 0===C&&(C=kr);var o=n.findIndex((function(g){return g})),a=g.slice(0,o);e||I.startsWith(a)||(e=a,I=a+I,t+=a.length);for(var r=I.length,i=g.length,c={},A=new Array(r),d=0;d<r;d++){A[d]=-1;for(var s=0,u=i;s<u;s++)if(C({currentValue:I,lastValue:e,formattedValue:g,currentValueIndex:d,formattedValueIndex:s})&&!0!==c[s]){A[d]=s,c[s]=!0;break}}for(var m=t;m<r&&(-1===A[m]||!l(I[m]));)m++;var b=m===r||-1===A[m]?i:A[m];for(m=t-1;m>0&&-1===A[m];)m--;var Z=-1===m||-1===A[m]?0:A[m]+1;return Z>b?b:t-Z<b-t?Z:b}(e,W,g,I,t,G,h);return Jr(e,n,t)};(0,e.useEffect)((function(){var g=v.current,e=g.formattedValue,I=g.numAsString;W===e||W===V&&e===I||f(N(W,V),{event:void 0,source:ir.props})}),[W,V]);var z=Y.current?Xr(Y.current):void 0;("undefined"!=typeof window?e.useLayoutEffect:e.useEffect)((function(){var g=Y.current;if(W!==v.current.formattedValue&&g){var e=x(v.current.formattedValue,W,z);g.value=W,F(g,e,W)}}),[W]);var M=!k||"undefined"==typeof navigator||navigator.platform&&/iPhone|iPod/.test(navigator.platform)?void 0:"numeric",E=Object.assign({inputMode:M},y,{type:I,value:W,onChange:function(g){(function(g,e,I){var t=fr(W,g),n=Object.assign(Object.assign({},t),{lastValue:W}),l=a(g,n),C=w(l);if(l=a(C,void 0),A&&!A(N(C,l))){var o=e.target,r=Xr(o),i=x(g,W,r);return o.value=W,F(o,i,W),!1}return function(g){var e=g.formattedValue;void 0===e&&(e="");var I=g.input,t=g.setCaretPosition;void 0===t&&(t=!0);var n=g.source,l=g.event,C=g.numAsString,o=g.caretPos;if(I){if(void 0===o&&t){var a=g.inputValue||I.value,r=Xr(I);I.value=e,o=x(a,e,r)}I.value=e,t&&void 0!==o&&F(I,o,e)}e!==W&&f(N(e,C),{event:l,source:n})}({formattedValue:C,numAsString:l,inputValue:g,event:e,source:I,setCaretPosition:!0,input:e.target}),!0})(g.target.value,g,ir.event)&&d(g)},onKeyDown:function(g){var e,I=g.target,t=g.key,n=I.selectionStart,l=I.selectionEnd,C=I.value;if(void 0===C&&(C=""),"ArrowLeft"===t||"Backspace"===t?e=Math.max(n-1,0):"ArrowRight"===t?e=Math.min(n+1,C.length):"Delete"===t&&(e=n),void 0!==e&&n===l){var o=e;"ArrowLeft"===t||"ArrowRight"===t?(o=K(C,e,"ArrowLeft"===t?"left":"right"))!==e&&g.preventDefault():"Delete"!==t||G(C[e])?"Backspace"!==t||G(C[e])||(o=K(C,e,"left")):o=K(C,e,"right"),o!==e&&F(I,o,C),g.isUnitTestRun&&F(I,o,C),s(g)}else s(g)},onMouseUp:function(g){var e=g.target,I=e.selectionStart,t=e.selectionEnd,n=e.value;if(void 0===n&&(n=""),I===t){var l=K(n,I);l!==I&&F(e,l,n)}u(g)},onFocus:function(g){g.persist&&g.persist();var e=g.target;Y.current=e,H.current.focusTimeout=setTimeout((function(){var I=e.selectionStart,t=e.selectionEnd,n=e.value;void 0===n&&(n="");var l=K(n,I);l===I||0===I&&t===n.length||F(e,l,n),m(g)}),0)},onBlur:function(g){Y.current=null,clearTimeout(H.current.focusTimeout),clearTimeout(H.current.setCaretTimeout),b(g)}});if("text"===t)return l?e.createElement(e.Fragment,null,l(W,y)||null):e.createElement("span",Object.assign({},y,{ref:C}),W);if(n){var L=n;return e.createElement(L,Object.assign({},E,{ref:C}))}return e.createElement("input",Object.assign({},E,{ref:C}))}function Kr(g,e){var I=e.decimalScale,t=e.fixedDecimalScale,n=e.prefix;void 0===n&&(n="");var l=e.suffix;void 0===l&&(l="");var C=e.allowNegative,o=e.thousandsGroupStyle;if(void 0===o&&(o="thousand"),""===g||"-"===g)return g;var a=xr(e),r=a.thousandSeparator,i=a.decimalSeparator,c=0!==I&&-1!==g.indexOf(".")||I&&t,A=Gr(g,C),d=A.beforeDecimal,s=A.afterDecimal,u=A.addNegation;return void 0!==I&&(s=hr(s,I,!!t)),r&&(d=function(g,e,I){var t=function(g){switch(g){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(I),n=g.search(/[1-9]/);return n=-1===n?g.length:n,g.substring(0,n)+g.substring(n,g.length).replace(t,"$1"+e)}(d,r,o)),n&&(d=n+d),l&&(s+=l),u&&(d="-"+d),d+(c&&i||"")+s}function xr(g){var e=g.decimalSeparator;void 0===e&&(e=".");var I=g.thousandSeparator,t=g.allowedDecimalSeparators;return!0===I&&(I=","),t||(t=[e,"."]),{decimalSeparator:e,thousandSeparator:I,allowedDecimalSeparators:t}}function zr(g){g=function(g){var e=xr(g),I=e.thousandSeparator,t=e.decimalSeparator,n=g.prefix;void 0===n&&(n="");var l=g.allowNegative;if(void 0===l&&(l=!0),I===t)throw new Error("\n        Decimal separator can't be same as thousand separator.\n        thousandSeparator: "+I+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n        decimalSeparator: '+t+" (default value for decimalSeparator is .)\n     ");return n.startsWith("-")&&l&&(console.error("\n      Prefix can't start with '-' when allowNegative is true.\n      prefix: "+n+"\n      allowNegative: "+l+"\n    "),l=!1),Object.assign(Object.assign({},g),{allowNegative:l})}(g),g.decimalSeparator,g.allowedDecimalSeparators,g.thousandsGroupStyle;var e=g.suffix,I=g.allowNegative,t=g.allowLeadingZeros,n=g.onKeyDown;void 0===n&&(n=ur);var l=g.onBlur;void 0===l&&(l=ur);var C=g.thousandSeparator,o=g.decimalScale,a=g.fixedDecimalScale,r=g.prefix;void 0===r&&(r="");var i=g.defaultValue,c=g.value,A=g.valueIsNumericString,d=g.onValueChange,s=sr(g,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),u=xr(g),m=u.decimalSeparator,b=u.allowedDecimalSeparators,Z=function(e){return Kr(e,g)},p=function(e,I){return function(g,e,I){var t;void 0===e&&(e=function(g){return{from:{start:0,end:0},to:{start:0,end:g.length},lastValue:""}}(g));var n=I.allowNegative,l=I.prefix;void 0===l&&(l="");var C=I.suffix;void 0===C&&(C="");var o=I.decimalScale,a=e.from,r=e.to,i=r.start,c=r.end,A=xr(I),d=A.allowedDecimalSeparators,s=A.decimalSeparator,u=g[c]===s;if(mr(g)&&(g===l||g===C)&&""===e.lastValue)return g;if(c-i==1&&-1!==d.indexOf(g[i])){var m=0===o?"":s;g=g.substring(0,i)+m+g.substring(i+1,g.length)}var b=function(g,e,I){var t=!1,n=!1;l.startsWith("-")?t=!1:g.startsWith("--")?(t=!1,n=!0):C.startsWith("-")&&g.length===C.length?t=!1:"-"===g[0]&&(t=!0);var o=t?1:0;return n&&(o=2),o&&(g=g.substring(o),e-=o,I-=o),{value:g,start:e,end:I,hasNegation:t}},Z=b(g,i,c),p=Z.hasNegation;g=(t=Z).value,i=t.start,c=t.end;var G=b(e.lastValue,a.start,a.end),h=G.start,y=G.end,B=G.value,S=g.substring(i,c);!(g.length&&B.length&&(h>B.length-C.length||y<l.length))||S&&C.startsWith(S)||(g=B);var W=0;g.startsWith(l)?W+=l.length:i<l.length&&(W=i),c-=W;var V=(g=g.substring(W)).length,R=g.length-C.length;g.endsWith(C)?V=R:(c>R||c>g.length-C.length)&&(V=c),g=g.substring(0,V),g=function(g,e){void 0===g&&(g="");var I=new RegExp("(-)"),t=new RegExp("(-)(.)*(-)"),n=I.test(g),l=t.test(g);return g=g.replace(/-/g,""),n&&!l&&e&&(g="-"+g),g}(p?"-"+g:g,n),g=(g.match(function(g,e){return new RegExp("(^-)|[0-9]|"+pr(g),"g")}(s))||[]).join("");var v=g.indexOf(s),f=Gr(g=g.replace(new RegExp(pr(s),"g"),(function(g,e){return e===v?".":""})),n),X=f.beforeDecimal,k=f.afterDecimal,J=f.addNegation;return r.end-r.start<a.end-a.start&&""===X&&u&&!parseFloat(k)&&(g=J?"-":""),g}(e,I,g)},G=br(c)?i:c,h=null!=A?A:function(g,e,I){return""===g||!(null==e?void 0:e.match(/\d/))&&!(null==I?void 0:I.match(/\d/))&&"string"==typeof g&&!isNaN(Number(g))}(G,r,e);br(c)?br(i)||(h=h||"number"==typeof i):h=h||"number"==typeof c;var y=function(g){return Zr(g)?g:("number"==typeof g&&(g=Br(g)),h&&"number"==typeof o?Sr(g,o,Boolean(a)):g)},B=Hr(y(c),y(i),Boolean(h),Z,p,d),S=B[0],W=S.numAsString,V=S.formattedValue,R=B[1];return Object.assign(Object.assign({},s),{value:V,valueIsNumericString:!1,isValidInputCharacter:function(g){return g===m||mr(g)},isCharacterSame:function(g){var e=g.currentValue,I=g.lastValue,t=g.formattedValue,n=g.currentValueIndex,l=g.formattedValueIndex,C=e[n],o=t[l],a=fr(I,e).to;return!!(n>=a.start&&n<a.end&&b&&b.includes(C)&&o===m)||C===o},onValueChange:R,format:Z,removeFormatting:p,getCaretBoundary:function(e){return function(g,e){var I=e.prefix;void 0===I&&(I="");var t=e.suffix;void 0===t&&(t="");var n=Array.from({length:g.length+1}).map((function(){return!0})),l="-"===g[0];n.fill(!1,0,I.length+(l?1:0));var C=g.length;return n.fill(!1,C-t.length+1,C+1),n}(e,g)},onKeyDown:function(g){var e=g.target,t=g.key,l=e.selectionStart,i=e.selectionEnd,c=e.value;if(void 0===c&&(c=""),l===i){"Backspace"===t&&"-"===c[0]&&l===r.length+1&&I&&Wr(e,1),o&&a&&("Backspace"===t&&c[l-1]===m?(Wr(e,l-1),g.preventDefault()):"Delete"===t&&c[l]===m&&g.preventDefault()),(null==b?void 0:b.includes(t))&&c[l]===m&&Wr(e,l+1);var A=!0===C?",":C;"Backspace"===t&&c[l-1]===A&&Wr(e,l-1),"Delete"===t&&c[l]===A&&Wr(e,l+1),n(g)}else n(g)},onBlur:function(e){var I=W;if(I.match(/\d/g)||(I=""),t||(I=function(g){if(!g)return g;var e="-"===g[0];e&&(g=g.substring(1,g.length));var I=g.split("."),t=I[0].replace(/^0+/,"")||"0",n=I[1]||"";return(e?"-":"")+t+(n?"."+n:"")}(I)),a&&o&&(I=Sr(I,o,a)),I!==W){var n=Kr(I,g);R({formattedValue:n,value:I,floatValue:parseFloat(I)},{event:e,source:ir.event})}l(e)}})}function Mr(g){var I=zr(g);return e.createElement(Fr,Object.assign({},I))}var Er=n(9032),Lr=n(9962),Ur={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Qr(g,e){return g-e}function Tr(g,e,I){return null==g?e:Math.min(Math.max(e,g),I)}function Dr(g,e){var I;const{index:t}=null!=(I=g.reduce(((g,I,t)=>{const n=Math.abs(e-I);return null===g||n<g.distance||n===g.distance?{distance:n,index:t}:g}),null))?I:{};return t}function jr(g,e){if(void 0!==e.current&&g.changedTouches){const I=g;for(let g=0;g<I.changedTouches.length;g+=1){const t=I.changedTouches[g];if(t.identifier===e.current)return{x:t.clientX,y:t.clientY}}return!1}return{x:g.clientX,y:g.clientY}}function Pr(g,e,I){return 100*(g-e)/(I-e)}function Or({values:g,newValue:e,index:I}){const t=g.slice();return t[I]=e,t.sort(Qr)}function qr({sliderRef:g,activeIndex:e,setActive:I}){var t,n;const l=(0,Q.Z)(g.current);var C;null!=(t=g.current)&&t.contains(l.activeElement)&&Number(null==l||null==(n=l.activeElement)?void 0:n.getAttribute("data-index"))===e||null==(C=g.current)||C.querySelector(`[type="range"][data-index="${e}"]`).focus(),I&&I(e)}function $r(g,e){return"number"==typeof g&&"number"==typeof e?g===e:"object"==typeof g&&"object"==typeof e&&function(g,e,I=((g,e)=>g===e)){return g.length===e.length&&g.every(((g,t)=>I(g,e[t])))}(g,e)}const _r={horizontal:{offset:g=>({left:`${g}%`}),leap:g=>({width:`${g}%`})},"horizontal-reverse":{offset:g=>({right:`${g}%`}),leap:g=>({width:`${g}%`})},vertical:{offset:g=>({bottom:`${g}%`}),leap:g=>({height:`${g}%`})}},gi=g=>g;let ei;function Ii(){return void 0===ei&&(ei="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),ei}function ti(g){const{"aria-labelledby":I,defaultValue:t,disabled:n=!1,disableSwap:l=!1,isRtl:C=!1,marks:o=!1,max:a=100,min:r=0,name:i,onChange:A,onChangeCommitted:d,orientation:s="horizontal",rootRef:u,scale:m=gi,step:b=1,tabIndex:Z,value:p}=g,G=e.useRef(),[h,y]=e.useState(-1),[B,S]=e.useState(-1),[W,V]=e.useState(!1),R=e.useRef(0),[v,f]=(0,Er.Z)({controlled:p,default:null!=t?t:r,name:"Slider"}),X=A&&((g,e,I)=>{const t=g.nativeEvent||g,n=new t.constructor(t.type,t);Object.defineProperty(n,"target",{writable:!0,value:{value:e,name:i}}),A(n,e,I)}),k=Array.isArray(v);let J=k?v.slice().sort(Qr):[v];J=J.map((g=>Tr(g,r,a)));const Y=!0===o&&null!==b?[...Array(Math.floor((a-r)/b)+1)].map(((g,e)=>({value:r+b*e}))):o||[],H=Y.map((g=>g.value)),{isFocusVisibleRef:w,onBlur:N,onFocus:F,ref:x}=(0,Lr.Z)(),[z,M]=e.useState(-1),E=e.useRef(),L=(0,K.Z)(x,E),U=(0,K.Z)(u,L),D=g=>e=>{var I;const t=Number(e.currentTarget.getAttribute("data-index"));F(e),!0===w.current&&M(t),S(t),null==g||null==(I=g.onFocus)||I.call(g,e)},j=g=>e=>{var I;N(e),!1===w.current&&M(-1),S(-1),null==g||null==(I=g.onBlur)||I.call(g,e)};(0,Cg.Z)((()=>{var g;n&&E.current.contains(document.activeElement)&&(null==(g=document.activeElement)||g.blur())}),[n]),n&&-1!==h&&y(-1),n&&-1!==z&&M(-1);const P=g=>e=>{var I;null==(I=g.onChange)||I.call(g,e);const t=Number(e.currentTarget.getAttribute("data-index")),n=J[t],C=H.indexOf(n);let o=e.target.valueAsNumber;if(Y&&null==b){const g=H[H.length-1];o=o>g?g:o<H[0]?H[0]:o<n?H[C-1]:H[C+1]}if(o=Tr(o,r,a),k){l&&(o=Tr(o,J[t-1]||-1/0,J[t+1]||1/0));const g=o;o=Or({values:J,newValue:o,index:t});let e=t;l||(e=o.indexOf(g)),qr({sliderRef:E,activeIndex:e})}f(o),M(t),X&&!$r(o,v)&&X(e,o,t),d&&d(e,o)},O=e.useRef();let q=s;C&&"horizontal"===s&&(q+="-reverse");const $=({finger:g,move:e=!1})=>{const{current:I}=E,{width:t,height:n,bottom:C,left:o}=I.getBoundingClientRect();let i,c;if(i=0===q.indexOf("vertical")?(C-g.y)/n:(g.x-o)/t,-1!==q.indexOf("-reverse")&&(i=1-i),c=function(g,e,I){return(I-e)*g+e}(i,r,a),b)c=function(g,e,I){const t=Math.round((g-I)/e)*e+I;return Number(t.toFixed(function(g){if(Math.abs(g)<1){const e=g.toExponential().split("e-"),I=e[0].split(".")[1];return(I?I.length:0)+parseInt(e[1],10)}const e=g.toString().split(".")[1];return e?e.length:0}(e)))}(c,b,r);else{const g=Dr(H,c);c=H[g]}c=Tr(c,r,a);let A=0;if(k){A=e?O.current:Dr(J,c),l&&(c=Tr(c,J[A-1]||-1/0,J[A+1]||1/0));const g=c;c=Or({values:J,newValue:c,index:A}),l&&e||(A=c.indexOf(g),O.current=A)}return{newValue:c,activeIndex:A}},_=(0,T.Z)((g=>{const e=jr(g,G);if(!e)return;if(R.current+=1,"mousemove"===g.type&&0===g.buttons)return void gg(g);const{newValue:I,activeIndex:t}=$({finger:e,move:!0});qr({sliderRef:E,activeIndex:t,setActive:y}),f(I),!W&&R.current>2&&V(!0),X&&!$r(I,v)&&X(g,I,t)})),gg=(0,T.Z)((g=>{const e=jr(g,G);if(V(!1),!e)return;const{newValue:I}=$({finger:e,move:!0});y(-1),"touchend"===g.type&&S(-1),d&&d(g,I),G.current=void 0,Ig()})),eg=(0,T.Z)((g=>{if(n)return;Ii()||g.preventDefault();const e=g.changedTouches[0];null!=e&&(G.current=e.identifier);const I=jr(g,G);if(!1!==I){const{newValue:e,activeIndex:t}=$({finger:I});qr({sliderRef:E,activeIndex:t,setActive:y}),f(e),X&&!$r(e,v)&&X(g,e,t)}R.current=0;const t=(0,Q.Z)(E.current);t.addEventListener("touchmove",_),t.addEventListener("touchend",gg)})),Ig=e.useCallback((()=>{const g=(0,Q.Z)(E.current);g.removeEventListener("mousemove",_),g.removeEventListener("mouseup",gg),g.removeEventListener("touchmove",_),g.removeEventListener("touchend",gg)}),[gg,_]);e.useEffect((()=>{const{current:g}=E;return g.addEventListener("touchstart",eg,{passive:Ii()}),()=>{g.removeEventListener("touchstart",eg,{passive:Ii()}),Ig()}}),[Ig,eg]),e.useEffect((()=>{n&&Ig()}),[n,Ig]);const tg=g=>e=>{var I;if(null==(I=g.onMouseDown)||I.call(g,e),n)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const t=jr(e,G);if(!1!==t){const{newValue:g,activeIndex:I}=$({finger:t});qr({sliderRef:E,activeIndex:I,setActive:y}),f(g),X&&!$r(g,v)&&X(e,g,I)}R.current=0;const l=(0,Q.Z)(E.current);l.addEventListener("mousemove",_),l.addEventListener("mouseup",gg)},ng=Pr(k?J[0]:r,r,a),lg=Pr(J[J.length-1],r,a)-ng,og=g=>e=>{var I;null==(I=g.onMouseOver)||I.call(g,e);const t=Number(e.currentTarget.getAttribute("data-index"));S(t)},ag=g=>e=>{var I;null==(I=g.onMouseLeave)||I.call(g,e),S(-1)};return{active:h,axis:q,axisProps:_r,dragging:W,focusedThumbIndex:z,getHiddenInputProps:(e={})=>{var t;const l={onChange:P(e||{}),onFocus:D(e||{}),onBlur:j(e||{})},o=(0,c.Z)({},e,l);return(0,c.Z)({tabIndex:Z,"aria-labelledby":I,"aria-orientation":s,"aria-valuemax":m(a),"aria-valuemin":m(r),name:i,type:"range",min:g.min,max:g.max,step:null===g.step&&g.marks?"any":null!=(t=g.step)?t:void 0,disabled:n},o,{style:(0,c.Z)({},Ur,{direction:C?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(g={})=>{const e={onMouseDown:tg(g||{})},I=(0,c.Z)({},g,e);return(0,c.Z)({ref:U},I)},getThumbProps:(g={})=>{const e={onMouseOver:og(g||{}),onMouseLeave:ag(g||{})};return(0,c.Z)({},g,e)},marks:Y,open:B,range:k,rootRef:U,trackLeap:lg,trackOffset:ng,values:J,getThumbStyle:g=>({pointerEvents:-1!==h&&h!==g?"none":void 0})}}function ni(g){return(0,fg.Z)("MuiSlider",g)}var li=(0,vg.Z)("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const Ci=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function oi(g){return g}const ai=(0,l.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[`color${(0,$g.Z)(I.color)}`],"medium"!==I.size&&e[`size${(0,$g.Z)(I.size)}`],I.marked&&e.marked,"vertical"===I.orientation&&e.vertical,"inverted"===I.track&&e.trackInverted,!1===I.track&&e.trackFalse]}})((({theme:g,ownerState:e})=>(0,c.Z)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(g.vars||g).palette[e.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===e.orientation&&(0,c.Z)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===e.size&&{height:2},e.marked&&{marginBottom:20}),"vertical"===e.orientation&&(0,c.Z)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===e.size&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${li.disabled}`]:{pointerEvents:"none",cursor:"default",color:(g.vars||g).palette.grey[400]},[`&.${li.dragging}`]:{[`& .${li.thumb}, & .${li.track}`]:{transition:"none"}}}))),ri=(0,l.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(g,e)=>e.rail})((({ownerState:g})=>(0,c.Z)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===g.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===g.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===g.track&&{opacity:1}))),ii=(0,l.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(g,e)=>e.track})((({theme:g,ownerState:e})=>{const I="light"===g.palette.mode?(0,Tg.$n)(g.palette[e.color].main,.62):(0,Tg._j)(g.palette[e.color].main,.5);return(0,c.Z)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:g.transitions.create(["left","width","bottom","height"],{duration:g.transitions.duration.shortest})},"small"===e.size&&{border:"none"},"horizontal"===e.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===e.track&&{display:"none"},"inverted"===e.track&&{backgroundColor:g.vars?g.vars.palette.Slider[`${e.color}Track`]:I,borderColor:g.vars?g.vars.palette.Slider[`${e.color}Track`]:I})})),ci=(0,l.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.thumb,e[`thumbColor${(0,$g.Z)(I.color)}`],"medium"!==I.size&&e[`thumbSize${(0,$g.Z)(I.size)}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:g.transitions.create(["box-shadow","left","bottom"],{duration:g.transitions.duration.shortest})},"small"===e.size&&{width:12,height:12},"horizontal"===e.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===e.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":(0,c.Z)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(g.vars||g).shadows[2]},"small"===e.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${li.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / 0.16)`:(0,Tg.Fq)(g.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${li.active}`]:{boxShadow:`0px 0px 0px 14px ${g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / 0.16)`:(0,Tg.Fq)(g.palette[e.color].main,.16)}`},[`&.${li.disabled}`]:{"&:hover":{boxShadow:"none"}}}))),Ai=(0,l.ZP)((function(g){const{children:I,className:t,value:n}=g,l=(g=>{const{open:e}=g;return{offset:(0,W.Z)(e&&li.valueLabelOpen),circle:li.valueLabelCircle,label:li.valueLabelLabel}})(g);return I?e.cloneElement(I,{className:(0,W.Z)(I.props.className)},(0,m.jsxs)(e.Fragment,{children:[I.props.children,(0,m.jsx)("span",{className:(0,W.Z)(l.offset,t),"aria-hidden":!0,children:(0,m.jsx)("span",{className:l.circle,children:(0,m.jsx)("span",{className:l.label,children:n})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(g,e)=>e.valueLabel})((({theme:g,ownerState:e})=>(0,c.Z)({[`&.${li.valueLabelOpen}`]:{transform:("vertical"===e.orientation?"translateY(-50%)":"translateY(-100%)")+" scale(1)"},zIndex:1,whiteSpace:"nowrap"},g.typography.body2,{fontWeight:500,transition:g.transitions.create(["transform"],{duration:g.transitions.duration.shortest}),transform:("vertical"===e.orientation?"translateY(-50%)":"translateY(-100%)")+" scale(0)",position:"absolute",backgroundColor:(g.vars||g).palette.grey[600],borderRadius:2,color:(g.vars||g).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===e.orientation&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===e.orientation&&{right:"small"===e.size?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},"small"===e.size&&{fontSize:g.typography.pxToRem(12),padding:"0.25rem 0.5rem"}))),di=(0,l.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:g=>(0,l.Dz)(g)&&"markActive"!==g,overridesResolver:(g,e)=>{const{markActive:I}=g;return[e.mark,I&&e.markActive]}})((({theme:g,ownerState:e,markActive:I})=>(0,c.Z)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===e.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===e.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},I&&{backgroundColor:(g.vars||g).palette.background.paper,opacity:.8}))),si=(0,l.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:g=>(0,l.Dz)(g)&&"markLabelActive"!==g,overridesResolver:(g,e)=>e.markLabel})((({theme:g,ownerState:e,markLabelActive:I})=>(0,c.Z)({},g.typography.body2,{color:(g.vars||g).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===e.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===e.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},I&&{color:(g.vars||g).palette.text.primary}))),ui=({children:g})=>g,mi=e.forwardRef((function(g,I){var t,n,l,C,o,a,i,d,s,u,b,Z,p,G,h,y,B,S,V,R,v,f,X,k;const J=(0,rg.Z)({props:g,name:"MuiSlider"}),Y="rtl"===r().direction,{"aria-label":H,"aria-valuetext":w,"aria-labelledby":N,component:K="span",components:z={},componentsProps:M={},color:E="primary",classes:L,className:Q,disableSwap:T=!1,disabled:D=!1,getAriaLabel:j,getAriaValueText:P,marks:O=!1,max:q=100,min:$=0,orientation:_="horizontal",size:gg="medium",step:eg=1,scale:Ig=oi,slotProps:tg,slots:ng,track:lg="normal",valueLabelDisplay:Cg="off",valueLabelFormat:og=oi}=J,ag=(0,A.Z)(J,Ci),ig=(0,c.Z)({},J,{isRtl:Y,max:q,min:$,classes:L,disabled:D,disableSwap:T,orientation:_,marks:O,color:E,size:gg,step:eg,scale:Ig,track:lg,valueLabelDisplay:Cg,valueLabelFormat:og}),{axisProps:cg,getRootProps:Ag,getHiddenInputProps:dg,getThumbProps:sg,open:ug,active:mg,axis:bg,focusedThumbIndex:Zg,range:pg,dragging:Gg,marks:hg,values:yg,trackOffset:Bg,trackLeap:Sg,getThumbStyle:Wg}=ti((0,c.Z)({},ig,{rootRef:I}));ig.marked=hg.length>0&&hg.some((g=>g.label)),ig.dragging=Gg,ig.focusedThumbIndex=Zg;const Vg=(g=>{const{disabled:e,dragging:I,marked:t,orientation:n,track:l,classes:C,color:o,size:a}=g,r={root:["root",e&&"disabled",I&&"dragging",t&&"marked","vertical"===n&&"vertical","inverted"===l&&"trackInverted",!1===l&&"trackFalse",o&&`color${(0,$g.Z)(o)}`,a&&`size${(0,$g.Z)(a)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",a&&`thumbSize${(0,$g.Z)(a)}`,o&&`thumbColor${(0,$g.Z)(o)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,F.Z)(r,ni,C)})(ig),Rg=null!=(t=null!=(n=null==ng?void 0:ng.root)?n:z.Root)?t:ai,vg=null!=(l=null!=(C=null==ng?void 0:ng.rail)?C:z.Rail)?l:ri,fg=null!=(o=null!=(a=null==ng?void 0:ng.track)?a:z.Track)?o:ii,Xg=null!=(i=null!=(d=null==ng?void 0:ng.thumb)?d:z.Thumb)?i:ci,kg=null!=(s=null!=(u=null==ng?void 0:ng.valueLabel)?u:z.ValueLabel)?s:Ai,Jg=null!=(b=null!=(Z=null==ng?void 0:ng.mark)?Z:z.Mark)?b:di,Yg=null!=(p=null!=(G=null==ng?void 0:ng.markLabel)?G:z.MarkLabel)?p:si,Hg=null!=(h=null!=(y=null==ng?void 0:ng.input)?y:z.Input)?h:"input",wg=null!=(B=null==tg?void 0:tg.root)?B:M.root,Ng=null!=(S=null==tg?void 0:tg.rail)?S:M.rail,Fg=null!=(V=null==tg?void 0:tg.track)?V:M.track,Kg=null!=(R=null==tg?void 0:tg.thumb)?R:M.thumb,xg=null!=(v=null==tg?void 0:tg.valueLabel)?v:M.valueLabel,zg=null!=(f=null==tg?void 0:tg.mark)?f:M.mark,Mg=null!=(X=null==tg?void 0:tg.markLabel)?X:M.markLabel,Eg=null!=(k=null==tg?void 0:tg.input)?k:M.input,Lg=U({elementType:Rg,getSlotProps:Ag,externalSlotProps:wg,externalForwardedProps:ag,additionalProps:(0,c.Z)({},(qg=Rg,(!qg||!x(qg))&&{as:K})),ownerState:(0,c.Z)({},ig,null==wg?void 0:wg.ownerState),className:[Vg.root,Q]}),Ug=U({elementType:vg,externalSlotProps:Ng,ownerState:ig,className:Vg.rail}),Qg=U({elementType:fg,externalSlotProps:Fg,additionalProps:{style:(0,c.Z)({},cg[bg].offset(Bg),cg[bg].leap(Sg))},ownerState:(0,c.Z)({},ig,null==Fg?void 0:Fg.ownerState),className:Vg.track}),Tg=U({elementType:Xg,getSlotProps:sg,externalSlotProps:Kg,ownerState:(0,c.Z)({},ig,null==Kg?void 0:Kg.ownerState),className:Vg.thumb}),Dg=U({elementType:kg,externalSlotProps:xg,ownerState:(0,c.Z)({},ig,null==xg?void 0:xg.ownerState),className:Vg.valueLabel}),jg=U({elementType:Jg,externalSlotProps:zg,ownerState:ig,className:Vg.mark}),Pg=U({elementType:Yg,externalSlotProps:Mg,ownerState:ig,className:Vg.markLabel}),Og=U({elementType:Hg,getSlotProps:dg,externalSlotProps:Eg,ownerState:ig});var qg;return(0,m.jsxs)(Rg,(0,c.Z)({},Lg,{children:[(0,m.jsx)(vg,(0,c.Z)({},Ug)),(0,m.jsx)(fg,(0,c.Z)({},Qg)),hg.filter((g=>g.value>=$&&g.value<=q)).map(((g,I)=>{const t=Pr(g.value,$,q),n=cg[bg].offset(t);let l;return l=!1===lg?-1!==yg.indexOf(g.value):"normal"===lg&&(pg?g.value>=yg[0]&&g.value<=yg[yg.length-1]:g.value<=yg[0])||"inverted"===lg&&(pg?g.value<=yg[0]||g.value>=yg[yg.length-1]:g.value>=yg[0]),(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)(Jg,(0,c.Z)({"data-index":I},jg,!x(Jg)&&{markActive:l},{style:(0,c.Z)({},n,jg.style),className:(0,W.Z)(jg.className,l&&Vg.markActive)})),null!=g.label?(0,m.jsx)(Yg,(0,c.Z)({"aria-hidden":!0,"data-index":I},Pg,!x(Yg)&&{markLabelActive:l},{style:(0,c.Z)({},n,Pg.style),className:(0,W.Z)(Vg.markLabel,Pg.className,l&&Vg.markLabelActive),children:g.label})):null]},I)})),yg.map(((g,e)=>{const I=Pr(g,$,q),t=cg[bg].offset(I),n="off"===Cg?ui:kg;return(0,m.jsx)(n,(0,c.Z)({},!x(n)&&{valueLabelFormat:og,valueLabelDisplay:Cg,value:"function"==typeof og?og(Ig(g),e):og,index:e,open:ug===e||mg===e||"on"===Cg,disabled:D},Dg,{children:(0,m.jsx)(Xg,(0,c.Z)({"data-index":e},Tg,{className:(0,W.Z)(Vg.thumb,Tg.className,mg===e&&Vg.active,Zg===e&&Vg.focusVisible),style:(0,c.Z)({},t,Wg(e),Tg.style),children:(0,m.jsx)(Hg,(0,c.Z)({"data-index":e,"aria-label":j?j(e):H,"aria-valuenow":Ig(g),"aria-labelledby":N,"aria-valuetext":P?P(Ig(g),e):w,value:yg[e]},Og))}))}),e)}))]}))}));var bi=mi;function Zi(g){return void 0!==g.normalize?g.normalize("NFD").replace(/[\u0300-\u036f]/g,""):g}function pi(g,e){for(let I=0;I<g.length;I+=1)if(e(g[I]))return I;return-1}const Gi=function(g={}){const{ignoreAccents:e=!0,ignoreCase:I=!0,limit:t,matchFrom:n="any",stringify:l,trim:C=!1}=g;return(g,{inputValue:o,getOptionLabel:a})=>{let r=C?o.trim():o;I&&(r=r.toLowerCase()),e&&(r=Zi(r));const i=r?g.filter((g=>{let t=(l||a)(g);return I&&(t=t.toLowerCase()),e&&(t=Zi(t)),"start"===n?0===t.indexOf(r):t.indexOf(r)>-1})):g;return"number"==typeof t?i.slice(0,t):i}}(),hi=g=>{var e;return null!==g.current&&(null==(e=g.current.parentElement)?void 0:e.contains(document.activeElement))};function yi(g){const{unstable_isActiveElementInListbox:I=hi,unstable_classNamePrefix:t="Mui",autoComplete:n=!1,autoHighlight:l=!1,autoSelect:C=!1,blurOnSelect:o=!1,clearOnBlur:a=!g.freeSolo,clearOnEscape:r=!1,componentName:i="useAutocomplete",defaultValue:A=(g.multiple?[]:null),disableClearable:d=!1,disableCloseOnSelect:s=!1,disabled:u,disabledItemsFocusable:m=!1,disableListWrap:b=!1,filterOptions:Z=Gi,filterSelectedOptions:p=!1,freeSolo:G=!1,getOptionDisabled:h,getOptionLabel:y=(g=>{var e;return null!=(e=g.label)?e:g}),groupBy:B,handleHomeEndKeys:S=!g.freeSolo,id:W,includeInputInList:V=!1,inputValue:R,isOptionEqualToValue:v=((g,e)=>g===e),multiple:f=!1,onChange:X,onClose:k,onHighlightChange:J,onInputChange:Y,onOpen:H,open:w,openOnFocus:N=!1,options:F,readOnly:K=!1,selectOnFocus:x=!g.freeSolo,value:z}=g,M=(0,JC.Z)(W);let E=y;E=g=>{const e=y(g);return"string"!=typeof e?String(e):e};const L=e.useRef(!1),U=e.useRef(!0),Q=e.useRef(null),D=e.useRef(null),[j,P]=e.useState(null),[O,q]=e.useState(-1),$=l?0:-1,_=e.useRef($),[gg,eg]=(0,Er.Z)({controlled:z,default:A,name:i}),[Ig,tg]=(0,Er.Z)({controlled:R,default:"",name:i,state:"inputValue"}),[ng,lg]=e.useState(!1),Cg=e.useCallback(((g,e)=>{if(!(f?gg.length<e.length:null!==e)&&!a)return;let I;if(f)I="";else if(null==e)I="";else{const g=E(e);I="string"==typeof g?g:""}Ig!==I&&(tg(I),Y&&Y(g,I,"reset"))}),[E,Ig,f,Y,tg,a,gg]),[ag,rg]=(0,Er.Z)({controlled:w,default:!1,name:i,state:"open"}),[ig,cg]=e.useState(!0),Ag=!f&&null!=gg&&Ig===E(gg),dg=ag&&!K,sg=dg?Z(F.filter((g=>!p||!(f?gg:[gg]).some((e=>null!==e&&v(g,e))))),{inputValue:Ag&&ig?"":Ig,getOptionLabel:E}):[],ug=(g=>{const I=e.useRef({});return e.useEffect((()=>{I.current=g})),I.current})({filteredOptions:sg,value:gg,inputValue:Ig});e.useEffect((()=>{const g=gg!==ug.value;ng&&!g||G&&!g||Cg(null,gg)}),[gg,Cg,ng,ug.value,G]);const mg=ag&&sg.length>0&&!K,bg=(0,T.Z)((g=>{-1===g?Q.current.focus():j.querySelector(`[data-tag-index="${g}"]`).focus()}));e.useEffect((()=>{f&&O>gg.length-1&&(q(-1),bg(-1))}),[gg,f,O,bg]);const Zg=(0,T.Z)((({event:g,index:e,reason:I="auto"})=>{if(_.current=e,-1===e?Q.current.removeAttribute("aria-activedescendant"):Q.current.setAttribute("aria-activedescendant",`${M}-option-${e}`),J&&J(g,-1===e?null:sg[e],I),!D.current)return;const n=D.current.querySelector(`[role="option"].${t}-focused`);n&&(n.classList.remove(`${t}-focused`),n.classList.remove(`${t}-focusVisible`));let l=D.current;if("listbox"!==D.current.getAttribute("role")&&(l=D.current.parentElement.querySelector('[role="listbox"]')),!l)return;if(-1===e)return void(l.scrollTop=0);const C=D.current.querySelector(`[data-option-index="${e}"]`);if(C&&(C.classList.add(`${t}-focused`),"keyboard"===I&&C.classList.add(`${t}-focusVisible`),l.scrollHeight>l.clientHeight&&"mouse"!==I&&"touch"!==I)){const g=C,e=l.clientHeight+l.scrollTop,I=g.offsetTop+g.offsetHeight;I>e?l.scrollTop=I-l.clientHeight:g.offsetTop-g.offsetHeight*(B?1.3:0)<l.scrollTop&&(l.scrollTop=g.offsetTop-g.offsetHeight*(B?1.3:0))}})),pg=(0,T.Z)((({event:g,diff:e,direction:I="next",reason:t="auto"})=>{if(!dg)return;const l=function(g,e){if(!D.current||-1===g)return-1;let I=g;for(;;){if("next"===e&&I===sg.length||"previous"===e&&-1===I)return-1;const g=D.current.querySelector(`[data-option-index="${I}"]`),t=!m&&(!g||g.disabled||"true"===g.getAttribute("aria-disabled"));if(!(g&&!g.hasAttribute("tabindex")||t))return I;I+="next"===e?1:-1}}((()=>{const g=sg.length-1;if("reset"===e)return $;if("start"===e)return 0;if("end"===e)return g;const I=_.current+e;return I<0?-1===I&&V?-1:b&&-1!==_.current||Math.abs(e)>1?0:g:I>g?I===g+1&&V?-1:b||Math.abs(e)>1?g:0:I})(),I);if(Zg({index:l,reason:t,event:g}),n&&"reset"!==e)if(-1===l)Q.current.value=Ig;else{const g=E(sg[l]);Q.current.value=g,0===g.toLowerCase().indexOf(Ig.toLowerCase())&&Ig.length>0&&Q.current.setSelectionRange(Ig.length,g.length)}})),Gg=e.useCallback((()=>{if(!dg)return;if((()=>{if(-1!==_.current&&ug.filteredOptions&&ug.filteredOptions.length!==sg.length&&ug.inputValue===Ig&&(f?gg.length===ug.value.length&&ug.value.every(((g,e)=>E(gg[e])===E(g))):(g=ug.value,e=gg,(g?E(g):"")===(e?E(e):"")))){const g=ug.filteredOptions[_.current];if(g&&sg.some((e=>E(e)===E(g))))return!0}var g,e;return!1})())return;const g=f?gg[0]:gg;if(0!==sg.length&&null!=g){if(D.current)if(null==g)_.current>=sg.length-1?Zg({index:sg.length-1}):Zg({index:_.current});else{const e=sg[_.current];if(f&&e&&-1!==pi(gg,(g=>v(e,g))))return;const I=pi(sg,(e=>v(e,g)));-1===I?pg({diff:"reset"}):Zg({index:I})}}else pg({diff:"reset"})}),[sg.length,!f&&gg,p,pg,Zg,dg,Ig,f]),hg=(0,T.Z)((g=>{(0,og.Z)(D,g),g&&Gg()}));e.useEffect((()=>{Gg()}),[Gg]);const yg=g=>{ag||(rg(!0),cg(!0),H&&H(g))},Bg=(g,e)=>{ag&&(rg(!1),k&&k(g,e))},Sg=(g,e,I,t)=>{if(f){if(gg.length===e.length&&gg.every(((g,I)=>g===e[I])))return}else if(gg===e)return;X&&X(g,e,I,t),eg(e)},Wg=e.useRef(!1),Vg=(g,e,I="selectOption",t="options")=>{let n=I,l=e;if(f){l=Array.isArray(gg)?gg.slice():[];const g=pi(l,(g=>v(e,g)));-1===g?l.push(e):"freeSolo"!==t&&(l.splice(g,1),n="removeOption")}Cg(g,l),Sg(g,l,n,{option:e}),s||g&&(g.ctrlKey||g.metaKey)||Bg(g,n),(!0===o||"touch"===o&&Wg.current||"mouse"===o&&!Wg.current)&&Q.current.blur()},Rg=(g,e)=>{if(!f)return;""===Ig&&Bg(g,"toggleInput");let I=O;-1===O?""===Ig&&"previous"===e&&(I=gg.length-1):(I+="next"===e?1:-1,I<0&&(I=0),I===gg.length&&(I=-1)),I=function(g,e){if(-1===g)return-1;let I=g;for(;;){if("next"===e&&I===gg.length||"previous"===e&&-1===I)return-1;const g=j.querySelector(`[data-tag-index="${I}"]`);if(g&&g.hasAttribute("tabindex")&&!g.disabled&&"true"!==g.getAttribute("aria-disabled"))return I;I+="next"===e?1:-1}}(I,e),q(I),bg(I)},vg=g=>{L.current=!0,tg(""),Y&&Y(g,"","clear"),Sg(g,f?[]:null,"clear")},fg=g=>e=>{if(g.onKeyDown&&g.onKeyDown(e),!e.defaultMuiPrevented&&(-1!==O&&-1===["ArrowLeft","ArrowRight"].indexOf(e.key)&&(q(-1),bg(-1)),229!==e.which))switch(e.key){case"Home":dg&&S&&(e.preventDefault(),pg({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":dg&&S&&(e.preventDefault(),pg({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),pg({diff:-5,direction:"previous",reason:"keyboard",event:e}),yg(e);break;case"PageDown":e.preventDefault(),pg({diff:5,direction:"next",reason:"keyboard",event:e}),yg(e);break;case"ArrowDown":e.preventDefault(),pg({diff:1,direction:"next",reason:"keyboard",event:e}),yg(e);break;case"ArrowUp":e.preventDefault(),pg({diff:-1,direction:"previous",reason:"keyboard",event:e}),yg(e);break;case"ArrowLeft":Rg(e,"previous");break;case"ArrowRight":Rg(e,"next");break;case"Enter":if(-1!==_.current&&dg){const g=sg[_.current],I=!!h&&h(g);if(e.preventDefault(),I)return;Vg(e,g,"selectOption"),n&&Q.current.setSelectionRange(Q.current.value.length,Q.current.value.length)}else G&&""!==Ig&&!1===Ag&&(f&&e.preventDefault(),Vg(e,Ig,"createOption","freeSolo"));break;case"Escape":dg?(e.preventDefault(),e.stopPropagation(),Bg(e,"escape")):r&&(""!==Ig||f&&gg.length>0)&&(e.preventDefault(),e.stopPropagation(),vg(e));break;case"Backspace":if(f&&!K&&""===Ig&&gg.length>0){const g=-1===O?gg.length-1:O,I=gg.slice();I.splice(g,1),Sg(e,I,"removeOption",{option:gg[g]})}break;case"Delete":if(f&&!K&&""===Ig&&gg.length>0&&-1!==O){const g=O,I=gg.slice();I.splice(g,1),Sg(e,I,"removeOption",{option:gg[g]})}}},Xg=g=>{lg(!0),N&&!L.current&&yg(g)},kg=g=>{I(D)?Q.current.focus():(lg(!1),U.current=!0,L.current=!1,C&&-1!==_.current&&dg?Vg(g,sg[_.current],"blur"):C&&G&&""!==Ig?Vg(g,Ig,"blur","freeSolo"):a&&Cg(g,gg),Bg(g,"blur"))},Jg=g=>{const e=g.target.value;Ig!==e&&(tg(e),cg(!1),Y&&Y(g,e,"input")),""===e?d||f||Sg(g,null,"clear"):yg(g)},Yg=g=>{const e=Number(g.currentTarget.getAttribute("data-option-index"));_.current!==e&&Zg({event:g,index:e,reason:"mouse"})},Hg=g=>{Zg({event:g,index:Number(g.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Wg.current=!0},wg=g=>{const e=Number(g.currentTarget.getAttribute("data-option-index"));Vg(g,sg[e],"selectOption"),Wg.current=!1},Ng=g=>e=>{const I=gg.slice();I.splice(g,1),Sg(e,I,"removeOption",{option:gg[g]})},Fg=g=>{ag?Bg(g,"toggleInput"):yg(g)},Kg=g=>{g.currentTarget.contains(g.target)&&g.target.getAttribute("id")!==M&&g.preventDefault()},xg=g=>{g.currentTarget.contains(g.target)&&(Q.current.focus(),x&&U.current&&Q.current.selectionEnd-Q.current.selectionStart==0&&Q.current.select(),U.current=!1)},zg=g=>{u||""!==Ig&&ag||Fg(g)};let Mg=G&&Ig.length>0;Mg=Mg||(f?gg.length>0:null!==gg);let Eg=sg;return B&&(new Map,Eg=sg.reduce(((g,e,I)=>{const t=B(e);return g.length>0&&g[g.length-1].group===t?g[g.length-1].options.push(e):g.push({key:I,index:I,group:t,options:[e]}),g}),[])),u&&ng&&kg(),{getRootProps:(g={})=>(0,c.Z)({"aria-owns":mg?`${M}-listbox`:null},g,{onKeyDown:fg(g),onMouseDown:Kg,onClick:xg}),getInputLabelProps:()=>({id:`${M}-label`,htmlFor:M}),getInputProps:()=>({id:M,value:Ig,onBlur:kg,onFocus:Xg,onChange:Jg,onMouseDown:zg,"aria-activedescendant":dg?"":null,"aria-autocomplete":n?"both":"list","aria-controls":mg?`${M}-listbox`:void 0,"aria-expanded":mg,autoComplete:"off",ref:Q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:u}),getClearProps:()=>({tabIndex:-1,onClick:vg}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Fg}),getTagProps:({index:g})=>(0,c.Z)({key:g,"data-tag-index":g,tabIndex:-1},!K&&{onDelete:Ng(g)}),getListboxProps:()=>({role:"listbox",id:`${M}-listbox`,"aria-labelledby":`${M}-label`,ref:hg,onMouseDown:g=>{g.preventDefault()}}),getOptionProps:({index:g,option:e})=>{const I=(f?gg:[gg]).some((g=>null!=g&&v(e,g))),t=!!h&&h(e);return{key:E(e),tabIndex:-1,role:"option",id:`${M}-option-${g}`,onMouseMove:Yg,onClick:wg,onTouchStart:Hg,"data-option-index":g,"aria-disabled":t,"aria-selected":I}},id:M,inputValue:Ig,value:gg,dirty:Mg,expanded:dg&&j,popupOpen:dg,focused:ng||-1!==O,anchorEl:j,setAnchorEl:P,focusedTag:O,groupedOptions:Eg}}function Bi(g){return(0,fg.Z)("MuiListSubheader",g)}(0,vg.Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Si=["className","color","component","disableGutters","disableSticky","inset"],Wi=(0,l.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,"default"!==I.color&&e[`color${(0,$g.Z)(I.color)}`],!I.disableGutters&&e.gutters,I.inset&&e.inset,!I.disableSticky&&e.sticky]}})((({theme:g,ownerState:e})=>(0,c.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(g.vars||g).palette.text.secondary,fontFamily:g.typography.fontFamily,fontWeight:g.typography.fontWeightMedium,fontSize:g.typography.pxToRem(14)},"primary"===e.color&&{color:(g.vars||g).palette.primary.main},"inherit"===e.color&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(g.vars||g).palette.background.paper}))),Vi=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiListSubheader"}),{className:t,color:n="default",component:l="li",disableGutters:C=!1,disableSticky:o=!1,inset:a=!1}=I,r=(0,A.Z)(I,Si),i=(0,c.Z)({},I,{color:n,component:l,disableGutters:C,disableSticky:o,inset:a}),d=(g=>{const{classes:e,color:I,disableGutters:t,inset:n,disableSticky:l}=g,C={root:["root","default"!==I&&`color${(0,$g.Z)(I)}`,!t&&"gutters",n&&"inset",!l&&"sticky"]};return(0,F.Z)(C,Bi,e)})(i);return(0,m.jsx)(Wi,(0,c.Z)({as:l,className:(0,W.Z)(d.root,t),ref:e,ownerState:i},r))}));Vi.muiSkipListHighlight=!0;var Ri=Vi,vi=(0,Ql.Z)((0,m.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function fi(g){return(0,fg.Z)("MuiChip",g)}var Xi=(0,vg.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]);const ki=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ji=(0,l.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g,{color:t,iconColor:n,clickable:l,onDelete:C,size:o,variant:a}=I;return[{[`& .${Xi.avatar}`]:e.avatar},{[`& .${Xi.avatar}`]:e[`avatar${(0,$g.Z)(o)}`]},{[`& .${Xi.avatar}`]:e[`avatarColor${(0,$g.Z)(t)}`]},{[`& .${Xi.icon}`]:e.icon},{[`& .${Xi.icon}`]:e[`icon${(0,$g.Z)(o)}`]},{[`& .${Xi.icon}`]:e[`iconColor${(0,$g.Z)(n)}`]},{[`& .${Xi.deleteIcon}`]:e.deleteIcon},{[`& .${Xi.deleteIcon}`]:e[`deleteIcon${(0,$g.Z)(o)}`]},{[`& .${Xi.deleteIcon}`]:e[`deleteIconColor${(0,$g.Z)(t)}`]},{[`& .${Xi.deleteIcon}`]:e[`deleteIcon${(0,$g.Z)(a)}Color${(0,$g.Z)(t)}`]},e.root,e[`size${(0,$g.Z)(o)}`],e[`color${(0,$g.Z)(t)}`],l&&e.clickable,l&&"default"!==t&&e[`clickableColor${(0,$g.Z)(t)})`],C&&e.deletable,C&&"default"!==t&&e[`deletableColor${(0,$g.Z)(t)}`],e[a],e[`${a}${(0,$g.Z)(t)}`]]}})((({theme:g,ownerState:e})=>{const I="light"===g.palette.mode?g.palette.grey[700]:g.palette.grey[300];return(0,c.Z)({maxWidth:"100%",fontFamily:g.typography.fontFamily,fontSize:g.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(g.vars||g).palette.text.primary,backgroundColor:(g.vars||g).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:g.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Xi.disabled}`]:{opacity:(g.vars||g).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Xi.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:g.vars?g.vars.palette.Chip.defaultAvatarColor:I,fontSize:g.typography.pxToRem(12)},[`& .${Xi.avatarColorPrimary}`]:{color:(g.vars||g).palette.primary.contrastText,backgroundColor:(g.vars||g).palette.primary.dark},[`& .${Xi.avatarColorSecondary}`]:{color:(g.vars||g).palette.secondary.contrastText,backgroundColor:(g.vars||g).palette.secondary.dark},[`& .${Xi.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:g.typography.pxToRem(10)},[`& .${Xi.icon}`]:(0,c.Z)({marginLeft:5,marginRight:-6},"small"===e.size&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&(0,c.Z)({color:g.vars?g.vars.palette.Chip.defaultIconColor:I},"default"!==e.color&&{color:"inherit"})),[`& .${Xi.deleteIcon}`]:(0,c.Z)({WebkitTapHighlightColor:"transparent",color:g.vars?`rgba(${g.vars.palette.text.primaryChannel} / 0.26)`:(0,Tg.Fq)(g.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:g.vars?`rgba(${g.vars.palette.text.primaryChannel} / 0.4)`:(0,Tg.Fq)(g.palette.text.primary,.4)}},"small"===e.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==e.color&&{color:g.vars?`rgba(${g.vars.palette[e.color].contrastTextChannel} / 0.7)`:(0,Tg.Fq)(g.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(g.vars||g).palette[e.color].contrastText}})},"small"===e.size&&{height:24},"default"!==e.color&&{backgroundColor:(g.vars||g).palette[e.color].main,color:(g.vars||g).palette[e.color].contrastText},e.onDelete&&{[`&.${Xi.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.action.selectedChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.focusOpacity}))`:(0,Tg.Fq)(g.palette.action.selected,g.palette.action.selectedOpacity+g.palette.action.focusOpacity)}},e.onDelete&&"default"!==e.color&&{[`&.${Xi.focusVisible}`]:{backgroundColor:(g.vars||g).palette[e.color].dark}})}),(({theme:g,ownerState:e})=>(0,c.Z)({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:g.vars?`rgba(${g.vars.palette.action.selectedChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.hoverOpacity}))`:(0,Tg.Fq)(g.palette.action.selected,g.palette.action.selectedOpacity+g.palette.action.hoverOpacity)},[`&.${Xi.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.action.selectedChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.focusOpacity}))`:(0,Tg.Fq)(g.palette.action.selected,g.palette.action.selectedOpacity+g.palette.action.focusOpacity)},"&:active":{boxShadow:(g.vars||g).shadows[1]}},e.clickable&&"default"!==e.color&&{[`&:hover, &.${Xi.focusVisible}`]:{backgroundColor:(g.vars||g).palette[e.color].dark}})),(({theme:g,ownerState:e})=>(0,c.Z)({},"outlined"===e.variant&&{backgroundColor:"transparent",border:g.vars?`1px solid ${g.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===g.palette.mode?g.palette.grey[400]:g.palette.grey[700]}`,[`&.${Xi.clickable}:hover`]:{backgroundColor:(g.vars||g).palette.action.hover},[`&.${Xi.focusVisible}`]:{backgroundColor:(g.vars||g).palette.action.focus},[`& .${Xi.avatar}`]:{marginLeft:4},[`& .${Xi.avatarSmall}`]:{marginLeft:2},[`& .${Xi.icon}`]:{marginLeft:4},[`& .${Xi.iconSmall}`]:{marginLeft:2},[`& .${Xi.deleteIcon}`]:{marginRight:5},[`& .${Xi.deleteIconSmall}`]:{marginRight:3}},"outlined"===e.variant&&"default"!==e.color&&{color:(g.vars||g).palette[e.color].main,border:`1px solid ${g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / 0.7)`:(0,Tg.Fq)(g.palette[e.color].main,.7)}`,[`&.${Xi.clickable}:hover`]:{backgroundColor:g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)(g.palette[e.color].main,g.palette.action.hoverOpacity)},[`&.${Xi.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / ${g.vars.palette.action.focusOpacity})`:(0,Tg.Fq)(g.palette[e.color].main,g.palette.action.focusOpacity)},[`& .${Xi.deleteIcon}`]:{color:g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / 0.7)`:(0,Tg.Fq)(g.palette[e.color].main,.7),"&:hover, &:active":{color:(g.vars||g).palette[e.color].main}}}))),Yi=(0,l.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:(g,e)=>{const{ownerState:I}=g,{size:t}=I;return[e.label,e[`label${(0,$g.Z)(t)}`]]}})((({ownerState:g})=>(0,c.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===g.size&&{paddingLeft:8,paddingRight:8})));function Hi(g){return"Backspace"===g.key||"Delete"===g.key}var wi=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiChip"}),{avatar:n,className:l,clickable:C,color:o="default",component:a,deleteIcon:r,disabled:i=!1,icon:d,label:s,onClick:u,onDelete:b,onKeyDown:Z,onKeyUp:p,size:G="medium",variant:h="filled",tabIndex:y,skipFocusWhenDisabled:B=!1}=t,S=(0,A.Z)(t,ki),V=e.useRef(null),R=(0,Bg.Z)(V,I),v=g=>{g.stopPropagation(),b&&b(g)},f=!(!1===C||!u)||C,X=f||b?aI:a||"div",k=(0,c.Z)({},t,{component:X,disabled:i,size:G,color:o,iconColor:e.isValidElement(d)&&d.props.color||o,onDelete:!!b,clickable:f,variant:h}),J=(g=>{const{classes:e,disabled:I,size:t,color:n,iconColor:l,onDelete:C,clickable:o,variant:a}=g,r={root:["root",a,I&&"disabled",`size${(0,$g.Z)(t)}`,`color${(0,$g.Z)(n)}`,o&&"clickable",o&&`clickableColor${(0,$g.Z)(n)}`,C&&"deletable",C&&`deletableColor${(0,$g.Z)(n)}`,`${a}${(0,$g.Z)(n)}`],label:["label",`label${(0,$g.Z)(t)}`],avatar:["avatar",`avatar${(0,$g.Z)(t)}`,`avatarColor${(0,$g.Z)(n)}`],icon:["icon",`icon${(0,$g.Z)(t)}`,`iconColor${(0,$g.Z)(l)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,$g.Z)(t)}`,`deleteIconColor${(0,$g.Z)(n)}`,`deleteIcon${(0,$g.Z)(a)}Color${(0,$g.Z)(n)}`]};return(0,F.Z)(r,fi,e)})(k),Y=X===aI?(0,c.Z)({component:a||"div",focusVisibleClassName:J.focusVisible},b&&{disableRipple:!0}):{};let H=null;b&&(H=r&&e.isValidElement(r)?e.cloneElement(r,{className:(0,W.Z)(r.props.className,J.deleteIcon),onClick:v}):(0,m.jsx)(vi,{className:(0,W.Z)(J.deleteIcon),onClick:v}));let w=null;n&&e.isValidElement(n)&&(w=e.cloneElement(n,{className:(0,W.Z)(J.avatar,n.props.className)}));let N=null;return d&&e.isValidElement(d)&&(N=e.cloneElement(d,{className:(0,W.Z)(J.icon,d.props.className)})),(0,m.jsxs)(Ji,(0,c.Z)({as:X,className:(0,W.Z)(J.root,l),disabled:!(!f||!i)||void 0,onClick:u,onKeyDown:g=>{g.currentTarget===g.target&&Hi(g)&&g.preventDefault(),Z&&Z(g)},onKeyUp:g=>{g.currentTarget===g.target&&(b&&Hi(g)?b(g):"Escape"===g.key&&V.current&&V.current.blur()),p&&p(g)},ref:R,tabIndex:B&&i?-1:y,ownerState:k},Y,S,{children:[w||N,(0,m.jsx)(Yi,{className:(0,W.Z)(J.label),ownerState:k,children:s}),H]}))})),Ni=(0,Ql.Z)((0,m.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Fi(g){return(0,fg.Z)("MuiAutocomplete",g)}var Ki,xi,zi=(0,vg.Z)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);const Mi=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Ei=["ref"],Li=(0,l.ZP)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g,{fullWidth:t,hasClearIcon:n,hasPopupIcon:l,inputFocused:C,size:o}=I;return[{[`& .${zi.tag}`]:e.tag},{[`& .${zi.tag}`]:e[`tagSize${(0,$g.Z)(o)}`]},{[`& .${zi.inputRoot}`]:e.inputRoot},{[`& .${zi.input}`]:e.input},{[`& .${zi.input}`]:C&&e.inputFocused},e.root,t&&e.fullWidth,l&&e.hasPopupIcon,n&&e.hasClearIcon]}})((({ownerState:g})=>(0,c.Z)({[`&.${zi.focused} .${zi.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${zi.clearIndicator}`]:{visibility:"visible"}}},g.fullWidth&&{width:"100%"},{[`& .${zi.tag}`]:(0,c.Z)({margin:3,maxWidth:"calc(100% - 6px)"},"small"===g.size&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${zi.inputRoot}`]:{flexWrap:"wrap",[`.${zi.hasPopupIcon}&, .${zi.hasClearIcon}&`]:{paddingRight:30},[`.${zi.hasPopupIcon}.${zi.hasClearIcon}&`]:{paddingRight:56},[`& .${zi.input}`]:{width:0,minWidth:30}},[`& .${_C.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${_C.root}.${LC.sizeSmall}`]:{[`& .${_C.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Zo.root}`]:{padding:9,[`.${zi.hasPopupIcon}&, .${zi.hasClearIcon}&`]:{paddingRight:39},[`.${zi.hasPopupIcon}.${zi.hasClearIcon}&`]:{paddingRight:65},[`& .${zi.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${zi.endAdornment}`]:{right:9}},[`& .${Zo.root}.${LC.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${zi.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Co.root}`]:{paddingTop:19,paddingLeft:8,[`.${zi.hasPopupIcon}&, .${zi.hasClearIcon}&`]:{paddingRight:39},[`.${zi.hasPopupIcon}.${zi.hasClearIcon}&`]:{paddingRight:65},[`& .${Co.input}`]:{padding:"7px 4px"},[`& .${zi.endAdornment}`]:{right:9}},[`& .${Co.root}.${LC.sizeSmall}`]:{paddingBottom:1,[`& .${Co.input}`]:{padding:"2.5px 4px"}},[`& .${LC.hiddenLabel}`]:{paddingTop:8},[`& .${Co.root}.${LC.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${zi.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Co.root}.${LC.hiddenLabel}.${LC.sizeSmall}`]:{[`& .${zi.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${zi.input}`]:(0,c.Z)({flexGrow:1,textOverflow:"ellipsis",opacity:0},g.inputFocused&&{opacity:1})}))),Ui=(0,l.ZP)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(g,e)=>e.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Qi=(0,l.ZP)(dI,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(g,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Ti=(0,l.ZP)(dI,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:g},e)=>(0,c.Z)({},e.popupIndicator,g.popupOpen&&e.popupIndicatorOpen)})((({ownerState:g})=>(0,c.Z)({padding:2,marginRight:-2},g.popupOpen&&{transform:"rotate(180deg)"}))),Di=(0,l.ZP)(Gl,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[{[`& .${zi.option}`]:e.option},e.popper,I.disablePortal&&e.popperDisablePortal]}})((({theme:g,ownerState:e})=>(0,c.Z)({zIndex:(g.vars||g).zIndex.modal},e.disablePortal&&{position:"absolute"}))),ji=(0,l.ZP)(qg,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(g,e)=>e.paper})((({theme:g})=>(0,c.Z)({},g.typography.body1,{overflow:"auto"}))),Pi=(0,l.ZP)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(g,e)=>e.loading})((({theme:g})=>({color:(g.vars||g).palette.text.secondary,padding:"14px 16px"}))),Oi=(0,l.ZP)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(g,e)=>e.noOptions})((({theme:g})=>({color:(g.vars||g).palette.text.secondary,padding:"14px 16px"}))),qi=(0,l.ZP)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(g,e)=>e.listbox})((({theme:g})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${zi.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[g.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${zi.focused}`]:{backgroundColor:(g.vars||g).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(g.vars||g).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${zi.focusVisible}`]:{backgroundColor:(g.vars||g).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity),[`&.${zi.focused}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.hoverOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(g.vars||g).palette.action.selected}},[`&.${zi.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.focusOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.focusOpacity)}}}}))),$i=(0,l.ZP)(Ri,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(g,e)=>e.groupLabel})((({theme:g})=>({backgroundColor:(g.vars||g).palette.background.paper,top:-8}))),_i=(0,l.ZP)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(g,e)=>e.groupUl})({padding:0,[`& .${zi.option}`]:{paddingLeft:24}});var gc=e.forwardRef((function(g,I){var t,n,l,C;const o=(0,rg.Z)({props:g,name:"MuiAutocomplete"}),{autoComplete:a=!1,autoHighlight:r=!1,autoSelect:i=!1,blurOnSelect:d=!1,ChipProps:s,className:u,clearIcon:b=Ki||(Ki=(0,m.jsx)(Ni,{fontSize:"small"})),clearOnBlur:Z=!o.freeSolo,clearOnEscape:p=!1,clearText:G="Clear",closeText:h="Close",componentsProps:y={},defaultValue:B=(o.multiple?[]:null),disableClearable:S=!1,disableCloseOnSelect:V=!1,disabled:R=!1,disabledItemsFocusable:v=!1,disableListWrap:f=!1,disablePortal:X=!1,filterSelectedOptions:k=!1,forcePopupIcon:J="auto",freeSolo:Y=!1,fullWidth:H=!1,getLimitTagsText:w=(g=>`+${g}`),getOptionLabel:N,groupBy:K,handleHomeEndKeys:x=!o.freeSolo,includeInputInList:z=!1,limitTags:M=-1,ListboxComponent:E="ul",ListboxProps:L,loading:U=!1,loadingText:Q="Loading…",multiple:T=!1,noOptionsText:D="No options",openOnFocus:j=!1,openText:P="Open",PaperComponent:O=qg,PopperComponent:q=Gl,popupIcon:$=xi||(xi=(0,m.jsx)(za,{})),readOnly:_=!1,renderGroup:gg,renderInput:eg,renderOption:Ig,renderTags:tg,selectOnFocus:ng=!o.freeSolo,size:lg="medium",slotProps:Cg={}}=o,og=(0,A.Z)(o,Mi),{getRootProps:ag,getInputProps:ig,getInputLabelProps:cg,getPopupIndicatorProps:Ag,getClearProps:dg,getTagProps:sg,getListboxProps:ug,getOptionProps:mg,value:bg,dirty:Zg,expanded:pg,id:Gg,popupOpen:hg,focused:yg,focusedTag:Sg,anchorEl:Wg,setAnchorEl:Vg,inputValue:Rg,groupedOptions:vg}=yi((0,c.Z)({},o,{componentName:"Autocomplete"})),fg=!S&&!R&&Zg&&!_,Xg=(!Y||!0===J)&&!1!==J,{onMouseDown:kg}=ig(),{ref:Jg}=null!=L?L:{},Yg=ug(),{ref:Hg}=Yg,wg=(0,A.Z)(Yg,Ei),Ng=(0,Bg.Z)(Hg,Jg),Fg=N||(g=>{var e;return null!=(e=g.label)?e:g}),Kg=(0,c.Z)({},o,{disablePortal:X,expanded:pg,focused:yg,fullWidth:H,getOptionLabel:Fg,hasClearIcon:fg,hasPopupIcon:Xg,inputFocused:-1===Sg,popupOpen:hg,size:lg}),xg=(g=>{const{classes:e,disablePortal:I,expanded:t,focused:n,fullWidth:l,hasClearIcon:C,hasPopupIcon:o,inputFocused:a,popupOpen:r,size:i}=g,c={root:["root",t&&"expanded",n&&"focused",l&&"fullWidth",C&&"hasClearIcon",o&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",a&&"inputFocused"],tag:["tag",`tagSize${(0,$g.Z)(i)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",r&&"popupIndicatorOpen"],popper:["popper",I&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,F.Z)(c,Fi,e)})(Kg);let zg;if(T&&bg.length>0){const g=g=>(0,c.Z)({className:xg.tag,disabled:R},sg(g));zg=tg?tg(bg,g,Kg):bg.map(((e,I)=>(0,m.jsx)(wi,(0,c.Z)({label:Fg(e),size:lg},g({index:I}),s))))}if(M>-1&&Array.isArray(zg)){const g=zg.length-M;!yg&&g>0&&(zg=zg.splice(0,M),zg.push((0,m.jsx)("span",{className:xg.tag,children:w(g)},zg.length)))}const Mg=gg||(g=>(0,m.jsxs)("li",{children:[(0,m.jsx)($i,{className:xg.groupLabel,ownerState:Kg,component:"div",children:g.group}),(0,m.jsx)(_i,{className:xg.groupUl,ownerState:Kg,children:g.children})]},g.key)),Eg=Ig||((g,e)=>(0,m.jsx)("li",(0,c.Z)({},g,{children:Fg(e)}))),Lg=(g,e)=>{const I=mg({option:g,index:e});return Eg((0,c.Z)({},I,{className:xg.option}),g,{selected:I["aria-selected"],index:e,inputValue:Rg},Kg)},Ug=null!=(t=Cg.clearIndicator)?t:y.clearIndicator,Qg=null!=(n=Cg.paper)?n:y.paper,Tg=null!=(l=Cg.popper)?l:y.popper,Dg=null!=(C=Cg.popupIndicator)?C:y.popupIndicator;return(0,m.jsxs)(e.Fragment,{children:[(0,m.jsx)(Li,(0,c.Z)({ref:I,className:(0,W.Z)(xg.root,u),ownerState:Kg},ag(og),{children:eg({id:Gg,disabled:R,fullWidth:!0,size:"small"===lg?"small":void 0,InputLabelProps:cg(),InputProps:(0,c.Z)({ref:Vg,className:xg.inputRoot,startAdornment:zg,onClick:g=>{g.target===g.currentTarget&&kg(g)}},(fg||Xg)&&{endAdornment:(0,m.jsxs)(Ui,{className:xg.endAdornment,ownerState:Kg,children:[fg?(0,m.jsx)(Qi,(0,c.Z)({},dg(),{"aria-label":G,title:G,ownerState:Kg},Ug,{className:(0,W.Z)(xg.clearIndicator,null==Ug?void 0:Ug.className),children:b})):null,Xg?(0,m.jsx)(Ti,(0,c.Z)({},Ag(),{disabled:R,"aria-label":hg?h:P,title:hg?h:P,ownerState:Kg},Dg,{className:(0,W.Z)(xg.popupIndicator,null==Dg?void 0:Dg.className),children:$})):null]})}),inputProps:(0,c.Z)({className:xg.input,disabled:R,readOnly:_},ig())})})),Wg?(0,m.jsx)(Di,(0,c.Z)({as:q,disablePortal:X,style:{width:Wg?Wg.clientWidth:null},ownerState:Kg,role:"presentation",anchorEl:Wg,open:hg},Tg,{className:(0,W.Z)(xg.popper,null==Tg?void 0:Tg.className),children:(0,m.jsxs)(ji,(0,c.Z)({ownerState:Kg,as:O},Qg,{className:(0,W.Z)(xg.paper,null==Qg?void 0:Qg.className),children:[U&&0===vg.length?(0,m.jsx)(Pi,{className:xg.loading,ownerState:Kg,children:Q}):null,0!==vg.length||Y||U?null:(0,m.jsx)(Oi,{className:xg.noOptions,ownerState:Kg,role:"presentation",onMouseDown:g=>{g.preventDefault()},children:D}),vg.length>0?(0,m.jsx)(qi,(0,c.Z)({as:E,className:xg.listbox,ownerState:Kg},wg,L,{ref:Ng,children:vg.map(((g,e)=>K?Mg({key:g.key,group:g.group,children:g.options.map(((e,I)=>Lg(e,g.index+I)))}):Lg(g,e)))})):null]}))})):null]})}));const ec=(new Date).getFullYear(),Ic=1990,tc=parseInt((ec-Ic)/4,10),nc=({floatValue:g})=>g<=ec&&g>=Ic,lc=(0,e.forwardRef)((function(g,e){const{onChange:I,...t}=g;return(0,m.jsx)(Mr,{...t,getInputRef:e,onValueChange:e=>{I({target:{name:g.name,value:e.value}})},isnumericstring:"true",format:"####",mask:"_",isAllowed:nc})}));function Cc(g){return`${g}`}lc.propTypes={name:dr().string.isRequired,onChange:dr().func.isRequired};const oc=[{value:Ic,label:Ic},{value:Ic+tc,label:Ic+tc},{value:Ic+2*tc,label:Ic+2*tc},{value:Ic+3*tc,label:Ic+3*tc},{value:ec,label:ec}],ac=["January","February","March","April","May","June","July","August","September","October","November","December"];var rc=({colorIcons:g="colorIconsDate"})=>{const[I,t]=(0,e.useState)("true"===(localStorage.getItem("checkedTimeInicio")||"true")),[n,l]=(0,e.useState)("true"===(localStorage.getItem("checkedTimeFin")||"true")),[C,o]=(0,e.useState)(localStorage.getItem("colorFechaIcon")||"primary"),a=async(e,I)=>{var t,n="";e&&I?(t="primary",n="300"):e&&!I?(t="secondary",n="220"):!e&&I?(t="success",n="80"):t="warning",localStorage.setItem("colorFechaIcon",t),localStorage.setItem(g,n),o(t)},[r,i]=(0,e.useState)(new Date(localStorage.getItem("timeInicio")||Ic+"-01-01T00:00:00")),[c,A]=(0,e.useState)(new Date(localStorage.getItem("timeFin")||ec+"-12-28T00:00:00")),[d,s]=(0,e.useState)({NumericFormatYearInicio:r.getFullYear(),NumericFormatYearFin:c.getFullYear()}),[u,b]=(0,e.useState)([r.getFullYear(),c.getFullYear()]),Z=g=>{var e,I=!1;if("NumericFormatYearInicio"===g.target.name){if((e=Math.min(g.target.value,d.NumericFormatYearFin-1))!==d.NumericFormatYearInicio){I=!0;const g=new Date(e,r.getMonth(),1);i(g),localStorage.setItem("timeInicio",g),b([e,u[1]])}}else if("NumericFormatYearFin"===g.target.name&&(e=Math.max(g.target.value,d.NumericFormatYearInicio+1))!==d.NumericFormatYearFin){I=!0;const g=new Date(e,c.getMonth(),25);A(g),localStorage.setItem("timeFin",g),b([u[0],e])}I&&s({...d,[g.target.name]:e})},[p,G]=(0,e.useState)(ac[r.getMonth()]),[h,y]=(0,e.useState)(""),[B,S]=(0,e.useState)(ac[c.getMonth()]),[W,V]=(0,e.useState)("");return(0,m.jsxs)(cr,{container:!0,sx:{p:2},component:"div",children:[(0,m.jsxs)(cr,{item:!0,xs:12,children:[(0,m.jsx)(YI,{id:"track-inverted-slider",gutterBottom:!0,children:"Timeline"}),(0,m.jsx)(bi,{size:"small",value:u,onChange:(g,e,t)=>{if(Array.isArray(e))if(0===t){if(I){var l=Math.min(e[0],u[1]-1);if(l!==u[0]){b([l,u[1]]);const g=new Date(l,r.getMonth(),1);i(g),localStorage.setItem("timeInicio",g),s({...d,NumericFormatYearInicio:l})}}}else if(n){var C=Math.max(e[1],u[0]+1);if(C!==u[1]){b([u[0],C]);const g=new Date(C,c.getMonth(),25);A(g),localStorage.setItem("timeFin",g),s({...d,NumericFormatYearFin:C})}}},valueLabelDisplay:"auto",getAriaValueText:Cc,step:1,min:Ic,max:ec,marks:oc,color:C,disabled:!I&&!n,sx:{marginLeft:1,maxWidth:"90%"}}),(0,m.jsx)(we,{sx:{pb:2}})]}),(0,m.jsx)(cr,{item:!0,xs:12,sx:{pt:2},children:(0,m.jsx)(YI,{})}),(0,m.jsx)(cr,{item:!0,xs:4,children:(0,m.jsx)(_a,{label:"Year",value:d.NumericFormatYearInicio,disabled:!I,onChange:Z,name:"NumericFormatYearInicio",type:"number",id:"formatted-NumericFormat-input",InputProps:{inputComponent:lc},variant:"standard"})}),(0,m.jsx)(cr,{item:!0,xs:8,sx:{pl:2},children:(0,m.jsx)(gc,{value:p,onChange:(g,e)=>{G(e),((g,e)=>{const I=e;var t=ac.findIndex((g=>g===I));const n=r.getFullYear();t<0&&(t=0);const l=new Date(n,t,1);i(l),localStorage.setItem("timeInicio",l)})(0,e)},inputValue:h,onInputChange:(g,e)=>{y(e)},id:"controllable-states-demo",disableClearable:!0,disabled:!I,options:ac,renderInput:g=>(0,m.jsx)(_a,{...g,label:"Month",variant:"standard",inputProps:{...g.inputProps,autoComplete:"new-password"}})})}),(0,m.jsxs)(cr,{item:!0,xs:12,sx:{pb:2},children:[(0,m.jsx)(kC,{control:(0,m.jsx)(cC,{checked:I,onChange:g=>{a(g.target.checked,n),localStorage.setItem("checkedTimeInicio",g.target.checked),t(g.target.checked)},inputProps:{"aria-label":"controlled"}}),label:"Start"}),(0,m.jsx)(we,{children:"TO"})]}),(0,m.jsx)(cr,{item:!0,xs:4,children:(0,m.jsx)(_a,{label:"Year",value:d.NumericFormatYearFin,disabled:!n,onChange:Z,name:"NumericFormatYearFin",type:"number",id:"formatted-NumericFormat-input",InputProps:{inputComponent:lc},variant:"standard"})}),(0,m.jsx)(cr,{item:!0,xs:8,sx:{pl:2},children:(0,m.jsx)(gc,{value:B,onChange:(g,e)=>{S(e),((g,e)=>{const I=e;var t=ac.findIndex((g=>g===I));const n=c.getFullYear();t<0&&(t=11);const l=new Date(n,t,25);A(l),localStorage.setItem("timeFin",l)})(0,e)},inputValue:W,onInputChange:(g,e)=>{V(e)},id:"controllable-states-demo",disableClearable:!0,disabled:!n,options:ac,renderInput:g=>(0,m.jsx)(_a,{...g,label:"Month",variant:"standard",inputProps:{...g.inputProps,autoComplete:"new-password"}})})}),(0,m.jsx)(cr,{item:!0,xs:12,children:(0,m.jsx)(kC,{control:(0,m.jsx)(cC,{checked:n,onChange:g=>{a(I,g.target.checked),localStorage.setItem("checkedTimeFin",g.target.checked),l(g.target.checked)},inputProps:{"aria-label":"controlled"}}),label:"End"})})]})},ic=(0,Ql.Z)((0,m.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),cc=(0,Ql.Z)((0,m.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");const Ac=(0,l.ZP)("span")({position:"relative",display:"flex"}),dc=(0,l.ZP)(ic)({transform:"scale(1)"}),sc=(0,l.ZP)(cc)((({theme:g,ownerState:e})=>(0,c.Z)({left:0,position:"absolute",transform:"scale(0)",transition:g.transitions.create("transform",{easing:g.transitions.easing.easeIn,duration:g.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:g.transitions.create("transform",{easing:g.transitions.easing.easeOut,duration:g.transitions.duration.shortest})})));var uc=function(g){const{checked:e=!1,classes:I={},fontSize:t}=g,n=(0,c.Z)({},g,{checked:e});return(0,m.jsxs)(Ac,{className:I.root,ownerState:n,children:[(0,m.jsx)(dc,{fontSize:t,className:I.background,ownerState:n}),(0,m.jsx)(sc,{fontSize:t,className:I.dot,ownerState:n})]})},mc=n(7450),bc=e.createContext(void 0);function Zc(g){return(0,fg.Z)("MuiRadio",g)}var pc=(0,vg.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]);const Gc=["checked","checkedIcon","color","icon","name","onChange","size","className"],hc=(0,l.ZP)(gC,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiRadio",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[`color${(0,$g.Z)(I.color)}`]]}})((({theme:g,ownerState:e})=>(0,c.Z)({color:(g.vars||g).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:g.vars?`rgba(${"default"===e.color?g.vars.palette.action.activeChannel:g.vars.palette[e.color].mainChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)("default"===e.color?g.palette.action.active:g.palette[e.color].main,g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==e.color&&{[`&.${pc.checked}`]:{color:(g.vars||g).palette[e.color].main}},{[`&.${pc.disabled}`]:{color:(g.vars||g).palette.action.disabled}}))),yc=(0,m.jsx)(uc,{checked:!0}),Bc=(0,m.jsx)(uc,{}),Sc=e.forwardRef((function(g,I){var t,n;const l=(0,rg.Z)({props:g,name:"MuiRadio"}),{checked:C,checkedIcon:o=yc,color:a="primary",icon:r=Bc,name:i,onChange:d,size:s="medium",className:u}=l,b=(0,A.Z)(l,Gc),Z=(0,c.Z)({},l,{color:a,size:s}),p=(g=>{const{classes:e,color:I,size:t}=g,n={root:["root",`color${(0,$g.Z)(I)}`,"medium"!==t&&`size${(0,$g.Z)(t)}`]};return(0,c.Z)({},e,(0,F.Z)(n,Zc,e))})(Z),G=e.useContext(bc);let h=C;const y=(0,mc.Z)(d,G&&G.onChange);let B=i;return G&&(void 0===h&&(h=function(g,e){return"object"==typeof e&&null!==e?g===e:String(g)===String(e)}(G.value,l.value)),void 0===B&&(B=G.name)),(0,m.jsx)(hc,(0,c.Z)({type:"radio",icon:e.cloneElement(r,{fontSize:null!=(t=Bc.props.fontSize)?t:s}),checkedIcon:e.cloneElement(o,{fontSize:null!=(n=yc.props.fontSize)?n:s}),ownerState:Z,classes:p,name:B,checked:h,onChange:y,ref:I,className:(0,W.Z)(p.root,u)},b))}));var Wc=Sc;function Vc(g){return(0,fg.Z)("MuiFormGroup",g)}(0,vg.Z)("MuiFormGroup",["root","row","error"]);const Rc=["className","row"],vc=(0,l.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.row&&e.row]}})((({ownerState:g})=>(0,c.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},g.row&&{flexDirection:"row"})));var fc=e.forwardRef((function(g,e){const I=(0,rg.Z)({props:g,name:"MuiFormGroup"}),{className:t,row:n=!1}=I,l=(0,A.Z)(I,Rc),C=RC({props:I,muiFormControl:Pl(),states:["error"]}),o=(0,c.Z)({},I,{row:n,error:C.error}),a=(g=>{const{classes:e,row:I,error:t}=g,n={root:["root",I&&"row",t&&"error"]};return(0,F.Z)(n,Vc,e)})(o);return(0,m.jsx)(vc,(0,c.Z)({className:(0,W.Z)(a.root,t),ownerState:o,ref:e},l))}));const Xc=["actions","children","defaultValue","name","onChange","value"];var kc=e.forwardRef((function(g,I){const{actions:t,children:n,defaultValue:l,name:C,onChange:o,value:a}=g,r=(0,A.Z)(g,Xc),i=e.useRef(null),[d,s]=(0,yl.Z)({controlled:a,default:l,name:"RadioGroup"});e.useImperativeHandle(t,(()=>({focus:()=>{let g=i.current.querySelector("input:not(:disabled):checked");g||(g=i.current.querySelector("input:not(:disabled)")),g&&g.focus()}})),[]);const u=(0,Bg.Z)(I,i),b=(0,hl.Z)(C),Z=e.useMemo((()=>({name:b,onChange(g){s(g.target.value),o&&o(g,g.target.value)},value:d})),[b,o,s,d]);return(0,m.jsx)(bc.Provider,{value:Z,children:(0,m.jsx)(fc,(0,c.Z)({role:"radiogroup",ref:u},r,{children:n}))})}));const Jc=({localStorageKey:g})=>(0,m.jsxs)(kc,{sx:{pl:4},"aria-label":"gender",defaultValue:localStorage.getItem(g)||"nombre_ascendente",name:"radio-buttons-group",onChange:e=>{var I,t;localStorage.setItem(g,e.target.value),"nombre_ascendente"===(I=e.target.value)?t="260":"nombre_descendente"===I?t="280":"fecha_ascendente"===I?t="80":"fecha_descendente"===I?t="60":"episodios_ascendente"===I?t="220":"episodios_descendente"===I?t="200":"puntuacion_ascendente"===I?t="330":"puntuacion_descendente"===I&&(t="350"),localStorage.setItem(g+"Color",t)},children:[(0,m.jsx)(kC,{value:"nombre_ascendente",control:(0,m.jsx)(Wc,{color:"primary",sx:{color:"#e53935"}}),label:"UP Name"}),(0,m.jsx)(kC,{value:"nombre_descendente",control:(0,m.jsx)(Wc,{color:"primary",sx:{color:"#e57373"}}),label:"DOWN Name"}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(kC,{value:"fecha_ascendente",control:(0,m.jsx)(Wc,{color:"success",sx:{color:"#00897b"}}),label:"UP Date"}),(0,m.jsx)(kC,{value:"fecha_descendente",control:(0,m.jsx)(Wc,{color:"success",sx:{color:"#4db6ac"}}),label:"DOWN Date"}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(kC,{value:"episodios_ascendente",control:(0,m.jsx)(Wc,{color:"secondary",sx:{color:"#5e35b1"}}),label:"UP Episodes"}),(0,m.jsx)(kC,{value:"episodios_descendente",control:(0,m.jsx)(Wc,{color:"secondary",sx:{color:"#9575cd"}}),label:"DOWN Episodes"}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(kC,{value:"puntuacion_ascendente",control:(0,m.jsx)(Wc,{color:"warning",sx:{color:"#ffb300"}}),label:"UP Score"}),(0,m.jsx)(kC,{value:"puntuacion_descendente",control:(0,m.jsx)(Wc,{color:"warning",sx:{color:"#ffd54f"}}),label:"DOWN Score"})]});var Yc=(0,e.memo)(Jc);const Hc=({localStorageKey:g})=>(0,m.jsxs)(kc,{sx:{pl:4},"aria-label":"gender",defaultValue:localStorage.getItem(g)||"todos",name:"radio-buttons-group",onChange:e=>{var I,t;localStorage.setItem(g,e.target.value),"todos"===(I=e.target.value)?t="":"saliendo"===I?t="220":"terminado"===I&&(t="45"),localStorage.setItem(g+"Color",t)},children:[(0,m.jsx)(kC,{value:"todos",control:(0,m.jsx)(Wc,{}),label:"All"}),(0,m.jsx)(kC,{value:"saliendo",control:(0,m.jsx)(Wc,{color:"secondary"}),label:"Running"}),(0,m.jsx)(kC,{value:"terminado",control:(0,m.jsx)(Wc,{color:"success"}),label:"Ended"})]});var wc=(0,e.memo)(Hc);function Nc(g){return(0,fg.Z)("MuiListItem",g)}var Fc=(0,vg.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function Kc(g){return(0,fg.Z)("MuiListItemSecondaryAction",g)}(0,vg.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);const xc=["className"],zc=(0,l.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.disableGutters&&e.disableGutters]}})((({ownerState:g})=>(0,c.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},g.disableGutters&&{right:0}))),Mc=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiListItemSecondaryAction"}),{className:n}=t,l=(0,A.Z)(t,xc),C=e.useContext(bI),o=(0,c.Z)({},t,{disableGutters:C.disableGutters}),a=(g=>{const{disableGutters:e,classes:I}=g,t={root:["root",e&&"disableGutters"]};return(0,F.Z)(t,Kc,I)})(o);return(0,m.jsx)(zc,(0,c.Z)({className:(0,W.Z)(a.root,n),ownerState:o,ref:I},l))}));Mc.muiName="ListItemSecondaryAction";var Ec=Mc;const Lc=["className"],Uc=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Qc=(0,l.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.dense&&e.dense,"flex-start"===I.alignItems&&e.alignItemsFlexStart,I.divider&&e.divider,!I.disableGutters&&e.gutters,!I.disablePadding&&e.padding,I.button&&e.button,I.hasSecondaryAction&&e.secondaryAction]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&(0,c.Z)({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${pI.root}`]:{paddingRight:48}},{[`&.${Fc.focusVisible}`]:{backgroundColor:(g.vars||g).palette.action.focus},[`&.${Fc.selected}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity),[`&.${Fc.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.focusOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.focusOpacity)}},[`&.${Fc.disabled}`]:{opacity:(g.vars||g).palette.action.disabledOpacity}},"flex-start"===e.alignItems&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(g.vars||g).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:g.transitions.create("background-color",{duration:g.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(g.vars||g).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fc.selected}:hover`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.hoverOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48}))),Tc=(0,l.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(g,e)=>e.container})({position:"relative"});var Dc=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiListItem"}),{alignItems:n="center",autoFocus:l=!1,button:C=!1,children:o,className:a,component:r,components:i={},componentsProps:d={},ContainerComponent:s="li",ContainerProps:{className:u}={},dense:b=!1,disabled:Z=!1,disableGutters:p=!1,disablePadding:G=!1,divider:h=!1,focusVisibleClassName:y,secondaryAction:B,selected:S=!1,slotProps:V={},slots:R={}}=t,v=(0,A.Z)(t.ContainerProps,Lc),f=(0,A.Z)(t,Uc),X=e.useContext(bI),k=e.useMemo((()=>({dense:b||X.dense||!1,alignItems:n,disableGutters:p})),[n,X.dense,b,p]),J=e.useRef(null);(0,mI.Z)((()=>{l&&J.current&&J.current.focus()}),[l]);const Y=e.Children.toArray(o),H=Y.length&&(0,wo.Z)(Y[Y.length-1],["ListItemSecondaryAction"]),w=(0,c.Z)({},t,{alignItems:n,autoFocus:l,button:C,dense:k.dense,disabled:Z,disableGutters:p,disablePadding:G,divider:h,hasSecondaryAction:H,selected:S}),N=(g=>{const{alignItems:e,button:I,classes:t,dense:n,disabled:l,disableGutters:C,disablePadding:o,divider:a,hasSecondaryAction:r,selected:i}=g,c={root:["root",n&&"dense",!C&&"gutters",!o&&"padding",a&&"divider",l&&"disabled",I&&"button","flex-start"===e&&"alignItemsFlexStart",r&&"secondaryAction",i&&"selected"],container:["container"]};return(0,F.Z)(c,Nc,t)})(w),K=(0,Bg.Z)(J,I),z=R.root||i.Root||Qc,M=V.root||d.root||{},E=(0,c.Z)({className:(0,W.Z)(N.root,M.className,a),disabled:Z},f);let L=r||"li";return C&&(E.component=r||"div",E.focusVisibleClassName=(0,W.Z)(Fc.focusVisible,y),L=aI),H?(L=E.component||r?L:"div","li"===s&&("li"===L?L="div":"li"===E.component&&(E.component="div")),(0,m.jsx)(bI.Provider,{value:k,children:(0,m.jsxs)(Tc,(0,c.Z)({as:s,className:(0,W.Z)(N.container,u),ref:K,ownerState:w},v,{children:[(0,m.jsx)(z,(0,c.Z)({},M,!x(z)&&{as:L,ownerState:(0,c.Z)({},w,M.ownerState)},E,{children:Y})),Y.pop()]}))})):(0,m.jsx)(bI.Provider,{value:k,children:(0,m.jsxs)(z,(0,c.Z)({},M,{as:L,ref:K},!x(z)&&{ownerState:(0,c.Z)({},w,M.ownerState)},E,{children:[Y,B&&(0,m.jsx)(Ec,{children:B})]}))})})),jc=n(219);function Pc(g){for(var e=1;e<arguments.length;e++){var I=arguments[e];for(var t in I)g[t]=I[t]}return g}var Oc=function g(e,I){function t(g,t,n){if("undefined"!=typeof document){"number"==typeof(n=Pc({},I,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),g=encodeURIComponent(g).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var C in n)n[C]&&(l+="; "+C,!0!==n[C]&&(l+="="+n[C].split(";")[0]));return document.cookie=g+"="+e.write(t,g)+l}}return Object.create({set:t,get:function(g){if("undefined"!=typeof document&&(!arguments.length||g)){for(var I=document.cookie?document.cookie.split("; "):[],t={},n=0;n<I.length;n++){var l=I[n].split("="),C=l.slice(1).join("=");try{var o=decodeURIComponent(l[0]);if(t[o]=e.read(C,o),g===o)break}catch(g){}}return g?t[g]:t}},remove:function(g,e){t(g,"",Pc({},e,{expires:-1}))},withAttributes:function(e){return g(this.converter,Pc({},this.attributes,e))},withConverter:function(e){return g(Pc({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(I)},converter:{value:Object.freeze(e)}})}({read:function(g){return'"'===g[0]&&(g=g.slice(1,-1)),g.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(g){return encodeURIComponent(g).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const qc=new Date,$c=qc.getFullYear().toString()+"-"+qc.getMonth().toString()+"-"+qc.getDay().toString(),_c=Oc.get("csrftoken"),gA={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("access")?"JWT "+localStorage.getItem("access"):null,"X-CSRFToken":_c}};function eA(g,e,I,t=parseInt(localStorage.getItem("page")||"0",10),n=parseInt(localStorage.getItem("rowsPerPage")||"12",10)){var l,C,o="true"===(localStorage.getItem("FilterON")||"true"),a=localStorage.getItem("orden")||"nombre_ascendente",r=localStorage.getItem("tansmicion")||"todos",i=localStorage.getItem("valueRating")||"0";l="true"===(localStorage.getItem("checkedTimeInicio")||"true")?new Date(localStorage.getItem("timeInicio")||Ic+"-01-01T00:00:00").toISOString().substring(0,10):"",C="true"===(localStorage.getItem("checkedTimeFin")||"true")?new Date(localStorage.getItem("timeFin")||ec+"-12-28T00:00:00").toISOString().substring(0,10):"";var c="";e.forEach((g=>{if("LISTAR"===g.clasificacion){var e=JSON.parse(localStorage.getItem(g.localStorageKey)||"[]");c+="&"+g.localStorageKey+"="+e}})),IA(g+"&filtros="+o+"&pagina="+t+"&cant_pagina="+n+"&orden="+a+"&tansmicion="+r+"&fecha_inicio="+l+"&fecha_fin="+C+"&puntuacion="+i+c,I)}const IA=(g,e,I=!0)=>{const t=ab+g;var n=!0,l="xCACHE_"+$c;I&&(l+="_"+t,localStorage.getItem(l)&&(n=!1)),n?fetch(t,gA).then((g=>200===g.status||201===g.status?g.json():401===g.status||g.status>400?(void 0).setState((()=>({placeholder:"Error"}))):void 0)).then((g=>{g?(I&&localStorage.setItem(l,JSON.stringify(g)),e(g)):e(null)})):e(JSON.parse(localStorage.getItem(l)))},tA=(0,l.ZP)((({className:g,...e})=>(0,m.jsx)(Yl,{...e,classes:{popper:g}})))((({theme:g})=>({[`& .${Sl.tooltip}`]:{backgroundColor:g.palette.background.paper,color:g.palette.text.primary,boxShadow:g.shadows[1],fontSize:11,textAlign:"justify"}}))),nA=[{id:0,nombre:"Vacio",descripcion:""}];function lA({apiURL:g,localStorageKey:I}){const[t,n]=(0,e.useState)(nA),[l,C]=(0,e.useState)(1),o=g=>{g&&(C(parseInt(360/g.length,10)),n(g))},[a,r]=(0,e.useState)(JSON.parse(localStorage.getItem(I))||[]),i=g=>{let e=[];e=a.slice();const I=e.findIndex((e=>e==g.target.id));-1!=I?e.length>0&&e.splice(I,1):e.push(g.target.id),r(e.slice())},c=()=>t.map((g=>(0,m.jsx)(tA,{title:g.descripcion,placement:"right-start",arrow:!0,children:(0,m.jsx)(Dc,{sx:{pl:4,pt:0,pb:0},children:(0,m.jsx)(kC,{control:(0,m.jsx)(cC,{id:g.id.toString(),onChange:i}),label:g.nombre,checked:-1!=a.findIndex((e=>e==g.id.toString()))})},g.id)},g.id)));return(0,e.useEffect)((()=>{localStorage.setItem(I,JSON.stringify(a)),a.length>0?localStorage.setItem(I+"Color",a.length*l):localStorage.setItem(I+"Color","")}),[a]),(0,e.useEffect)((()=>{localStorage.getItem("LocalStorage"+I)||IA(g,o)}),[]),(0,e.useEffect)((()=>{c()}),[t]),(0,m.jsxs)(N,{children:[(0,m.jsxs)(yI,{onClick:()=>{r([])},sx:{pl:4},children:[(0,m.jsx)(jc.Z,{}),(0,m.jsx)(YI,{sx:{pl:1},children:"Clear"})]}),(0,m.jsx)(qg,{style:{maxHeight:200,overflow:"auto"},children:(0,m.jsx)(LI,{component:"div",disablePadding:!0,children:(0,m.jsx)(fc,{row:!0,sx:{marginLeft:2},children:c()})})})]})}var CA=(0,Ql.Z)((0,m.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),oA=(0,Ql.Z)((0,m.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function aA(g){return(0,fg.Z)("MuiRating",g)}var rA=(0,vg.Z)("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);const iA=["value"],cA=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function AA(g,e){if(null==g)return g;const I=Math.round(g/e)*e;return Number(I.toFixed(function(g){const e=g.toString().split(".")[1];return e?e.length:0}(e)))}const dA=(0,l.ZP)("span",{name:"MuiRating",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[{[`& .${rA.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${(0,$g.Z)(I.size)}`],I.readOnly&&e.readOnly]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"inline-flex",position:"relative",fontSize:g.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${rA.disabled}`]:{opacity:(g.vars||g).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${rA.focusVisible} .${rA.iconActive}`]:{outline:"1px solid #999"},[`& .${rA.visuallyHidden}`]:Ur},"small"===e.size&&{fontSize:g.typography.pxToRem(18)},"large"===e.size&&{fontSize:g.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"}))),sA=(0,l.ZP)("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:g},e)=>[e.label,g.emptyValueFocused&&e.labelEmptyValueActive]})((({ownerState:g})=>(0,c.Z)({cursor:"inherit"},g.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}))),uA=(0,l.ZP)("span",{name:"MuiRating",slot:"Icon",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.icon,I.iconEmpty&&e.iconEmpty,I.iconFilled&&e.iconFilled,I.iconHover&&e.iconHover,I.iconFocus&&e.iconFocus,I.iconActive&&e.iconActive]}})((({theme:g,ownerState:e})=>(0,c.Z)({display:"flex",transition:g.transitions.create("transform",{duration:g.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(g.vars||g).palette.action.disabled}))),mA=(0,l.ZP)("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:g=>(0,l.Dz)(g)&&"iconActive"!==g,overridesResolver:(g,e)=>{const{iconActive:I}=g;return[e.decimal,I&&e.iconActive]}})((({iconActive:g})=>(0,c.Z)({position:"relative"},g&&{transform:"scale(1.2)"})));function bA(g){const e=(0,A.Z)(g,iA);return(0,m.jsx)("span",(0,c.Z)({},e))}function ZA(g){const{classes:I,disabled:t,emptyIcon:n,focus:l,getLabelText:C,highlightSelectedOnly:o,hover:a,icon:r,IconContainerComponent:i,isActive:A,itemValue:d,labelProps:s,name:u,onBlur:b,onChange:Z,onClick:p,onFocus:G,readOnly:h,ownerState:y,ratingValue:B,ratingValueRounded:S}=g,V=o?d===B:d<=B,R=d<=a,v=d<=l,f=d===S,X=(0,hl.Z)(),k=(0,m.jsx)(uA,{as:i,value:d,className:(0,W.Z)(I.icon,V?I.iconFilled:I.iconEmpty,R&&I.iconHover,v&&I.iconFocus,A&&I.iconActive),ownerState:(0,c.Z)({},y,{iconEmpty:!V,iconFilled:V,iconHover:R,iconFocus:v,iconActive:A}),children:n&&!V?n:r});return h?(0,m.jsx)("span",(0,c.Z)({},s,{children:k})):(0,m.jsxs)(e.Fragment,{children:[(0,m.jsxs)(sA,(0,c.Z)({ownerState:(0,c.Z)({},y,{emptyValueFocused:void 0}),htmlFor:X},s,{children:[k,(0,m.jsx)("span",{className:I.visuallyHidden,children:C(d)})]})),(0,m.jsx)("input",{className:I.visuallyHidden,onFocus:G,onBlur:b,onChange:Z,onClick:p,disabled:t,value:d,id:X,type:"radio",name:u,checked:f})]})}const pA=(0,m.jsx)(CA,{fontSize:"inherit"}),GA=(0,m.jsx)(oA,{fontSize:"inherit"});function hA(g){return`${g} Star${1!==g?"s":""}`}const yA=e.forwardRef((function(g,I){const t=(0,rg.Z)({name:"MuiRating",props:g}),{className:n,defaultValue:l=null,disabled:C=!1,emptyIcon:o=GA,emptyLabelText:a="Empty",getLabelText:i=hA,highlightSelectedOnly:d=!1,icon:s=pA,IconContainerComponent:u=bA,max:b=5,name:Z,onChange:p,onChangeActive:G,onMouseLeave:h,onMouseMove:y,precision:B=1,readOnly:S=!1,size:V="medium",value:R}=t,v=(0,A.Z)(t,cA),f=(0,hl.Z)(Z),[X,k]=(0,yl.Z)({controlled:R,default:l,name:"Rating"}),J=AA(X,B),Y=r(),[{hover:H,focus:w},N]=e.useState({hover:-1,focus:-1});let K=J;-1!==H&&(K=H),-1!==w&&(K=w);const{isFocusVisibleRef:x,onBlur:z,onFocus:M,ref:E}=(0,Fe.Z)(),[L,U]=e.useState(!1),Q=e.useRef(),T=(0,Bg.Z)(E,Q,I),D=g=>{let e=""===g.target.value?null:parseFloat(g.target.value);-1!==H&&(e=H),k(e),p&&p(g,e)},j=g=>{0===g.clientX&&0===g.clientY||(N({hover:-1,focus:-1}),k(null),p&&parseFloat(g.target.value)===J&&p(g,null))},P=g=>{M(g),!0===x.current&&U(!0);const e=parseFloat(g.target.value);N((g=>({hover:g.hover,focus:e})))},O=g=>{-1===H&&(z(g),!1===x.current&&U(!1),N((g=>({hover:g.hover,focus:-1}))))},[q,$]=e.useState(!1),_=(0,c.Z)({},t,{defaultValue:l,disabled:C,emptyIcon:o,emptyLabelText:a,emptyValueFocused:q,focusVisible:L,getLabelText:i,icon:s,IconContainerComponent:u,max:b,precision:B,readOnly:S,size:V}),gg=(g=>{const{classes:e,size:I,readOnly:t,disabled:n,emptyValueFocused:l,focusVisible:C}=g,o={root:["root",`size${(0,$g.Z)(I)}`,n&&"disabled",C&&"focusVisible",t&&"readOnly"],label:["label","pristine"],labelEmptyValue:[l&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return(0,F.Z)(o,aA,e)})(_);return(0,m.jsxs)(dA,(0,c.Z)({ref:T,onMouseMove:g=>{y&&y(g);const e=Q.current,{right:I,left:t}=e.getBoundingClientRect(),{width:n}=e.firstChild.getBoundingClientRect();let l;l="rtl"===Y.direction?(I-g.clientX)/(n*b):(g.clientX-t)/(n*b);let C=AA(b*l+B/2,B);C=function(g,e,I){return g<e?e:g>I?I:g}(C,B,b),N((g=>g.hover===C&&g.focus===C?g:{hover:C,focus:C})),U(!1),G&&H!==C&&G(g,C)},onMouseLeave:g=>{h&&h(g),N({hover:-1,focus:-1}),G&&-1!==H&&G(g,-1)},className:(0,W.Z)(gg.root,n,S&&"MuiRating-readOnly"),ownerState:_,role:S?"img":null,"aria-label":S?i(K):null},v,{children:[Array.from(new Array(b)).map(((g,e)=>{const I=e+1,t={classes:gg,disabled:C,emptyIcon:o,focus:w,getLabelText:i,highlightSelectedOnly:d,hover:H,icon:s,IconContainerComponent:u,name:f,onBlur:O,onChange:D,onClick:j,onFocus:P,ratingValue:K,ratingValueRounded:J,readOnly:S,ownerState:_},n=I===Math.ceil(K)&&(-1!==H||-1!==w);if(B<1){const g=Array.from(new Array(1/B));return(0,m.jsx)(mA,{className:(0,W.Z)(gg.decimal,n&&gg.iconActive),ownerState:_,iconActive:n,children:g.map(((e,n)=>{const l=AA(I-1+(n+1)*B,B);return(0,m.jsx)(ZA,(0,c.Z)({},t,{isActive:!1,itemValue:l,labelProps:{style:g.length-1===n?{}:{width:l===K?(n+1)*B*100+"%":"0%",overflow:"hidden",position:"absolute"}}}),l)}))},I)}return(0,m.jsx)(ZA,(0,c.Z)({},t,{isActive:n,itemValue:I}),I)})),!S&&!C&&(0,m.jsxs)(sA,{className:(0,W.Z)(gg.label,gg.labelEmptyValue),ownerState:_,children:[(0,m.jsx)("input",{className:gg.visuallyHidden,value:"",id:`${f}-empty`,type:"radio",name:f,checked:null==J,onFocus:()=>$(!0),onBlur:()=>$(!1),onChange:D}),(0,m.jsx)("span",{className:gg.visuallyHidden,children:a})]})]}))}));var BA=yA,SA=n(4957);const WA={0:"All",1:"Terrible",2:"Very Low",3:"Low",4:"Below Average",5:"Average",6:"Above Average",7:"High",8:"Very High",9:"Excellent",10:"Exceptional"},VA=({localStorageKey:g})=>{const[I,t]=(0,e.useState)(localStorage.getItem("colorStarIco")||"#fff9c4"),[n,l]=(0,e.useState)(parseInt(localStorage.getItem(g)||"0",10)),[C,o]=(0,e.useState)(-1);return(0,m.jsxs)(N,{sx:{p:2,display:"block",alignItems:"center"},children:[(0,m.jsx)(BA,{sx:{color:I},name:"simple-controlled",value:n,max:10,size:"small",onChange:(e,I)=>{(e=>{var I,n;localStorage.setItem(g,e),l(e),n=1===(I=e)?"#fbe9e7":2===I?"#ffccbc":3===I?"#ffab91":4===I?"#ff8a65":5===I?"#ff7043":6===I?"#ff5722":7===I?"#f4511e":8===I?"#e64a19":9===I?"#d84315":"#bf360c",localStorage.setItem("colorStarIco",n),I>0?localStorage.setItem(g+"Color",35*I):localStorage.setItem(g+"Color",""),t(n)})(I)},onChangeActive:(g,e)=>{o(e)},emptyIcon:(0,m.jsx)(SA.Z,{style:{opacity:.55},fontSize:"inherit"})}),(0,m.jsx)(N,{sx:{pl:1},children:WA[-1!==C?C:n]})]})};var RA=(0,e.memo)(VA),vA=n(8162),fA=n(1241),XA=n(1334);function kA(g,e){return g.id<e.id?-1:g.id>e.id?1:0}function JA({items:g,handleDrawerOpen:I,openDrawer:t,requestSync:n}){const[l,C]=(0,e.useState)(t&&JSON.parse(localStorage.getItem("LateralOpenMenu"))||{}),[o,a]=(0,e.useState)("true"===(localStorage.getItem("FilterON")||"true")),[r,i]=(0,e.useState)("true"===(localStorage.getItem("FilterOpen")||"true"));(0,e.useEffect)((()=>{localStorage.setItem("LateralOpenMenu",JSON.stringify(l))}),[l]),(0,e.useEffect)((()=>{t||C({}),localStorage.setItem("LateralOpenMenu",JSON.stringify({}))}),[t]);const c=({item:g})=>"ORDENAR"===g.clasificacion?(0,m.jsx)(Yc,{localStorageKey:g.localStorageKey},g.id):"TRANSMISION"===g.clasificacion?(0,m.jsx)(wc,{localStorageKey:g.localStorageKey},g.id):"FECHA"===g.clasificacion?(0,m.jsx)(rc,{colorIcons:g.localStorageKey+"Color"},g.id):"LISTAR"===g.clasificacion?(0,m.jsx)(lA,{apiURL:"/principal/"+g.url,localStorageKey:g.localStorageKey},g.id):"PUNTUACION"===g.clasificacion?(0,m.jsx)(RA,{localStorageKey:g.localStorageKey},g.id):void 0;return(0,m.jsx)(N,{sx:{marginLeft:-1},children:(0,m.jsx)(LI,{children:(0,m.jsxs)(N,{children:[(0,m.jsxs)(yI,{onClick:()=>(I(),localStorage.setItem("FilterOpen",!r),void i(!r)),children:[(0,m.jsx)(RI,{sx:{...!o&&{color:"orange"}},children:(0,m.jsx)(vA.Z,{sx:{width:40}})}),(0,m.jsx)(KI,{primary:"Filters"}),r?(0,m.jsx)(Tl,{}):(0,m.jsx)(Dl,{})]}),(0,m.jsxs)(Ul,{in:r,timeout:"auto",unmountOnExit:!0,children:[(0,m.jsx)(LI,{component:"div",disablePadding:!0,children:(0,m.jsxs)(yI,{onClick:()=>(localStorage.setItem("FilterON",!o),void a(!o)),children:[(0,m.jsx)(RI,{sx:{...!o&&{color:"orange"}},children:(0,m.jsx)(fA.Z,{sx:{width:40}})}),(0,m.jsx)(KI,{primary:o?"Disable filters":"Activate filters"})]})},0),(0,m.jsx)(LI,{component:"div",disablePadding:!0,children:(0,m.jsxs)(yI,{onClick:()=>n(),children:[(0,m.jsx)(RI,{children:(0,m.jsx)(XA.Z,{sx:{width:40}})}),(0,m.jsx)(KI,{primary:"Update filters"})]})},1),(0,m.jsx)(we,{variant:"middle"}),(0,m.jsx)(LI,{component:"div",disablePadding:!0,children:g.sort(kA).map((g=>{var e=localStorage.getItem(g.localStorageKey+"Color"),t=localStorage.getItem(g.localStorageKey+"Color")?"sepia(13%) saturate(3207%) hue-rotate("+e+"deg)":"";return(0,m.jsxs)(N,{children:[(0,m.jsxs)(yI,{onClick:()=>{return e=g.id,I(),void C((g=>({...g,[e]:!g[e]})));var e},children:[(0,m.jsx)(RI,{color:"primary",sx:{paddingLeft:.5,filter:t},children:(0,m.jsx)("img",{src:g.image,width:30})}),(0,m.jsx)(KI,{primary:g.nombre}),l[g.id]?(0,m.jsx)(Tl,{}):(0,m.jsx)(Dl,{})]}),(0,m.jsx)(Ul,{in:l[g.id],timeout:"auto",unmountOnExit:!0,children:(0,m.jsx)(LI,{component:"div",disablePadding:!0,children:(0,m.jsx)(c,{item:g})},g.id)}),(0,m.jsx)(we,{variant:"middle"})]},g.id)}))},3)]})]},0)})})}const YA=()=>{let g=kt();return(0,e.useEffect)((()=>{localStorage.setItem("LateralMenuIndex",JSON.stringify(1)),g("/serie",{replace:!0})}),[]),(0,m.jsx)("p",{children:"Inicio"})};var HA=(0,e.memo)(YA),wA=n(2761);const NA=(0,l.ZP)("div")((({theme:g})=>({position:"relative",marginRight:g.spacing(2),borderRadius:g.shape.borderRadius,backgroundColor:(0,Tg.Fq)(g.palette.common.white,.15),"&:hover":{backgroundColor:(0,Tg.Fq)(g.palette.common.white,.25)},marginLeft:0,width:"100%",[g.breakpoints.up("sm")]:{marginLeft:g.spacing(1),width:"auto"}}))),FA=(0,l.ZP)("div")((({theme:g})=>({padding:g.spacing(0,1.5),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}))),KA=(0,l.ZP)(qC)((({theme:g})=>({color:"inherit","& .MuiInputBase-input":{padding:g.spacing(1,1,1,0),paddingLeft:`calc(1em + ${g.spacing(4)})`,transition:g.transitions.create("width"),width:"100%",[g.breakpoints.up("sm")]:{width:"12ch","&:focus":{width:"20ch"}}}}))),xA=({handleEntradaBuscador:g})=>(0,m.jsxs)(NA,{children:[(0,m.jsx)(FA,{children:(0,m.jsx)(wA.Z,{})}),(0,m.jsx)(KA,{placeholder:"Search…",inputProps:{"aria-label":"search"},onChange:e=>{var I=e.target.value;g(I)}})]});var zA=(0,e.memo)(xA);function MA(g){return(0,fg.Z)("MuiMenuItem",g)}var EA=(0,vg.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);const LA=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],UA=(0,l.ZP)(aI,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiMenuItem",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,I.dense&&e.dense,I.divider&&e.divider,!I.disableGutters&&e.gutters]}})((({theme:g,ownerState:e})=>(0,c.Z)({},g.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(g.vars||g).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(g.vars||g).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${EA.selected}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity),[`&.${EA.focusVisible}`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.focusOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.focusOpacity)}},[`&.${EA.selected}:hover`]:{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / calc(${g.vars.palette.action.selectedOpacity} + ${g.vars.palette.action.hoverOpacity}))`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity+g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:g.vars?`rgba(${g.vars.palette.primary.mainChannel} / ${g.vars.palette.action.selectedOpacity})`:(0,Tg.Fq)(g.palette.primary.main,g.palette.action.selectedOpacity)}},[`&.${EA.focusVisible}`]:{backgroundColor:(g.vars||g).palette.action.focus},[`&.${EA.disabled}`]:{opacity:(g.vars||g).palette.action.disabledOpacity},[`& + .${Xe.root}`]:{marginTop:g.spacing(1),marginBottom:g.spacing(1)},[`& + .${Xe.inset}`]:{marginLeft:52},[`& .${wI.root}`]:{marginTop:0,marginBottom:0},[`& .${wI.inset}`]:{paddingLeft:36},[`& .${SI.root}`]:{minWidth:36}},!e.dense&&{[g.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&(0,c.Z)({minHeight:32,paddingTop:4,paddingBottom:4},g.typography.body2,{[`& .${SI.root} svg`]:{fontSize:"1.25rem"}}))));var QA=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiMenuItem"}),{autoFocus:n=!1,component:l="li",dense:C=!1,divider:o=!1,disableGutters:a=!1,focusVisibleClassName:r,role:i="menuitem",tabIndex:d,className:s}=t,u=(0,A.Z)(t,LA),b=e.useContext(bI),Z=e.useMemo((()=>({dense:C||b.dense||!1,disableGutters:a})),[b.dense,C,a]),p=e.useRef(null);(0,mI.Z)((()=>{n&&p.current&&p.current.focus()}),[n]);const G=(0,c.Z)({},t,{dense:Z.dense,divider:o,disableGutters:a}),h=(g=>{const{disabled:e,dense:I,divider:t,disableGutters:n,selected:l,classes:C}=g,o={root:["root",I&&"dense",e&&"disabled",!n&&"gutters",t&&"divider",l&&"selected"]},a=(0,F.Z)(o,MA,C);return(0,c.Z)({},C,a)})(t),y=(0,Bg.Z)(p,I);let B;return t.disabled||(B=void 0!==d?d:-1),(0,m.jsx)(bI.Provider,{value:Z,children:(0,m.jsx)(UA,(0,c.Z)({ref:y,role:i,tabIndex:B,component:l,focusVisibleClassName:(0,W.Z)(h.focusVisible,r),className:(0,W.Z)(h.root,s)},u,{ownerState:G,classes:h}))})})),TA=e.createContext(),DA=e.createContext();function jA(g){return(0,fg.Z)("MuiTableCell",g)}var PA=(0,vg.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);const OA=["align","className","component","padding","scope","size","sortDirection","variant"],qA=(0,l.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[I.variant],e[`size${(0,$g.Z)(I.size)}`],"normal"!==I.padding&&e[`padding${(0,$g.Z)(I.padding)}`],"inherit"!==I.align&&e[`align${(0,$g.Z)(I.align)}`],I.stickyHeader&&e.stickyHeader]}})((({theme:g,ownerState:e})=>(0,c.Z)({},g.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:g.vars?`1px solid ${g.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===g.palette.mode?(0,Tg.$n)((0,Tg.Fq)(g.palette.divider,1),.88):(0,Tg._j)((0,Tg.Fq)(g.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===e.variant&&{color:(g.vars||g).palette.text.primary,lineHeight:g.typography.pxToRem(24),fontWeight:g.typography.fontWeightMedium},"body"===e.variant&&{color:(g.vars||g).palette.text.primary},"footer"===e.variant&&{color:(g.vars||g).palette.text.secondary,lineHeight:g.typography.pxToRem(21),fontSize:g.typography.pxToRem(12)},"small"===e.size&&{padding:"6px 16px",[`&.${PA.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===e.padding&&{width:48,padding:"0 0 0 4px"},"none"===e.padding&&{padding:0},"left"===e.align&&{textAlign:"left"},"center"===e.align&&{textAlign:"center"},"right"===e.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===e.align&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(g.vars||g).palette.background.default})));var $A,_A,gd,ed,Id,td,nd,ld,Cd=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiTableCell"}),{align:n="inherit",className:l,component:C,padding:o,scope:a,size:r,sortDirection:i,variant:d}=t,s=(0,A.Z)(t,OA),u=e.useContext(TA),b=e.useContext(DA),Z=b&&"head"===b.variant;let p;p=C||(Z?"th":"td");let G=a;"td"===p?G=void 0:!G&&Z&&(G="col");const h=d||b&&b.variant,y=(0,c.Z)({},t,{align:n,component:p,padding:o||(u&&u.padding?u.padding:"normal"),size:r||(u&&u.size?u.size:"medium"),sortDirection:i,stickyHeader:"head"===h&&u&&u.stickyHeader,variant:h}),B=(g=>{const{classes:e,variant:I,align:t,padding:n,size:l,stickyHeader:C}=g,o={root:["root",I,C&&"stickyHeader","inherit"!==t&&`align${(0,$g.Z)(t)}`,"normal"!==n&&`padding${(0,$g.Z)(n)}`,`size${(0,$g.Z)(l)}`]};return(0,F.Z)(o,jA,e)})(y);let S=null;return i&&(S="asc"===i?"ascending":"descending"),(0,m.jsx)(qA,(0,c.Z)({as:p,ref:I,className:(0,W.Z)(B.root,l),"aria-sort":S,scope:G,ownerState:y},s))})),od=(0,Ql.Z)((0,m.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ad=(0,Ql.Z)((0,m.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),rd=(0,Ql.Z)((0,m.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),id=(0,Ql.Z)((0,m.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");const cd=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"];var Ad=e.forwardRef((function(g,e){const{backIconButtonProps:I,count:t,getItemAriaLabel:n,nextIconButtonProps:l,onPageChange:C,page:o,rowsPerPage:a,showFirstButton:i,showLastButton:d}=g,s=(0,A.Z)(g,cd),u=r();return(0,m.jsxs)("div",(0,c.Z)({ref:e},s,{children:[i&&(0,m.jsx)(dI,{onClick:g=>{C(g,0)},disabled:0===o,"aria-label":n("first",o),title:n("first",o),children:"rtl"===u.direction?$A||($A=(0,m.jsx)(rd,{})):_A||(_A=(0,m.jsx)(id,{}))}),(0,m.jsx)(dI,(0,c.Z)({onClick:g=>{C(g,o-1)},disabled:0===o,color:"inherit","aria-label":n("previous",o),title:n("previous",o)},I,{children:"rtl"===u.direction?gd||(gd=(0,m.jsx)(ad,{})):ed||(ed=(0,m.jsx)(od,{}))})),(0,m.jsx)(dI,(0,c.Z)({onClick:g=>{C(g,o+1)},disabled:-1!==t&&o>=Math.ceil(t/a)-1,color:"inherit","aria-label":n("next",o),title:n("next",o)},l,{children:"rtl"===u.direction?Id||(Id=(0,m.jsx)(od,{})):td||(td=(0,m.jsx)(ad,{}))})),d&&(0,m.jsx)(dI,{onClick:g=>{C(g,Math.max(0,Math.ceil(t/a)-1))},disabled:o>=Math.ceil(t/a)-1,"aria-label":n("last",o),title:n("last",o),children:"rtl"===u.direction?nd||(nd=(0,m.jsx)(id,{})):ld||(ld=(0,m.jsx)(rd,{}))})]}))}));function dd(g){return(0,fg.Z)("MuiTablePagination",g)}var sd,ud=(0,vg.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);const md=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],bd=(0,l.ZP)(Cd,{name:"MuiTablePagination",slot:"Root",overridesResolver:(g,e)=>e.root})((({theme:g})=>({overflow:"auto",color:(g.vars||g).palette.text.primary,fontSize:g.typography.pxToRem(14),"&:last-child":{padding:0}}))),Zd=(0,l.ZP)(me,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(g,e)=>(0,c.Z)({[`& .${ud.actions}`]:e.actions},e.toolbar)})((({theme:g})=>({minHeight:52,paddingRight:2,[`${g.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[g.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ud.actions}`]:{flexShrink:0,marginLeft:20}}))),pd=(0,l.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(g,e)=>e.spacer})({flex:"1 1 100%"}),Gd=(0,l.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(g,e)=>e.selectLabel})((({theme:g})=>(0,c.Z)({},g.typography.body2,{flexShrink:0}))),hd=(0,l.ZP)(ja,{name:"MuiTablePagination",slot:"Select",overridesResolver:(g,e)=>(0,c.Z)({[`& .${ud.selectIcon}`]:e.selectIcon,[`& .${ud.select}`]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ud.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),yd=(0,l.ZP)(QA,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(g,e)=>e.menuItem})({}),Bd=(0,l.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(g,e)=>e.displayedRows})((({theme:g})=>(0,c.Z)({},g.typography.body2,{flexShrink:0})));function Sd({from:g,to:e,count:I}){return`${g}–${e} of ${-1!==I?I:`more than ${e}`}`}function Wd(g){return`Go to ${g} page`}var Vd=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiTablePagination"}),{ActionsComponent:n=Ad,backIconButtonProps:l,className:C,colSpan:o,component:a=Cd,count:r,getItemAriaLabel:i=Wd,labelDisplayedRows:d=Sd,labelRowsPerPage:s="Rows per page:",nextIconButtonProps:u,onPageChange:b,onRowsPerPageChange:Z,page:p,rowsPerPage:G,rowsPerPageOptions:h=[10,25,50,100],SelectProps:y={},showFirstButton:B=!1,showLastButton:S=!1}=t,V=(0,A.Z)(t,md),R=t,v=(g=>{const{classes:e}=g;return(0,F.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},dd,e)})(R),f=y.native?"option":yd;let X;a!==Cd&&"td"!==a||(X=o||1e3);const k=(0,hl.Z)(y.id),J=(0,hl.Z)(y.labelId);return(0,m.jsx)(bd,(0,c.Z)({colSpan:X,ref:I,as:a,ownerState:R,className:(0,W.Z)(v.root,C)},V,{children:(0,m.jsxs)(Zd,{className:v.toolbar,children:[(0,m.jsx)(pd,{className:v.spacer}),h.length>1&&(0,m.jsx)(Gd,{className:v.selectLabel,id:J,children:s}),h.length>1&&(0,m.jsx)(hd,(0,c.Z)({variant:"standard"},!y.variant&&{input:sd||(sd=(0,m.jsx)(qC,{}))},{value:G,onChange:Z,id:k,labelId:J},y,{classes:(0,c.Z)({},y.classes,{root:(0,W.Z)(v.input,v.selectRoot,(y.classes||{}).root),select:(0,W.Z)(v.select,(y.classes||{}).select),icon:(0,W.Z)(v.selectIcon,(y.classes||{}).icon)}),children:h.map((g=>(0,e.createElement)(f,(0,c.Z)({},!x(f)&&{ownerState:R},{className:v.menuItem,key:g.label?g.label:g,value:g.value?g.value:g}),g.label?g.label:g)))})),(0,m.jsx)(Bd,{className:v.displayedRows,children:d({from:0===r?0:p*G+1,to:-1===r?(p+1)*G:-1===G?r:Math.min(r,(p+1)*G),count:-1===r?-1:r,page:p})}),(0,m.jsx)(n,{className:v.actions,backIconButtonProps:l,count:r,nextIconButtonProps:u,onPageChange:b,page:p,rowsPerPage:G,showFirstButton:B,showLastButton:S,getItemAriaLabel:i})]})}))}));const Rd=(0,l.ZP)((({className:g,...e})=>(0,m.jsx)(Yl,{...e,classes:{popper:g}})))((({theme:g})=>({[`& .${Sl.tooltip}`]:{backgroundColor:g.palette.background.paper,color:g.palette.text.primary,boxShadow:g.shadows[1],fontSize:11,textAlign:"justify"}}))),vd=({nombre:g,puntuacion:I,descripcion:t,fecha_inicio:n,genero:C=[],cantidad:o,color:a,img:r,size:i})=>{const[c,A]=(0,e.useState)((()=>{var g=0,e=0,I=0,t=0,n=0,l=0;return"large"===i?(g=460,e=1.39,I=1.34,t=1.335,n=1.27,l=1.24):"small"===i?(g=240,e=1.42,I=1.39,t=1.404,n=1.36,l=1.42):(g=350,e=1.4,I=1.36,t=1.36,n=1.3,l=1.275),{CardSizeWidth:g,CardSizeHeight:1.46*g,ImgSize:.78*g,NombreTop:e,PuntuacionTop:I,ImagenTop:t,DescripcionTop:n,FechaTop:l}})),d=(0,l.ZP)("img")({position:"relative",width:c.ImgSize,height:c.ImgSize,top:-c.CardSizeWidth*c.ImagenTop,left:"11%",boxShadow:"0 0 0.75rem "+a}),s=(0,l.ZP)("img")({display:"block",width:"100%",height:"100%"}),u="/media/cards/"+a+".jpg";return(0,m.jsx)(Rd,{title:g+": "+t,placement:"right-start",followCursor:!0,children:(0,m.jsxs)(N,{sx:{width:c.CardSizeWidth,height:c.CardSizeHeight},children:[(0,m.jsx)(s,{alt:"complex",src:`${u}`}),(0,m.jsx)(YI,{align:"left",variant:"subtitle1",component:"div",sx:{height:"22px",width:"84%",overflow:"hidden",position:"relative",top:-c.CardSizeWidth*c.NombreTop,left:"8%",color:"black",textShadow:"2px 2px 4px white",fontWeight:"bold"},children:g}),(0,m.jsx)(BA,{name:"simple-controlled",sx:{height:"4%",width:"80%",position:"relative",top:-c.CardSizeWidth*c.PuntuacionTop,left:"10%",color:"black"},value:I,emptyIcon:(0,m.jsx)(SA.Z,{style:{opacity:.55},fontSize:"inherit"}),readOnly:!0,size:i,max:10}),(0,m.jsx)(d,{src:`${r||"/media/none.png"}`}),(0,m.jsxs)(N,{sx:{height:"17.5%",width:"83%",overflow:"hidden",verflow:"hidden",position:"relative",top:-c.CardSizeWidth*c.DescripcionTop,left:"8%"},children:[(0,m.jsxs)(YI,{variant:"body2",sx:{textAlign:"justify",fontSize:"12px",color:"black",overflow:"hidden",maxHeight:"80%"},children:["[",C.join(", "),"]"]}),"small"!==i&&(0,m.jsx)(we,{sx:{backgroundColor:"black"}}),(0,m.jsx)(YI,{variant:"body2",sx:{textAlign:"justify",fontSize:"12px",color:"black"},children:"small"!==i&&t})]}),(0,m.jsxs)(N,{sx:{height:"20px",width:"84%",overflow:"hidden",position:"relative",top:-c.CardSizeWidth*c.FechaTop,left:"8%",display:"flex",alignItems:"center"},children:[(0,m.jsxs)(YI,{variant:"body2",sx:{fontSize:"11px",color:"black",fontWeight:"bold",width:"100px",flexGrow:1},children:["Episodes: ",o]}),(0,m.jsxs)(YI,{variant:"body2",sx:{fontSize:"11px",color:"black",fontWeight:"bold",width:"65px",flexGrow:0},children:["Year: ",n]})]})]})})};var fd=(0,e.memo)(vd),Xd=n(7925);function kd(g){return(0,fg.Z)("MuiButton",g)}var Jd=(0,vg.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Yd=e.createContext({}),Hd=e.createContext(void 0);const wd=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Nd=g=>(0,c.Z)({},"small"===g.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===g.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===g.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Fd=(0,l.ZP)(aI,{shouldForwardProp:g=>(0,l.FO)(g)||"classes"===g,name:"MuiButton",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[I.variant],e[`${I.variant}${(0,$g.Z)(I.color)}`],e[`size${(0,$g.Z)(I.size)}`],e[`${I.variant}Size${(0,$g.Z)(I.size)}`],"inherit"===I.color&&e.colorInherit,I.disableElevation&&e.disableElevation,I.fullWidth&&e.fullWidth]}})((({theme:g,ownerState:e})=>{var I,t;const n="light"===g.palette.mode?g.palette.grey[300]:g.palette.grey[800],l="light"===g.palette.mode?g.palette.grey.A100:g.palette.grey[700];return(0,c.Z)({},g.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(g.vars||g).shape.borderRadius,transition:g.transitions.create(["background-color","box-shadow","border-color","color"],{duration:g.transitions.duration.short}),"&:hover":(0,c.Z)({textDecoration:"none",backgroundColor:g.vars?`rgba(${g.vars.palette.text.primaryChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)(g.palette.text.primary,g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===e.variant&&"inherit"!==e.color&&{backgroundColor:g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)(g.palette[e.color].main,g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===e.variant&&"inherit"!==e.color&&{border:`1px solid ${(g.vars||g).palette[e.color].main}`,backgroundColor:g.vars?`rgba(${g.vars.palette[e.color].mainChannel} / ${g.vars.palette.action.hoverOpacity})`:(0,Tg.Fq)(g.palette[e.color].main,g.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===e.variant&&{backgroundColor:g.vars?g.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(g.vars||g).shadows[4],"@media (hover: none)":{boxShadow:(g.vars||g).shadows[2],backgroundColor:(g.vars||g).palette.grey[300]}},"contained"===e.variant&&"inherit"!==e.color&&{backgroundColor:(g.vars||g).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(g.vars||g).palette[e.color].main}}),"&:active":(0,c.Z)({},"contained"===e.variant&&{boxShadow:(g.vars||g).shadows[8]}),[`&.${Jd.focusVisible}`]:(0,c.Z)({},"contained"===e.variant&&{boxShadow:(g.vars||g).shadows[6]}),[`&.${Jd.disabled}`]:(0,c.Z)({color:(g.vars||g).palette.action.disabled},"outlined"===e.variant&&{border:`1px solid ${(g.vars||g).palette.action.disabledBackground}`},"contained"===e.variant&&{color:(g.vars||g).palette.action.disabled,boxShadow:(g.vars||g).shadows[0],backgroundColor:(g.vars||g).palette.action.disabledBackground})},"text"===e.variant&&{padding:"6px 8px"},"text"===e.variant&&"inherit"!==e.color&&{color:(g.vars||g).palette[e.color].main},"outlined"===e.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===e.variant&&"inherit"!==e.color&&{color:(g.vars||g).palette[e.color].main,border:g.vars?`1px solid rgba(${g.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${(0,Tg.Fq)(g.palette[e.color].main,.5)}`},"contained"===e.variant&&{color:g.vars?g.vars.palette.text.primary:null==(I=(t=g.palette).getContrastText)?void 0:I.call(t,g.palette.grey[300]),backgroundColor:g.vars?g.vars.palette.Button.inheritContainedBg:n,boxShadow:(g.vars||g).shadows[2]},"contained"===e.variant&&"inherit"!==e.color&&{color:(g.vars||g).palette[e.color].contrastText,backgroundColor:(g.vars||g).palette[e.color].main},"inherit"===e.color&&{color:"inherit",borderColor:"currentColor"},"small"===e.size&&"text"===e.variant&&{padding:"4px 5px",fontSize:g.typography.pxToRem(13)},"large"===e.size&&"text"===e.variant&&{padding:"8px 11px",fontSize:g.typography.pxToRem(15)},"small"===e.size&&"outlined"===e.variant&&{padding:"3px 9px",fontSize:g.typography.pxToRem(13)},"large"===e.size&&"outlined"===e.variant&&{padding:"7px 21px",fontSize:g.typography.pxToRem(15)},"small"===e.size&&"contained"===e.variant&&{padding:"4px 10px",fontSize:g.typography.pxToRem(13)},"large"===e.size&&"contained"===e.variant&&{padding:"8px 22px",fontSize:g.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})}),(({ownerState:g})=>g.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Jd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Jd.disabled}`]:{boxShadow:"none"}})),Kd=(0,l.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.startIcon,e[`iconSize${(0,$g.Z)(I.size)}`]]}})((({ownerState:g})=>(0,c.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===g.size&&{marginLeft:-2},Nd(g)))),xd=(0,l.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.endIcon,e[`iconSize${(0,$g.Z)(I.size)}`]]}})((({ownerState:g})=>(0,c.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===g.size&&{marginRight:-2},Nd(g))));var zd=e.forwardRef((function(g,I){const t=e.useContext(Yd),n=e.useContext(Hd),l=(0,Xd.Z)(t,g),C=(0,rg.Z)({props:l,name:"MuiButton"}),{children:o,color:a="primary",component:r="button",className:i,disabled:d=!1,disableElevation:s=!1,disableFocusRipple:u=!1,endIcon:b,focusVisibleClassName:Z,fullWidth:p=!1,size:G="medium",startIcon:h,type:y,variant:B="text"}=C,S=(0,A.Z)(C,wd),V=(0,c.Z)({},C,{color:a,component:r,disabled:d,disableElevation:s,disableFocusRipple:u,fullWidth:p,size:G,type:y,variant:B}),R=(g=>{const{color:e,disableElevation:I,fullWidth:t,size:n,variant:l,classes:C}=g,o={root:["root",l,`${l}${(0,$g.Z)(e)}`,`size${(0,$g.Z)(n)}`,`${l}Size${(0,$g.Z)(n)}`,"inherit"===e&&"colorInherit",I&&"disableElevation",t&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,$g.Z)(n)}`],endIcon:["endIcon",`iconSize${(0,$g.Z)(n)}`]},a=(0,F.Z)(o,kd,C);return(0,c.Z)({},C,a)})(V),v=h&&(0,m.jsx)(Kd,{className:R.startIcon,ownerState:V,children:h}),f=b&&(0,m.jsx)(xd,{className:R.endIcon,ownerState:V,children:b}),X=n||"";return(0,m.jsxs)(Fd,(0,c.Z)({ownerState:V,className:(0,W.Z)(t.className,R.root,i,X),component:r,disabled:d,focusRipple:!u,focusVisibleClassName:(0,W.Z)(R.focusVisible,Z),ref:I,type:y},S,{classes:R,children:[v,o,f]}))})),Md=n(1775),Ed=n(9590),Ld=n.n(Ed),Ud=n(1143),Qd=n.n(Ud),Td=n(6774),Dd=n.n(Td);function jd(){return jd=Object.assign||function(g){for(var e=1;e<arguments.length;e++){var I=arguments[e];for(var t in I)Object.prototype.hasOwnProperty.call(I,t)&&(g[t]=I[t])}return g},jd.apply(this,arguments)}function Pd(g,e){g.prototype=Object.create(e.prototype),g.prototype.constructor=g,Od(g,e)}function Od(g,e){return Od=Object.setPrototypeOf||function(g,e){return g.__proto__=e,g},Od(g,e)}function qd(g,e){if(null==g)return{};var I,t,n={},l=Object.keys(g);for(t=0;t<l.length;t++)e.indexOf(I=l[t])>=0||(n[I]=g[I]);return n}var $d={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},_d={rel:["amphtml","canonical","alternate"]},gs={type:["application/ld+json"]},es={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Is=Object.keys($d).map((function(g){return $d[g]})),ts={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ns=Object.keys(ts).reduce((function(g,e){return g[ts[e]]=e,g}),{}),ls=function(g,e){for(var I=g.length-1;I>=0;I-=1){var t=g[I];if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}return null},Cs=function(g){var e=ls(g,$d.TITLE),I=ls(g,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),I&&e)return I.replace(/%s/g,(function(){return e}));var t=ls(g,"defaultTitle");return e||t||void 0},os=function(g){return ls(g,"onChangeClientState")||function(){}},as=function(g,e){return e.filter((function(e){return void 0!==e[g]})).map((function(e){return e[g]})).reduce((function(g,e){return jd({},g,e)}),{})},rs=function(g,e){return e.filter((function(g){return void 0!==g[$d.BASE]})).map((function(g){return g[$d.BASE]})).reverse().reduce((function(e,I){if(!e.length)for(var t=Object.keys(I),n=0;n<t.length;n+=1){var l=t[n].toLowerCase();if(-1!==g.indexOf(l)&&I[l])return e.concat(I)}return e}),[])},is=function(g,e,I){var t={};return I.filter((function(e){return!!Array.isArray(e[g])||(void 0!==e[g]&&console&&"function"==typeof console.warn&&console.warn("Helmet: "+g+' should be of type "Array". Instead found type "'+typeof e[g]+'"'),!1)})).map((function(e){return e[g]})).reverse().reduce((function(g,I){var n={};I.filter((function(g){for(var I,l=Object.keys(g),C=0;C<l.length;C+=1){var o=l[C],a=o.toLowerCase();-1===e.indexOf(a)||"rel"===I&&"canonical"===g[I].toLowerCase()||"rel"===a&&"stylesheet"===g[a].toLowerCase()||(I=a),-1===e.indexOf(o)||"innerHTML"!==o&&"cssText"!==o&&"itemprop"!==o||(I=o)}if(!I||!g[I])return!1;var r=g[I].toLowerCase();return t[I]||(t[I]={}),n[I]||(n[I]={}),!t[I][r]&&(n[I][r]=!0,!0)})).reverse().forEach((function(e){return g.push(e)}));for(var l=Object.keys(n),C=0;C<l.length;C+=1){var o=l[C],a=jd({},t[o],n[o]);t[o]=a}return g}),[]).reverse()},cs=function(g,e){if(Array.isArray(g)&&g.length)for(var I=0;I<g.length;I+=1)if(g[I][e])return!0;return!1},As=function(g){return Array.isArray(g)?g.join(""):g},ds=function(g,e){return Array.isArray(g)?g.reduce((function(g,I){return function(g,e){for(var I=Object.keys(g),t=0;t<I.length;t+=1)if(e[I[t]]&&e[I[t]].includes(g[I[t]]))return!0;return!1}(I,e)?g.priority.push(I):g.default.push(I),g}),{priority:[],default:[]}):{default:g}},ss=function(g,e){var I;return jd({},g,((I={})[e]=void 0,I))},us=[$d.NOSCRIPT,$d.SCRIPT,$d.STYLE],ms=function(g,e){return void 0===e&&(e=!0),!1===e?String(g):String(g).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},bs=function(g){return Object.keys(g).reduce((function(e,I){var t=void 0!==g[I]?I+'="'+g[I]+'"':""+I;return e?e+" "+t:t}),"")},Zs=function(g,e){return void 0===e&&(e={}),Object.keys(g).reduce((function(e,I){return e[ts[I]||I]=g[I],e}),e)},ps=function(g,I){return I.map((function(I,t){var n,l=((n={key:t})["data-rh"]=!0,n);return Object.keys(I).forEach((function(g){var e=ts[g]||g;"innerHTML"===e||"cssText"===e?l.dangerouslySetInnerHTML={__html:I.innerHTML||I.cssText}:l[e]=I[g]})),e.createElement(g,l)}))},Gs=function(g,I,t){switch(g){case $d.TITLE:return{toComponent:function(){return t=I.titleAttributes,(n={key:g=I.title})["data-rh"]=!0,l=Zs(t,n),[e.createElement($d.TITLE,l,g)];var g,t,n,l},toString:function(){return function(g,e,I,t){var n=bs(I),l=As(e);return n?"<"+g+' data-rh="true" '+n+">"+ms(l,t)+"</"+g+">":"<"+g+' data-rh="true">'+ms(l,t)+"</"+g+">"}(g,I.title,I.titleAttributes,t)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Zs(I)},toString:function(){return bs(I)}};default:return{toComponent:function(){return ps(g,I)},toString:function(){return function(g,e,I){return e.reduce((function(e,t){var n=Object.keys(t).filter((function(g){return!("innerHTML"===g||"cssText"===g)})).reduce((function(g,e){var n=void 0===t[e]?e:e+'="'+ms(t[e],I)+'"';return g?g+" "+n:n}),""),l=t.innerHTML||t.cssText||"",C=-1===us.indexOf(g);return e+"<"+g+' data-rh="true" '+n+(C?"/>":">"+l+"</"+g+">")}),"")}(g,I,t)}}}},hs=function(g){var e=g.baseTag,I=g.bodyAttributes,t=g.encode,n=g.htmlAttributes,l=g.noscriptTags,C=g.styleTags,o=g.title,a=void 0===o?"":o,r=g.titleAttributes,i=g.linkTags,c=g.metaTags,A=g.scriptTags,d={toComponent:function(){},toString:function(){return""}};if(g.prioritizeSeoTags){var s=function(g){var e=g.linkTags,I=g.scriptTags,t=g.encode,n=ds(g.metaTags,es),l=ds(e,_d),C=ds(I,gs);return{priorityMethods:{toComponent:function(){return[].concat(ps($d.META,n.priority),ps($d.LINK,l.priority),ps($d.SCRIPT,C.priority))},toString:function(){return Gs($d.META,n.priority,t)+" "+Gs($d.LINK,l.priority,t)+" "+Gs($d.SCRIPT,C.priority,t)}},metaTags:n.default,linkTags:l.default,scriptTags:C.default}}(g);d=s.priorityMethods,i=s.linkTags,c=s.metaTags,A=s.scriptTags}return{priority:d,base:Gs($d.BASE,e,t),bodyAttributes:Gs("bodyAttributes",I,t),htmlAttributes:Gs("htmlAttributes",n,t),link:Gs($d.LINK,i,t),meta:Gs($d.META,c,t),noscript:Gs($d.NOSCRIPT,l,t),script:Gs($d.SCRIPT,A,t),style:Gs($d.STYLE,C,t),title:Gs($d.TITLE,{title:a,titleAttributes:r},t)}},ys=[],Bs=function(g,e){var I=this;void 0===e&&(e="undefined"!=typeof document),this.instances=[],this.value={setHelmet:function(g){I.context.helmet=g},helmetInstances:{get:function(){return I.canUseDOM?ys:I.instances},add:function(g){(I.canUseDOM?ys:I.instances).push(g)},remove:function(g){var e=(I.canUseDOM?ys:I.instances).indexOf(g);(I.canUseDOM?ys:I.instances).splice(e,1)}}},this.context=g,this.canUseDOM=e,e||(g.helmet=hs({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},Ss=e.createContext({}),Ws=dr().shape({setHelmet:dr().func,helmetInstances:dr().shape({get:dr().func,add:dr().func,remove:dr().func})}),Vs="undefined"!=typeof document,Rs=function(g){function I(e){var t;return(t=g.call(this,e)||this).helmetData=new Bs(t.props.context,I.canUseDOM),t}return Pd(I,g),I.prototype.render=function(){return e.createElement(Ss.Provider,{value:this.helmetData.value},this.props.children)},I}(e.Component);Rs.canUseDOM=Vs,Rs.propTypes={context:dr().shape({helmet:dr().shape()}),children:dr().node.isRequired},Rs.defaultProps={context:{}},Rs.displayName="HelmetProvider";var vs=function(g,e){var I,t=document.head||document.querySelector($d.HEAD),n=t.querySelectorAll(g+"[data-rh]"),l=[].slice.call(n),C=[];return e&&e.length&&e.forEach((function(e){var t=document.createElement(g);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&("innerHTML"===n?t.innerHTML=e.innerHTML:"cssText"===n?t.styleSheet?t.styleSheet.cssText=e.cssText:t.appendChild(document.createTextNode(e.cssText)):t.setAttribute(n,void 0===e[n]?"":e[n]));t.setAttribute("data-rh","true"),l.some((function(g,e){return I=e,t.isEqualNode(g)}))?l.splice(I,1):C.push(t)})),l.forEach((function(g){return g.parentNode.removeChild(g)})),C.forEach((function(g){return t.appendChild(g)})),{oldTags:l,newTags:C}},fs=function(g,e){var I=document.getElementsByTagName(g)[0];if(I){for(var t=I.getAttribute("data-rh"),n=t?t.split(","):[],l=[].concat(n),C=Object.keys(e),o=0;o<C.length;o+=1){var a=C[o],r=e[a]||"";I.getAttribute(a)!==r&&I.setAttribute(a,r),-1===n.indexOf(a)&&n.push(a);var i=l.indexOf(a);-1!==i&&l.splice(i,1)}for(var c=l.length-1;c>=0;c-=1)I.removeAttribute(l[c]);n.length===l.length?I.removeAttribute("data-rh"):I.getAttribute("data-rh")!==C.join(",")&&I.setAttribute("data-rh",C.join(","))}},Xs=function(g,e){var I=g.baseTag,t=g.htmlAttributes,n=g.linkTags,l=g.metaTags,C=g.noscriptTags,o=g.onChangeClientState,a=g.scriptTags,r=g.styleTags,i=g.title,c=g.titleAttributes;fs($d.BODY,g.bodyAttributes),fs($d.HTML,t),function(g,e){void 0!==g&&document.title!==g&&(document.title=As(g)),fs($d.TITLE,e)}(i,c);var A={baseTag:vs($d.BASE,I),linkTags:vs($d.LINK,n),metaTags:vs($d.META,l),noscriptTags:vs($d.NOSCRIPT,C),scriptTags:vs($d.SCRIPT,a),styleTags:vs($d.STYLE,r)},d={},s={};Object.keys(A).forEach((function(g){var e=A[g],I=e.newTags,t=e.oldTags;I.length&&(d[g]=I),t.length&&(s[g]=A[g].oldTags)})),e&&e(),o(g,d,s)},ks=null,Js=function(g){function e(){for(var e,I=arguments.length,t=new Array(I),n=0;n<I;n++)t[n]=arguments[n];return(e=g.call.apply(g,[this].concat(t))||this).rendered=!1,e}Pd(e,g);var I=e.prototype;return I.shouldComponentUpdate=function(g){return!Dd()(g,this.props)},I.componentDidUpdate=function(){this.emitChange()},I.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},I.emitChange=function(){var g,e,I=this.props.context,t=I.setHelmet,n=null,l=(g=I.helmetInstances.get().map((function(g){var e=jd({},g.props);return delete e.context,e})),{baseTag:rs(["href"],g),bodyAttributes:as("bodyAttributes",g),defer:ls(g,"defer"),encode:ls(g,"encodeSpecialCharacters"),htmlAttributes:as("htmlAttributes",g),linkTags:is($d.LINK,["rel","href"],g),metaTags:is($d.META,["name","charset","http-equiv","property","itemprop"],g),noscriptTags:is($d.NOSCRIPT,["innerHTML"],g),onChangeClientState:os(g),scriptTags:is($d.SCRIPT,["src","innerHTML"],g),styleTags:is($d.STYLE,["cssText"],g),title:Cs(g),titleAttributes:as("titleAttributes",g),prioritizeSeoTags:cs(g,"prioritizeSeoTags")});Rs.canUseDOM?(e=l,ks&&cancelAnimationFrame(ks),e.defer?ks=requestAnimationFrame((function(){Xs(e,(function(){ks=null}))})):(Xs(e),ks=null)):hs&&(n=hs(l)),t(n)},I.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},I.render=function(){return this.init(),null},e}(e.Component);Js.propTypes={context:Ws.isRequired},Js.displayName="HelmetDispatcher";var Ys=["children"],Hs=["children"],ws=function(g){function I(){return g.apply(this,arguments)||this}Pd(I,g);var t=I.prototype;return t.shouldComponentUpdate=function(g){return!Ld()(ss(this.props,"helmetData"),ss(g,"helmetData"))},t.mapNestedChildrenToProps=function(g,e){if(!e)return null;switch(g.type){case $d.SCRIPT:case $d.NOSCRIPT:return{innerHTML:e};case $d.STYLE:return{cssText:e};default:throw new Error("<"+g.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},t.flattenArrayTypeChildren=function(g){var e,I=g.child,t=g.arrayTypeChildren;return jd({},t,((e={})[I.type]=[].concat(t[I.type]||[],[jd({},g.newChildProps,this.mapNestedChildrenToProps(I,g.nestedChildren))]),e))},t.mapObjectTypeChildren=function(g){var e,I,t=g.child,n=g.newProps,l=g.newChildProps,C=g.nestedChildren;switch(t.type){case $d.TITLE:return jd({},n,((e={})[t.type]=C,e.titleAttributes=jd({},l),e));case $d.BODY:return jd({},n,{bodyAttributes:jd({},l)});case $d.HTML:return jd({},n,{htmlAttributes:jd({},l)});default:return jd({},n,((I={})[t.type]=jd({},l),I))}},t.mapArrayTypeChildrenToProps=function(g,e){var I=jd({},e);return Object.keys(g).forEach((function(e){var t;I=jd({},I,((t={})[e]=g[e],t))})),I},t.warnOnInvalidChildren=function(g,e){return Qd()(Is.some((function(e){return g.type===e})),"function"==typeof g.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Is.join(", ")+" are allowed. Helmet does not support rendering <"+g.type+"> elements. Refer to our API for more information."),Qd()(!e||"string"==typeof e||Array.isArray(e)&&!e.some((function(g){return"string"!=typeof g})),"Helmet expects a string as a child of <"+g.type+">. Did you forget to wrap your children in braces? ( <"+g.type+">{``}</"+g.type+"> ) Refer to our API for more information."),!0},t.mapChildrenToProps=function(g,I){var t=this,n={};return e.Children.forEach(g,(function(g){if(g&&g.props){var e=g.props,l=e.children,C=qd(e,Ys),o=Object.keys(C).reduce((function(g,e){return g[ns[e]||e]=C[e],g}),{}),a=g.type;switch("symbol"==typeof a?a=a.toString():t.warnOnInvalidChildren(g,l),a){case $d.FRAGMENT:I=t.mapChildrenToProps(l,I);break;case $d.LINK:case $d.META:case $d.NOSCRIPT:case $d.SCRIPT:case $d.STYLE:n=t.flattenArrayTypeChildren({child:g,arrayTypeChildren:n,newChildProps:o,nestedChildren:l});break;default:I=t.mapObjectTypeChildren({child:g,newProps:I,newChildProps:o,nestedChildren:l})}}})),this.mapArrayTypeChildrenToProps(n,I)},t.render=function(){var g=this.props,I=g.children,t=qd(g,Hs),n=jd({},t),l=t.helmetData;return I&&(n=this.mapChildrenToProps(I,n)),!l||l instanceof Bs||(l=new Bs(l.context,l.instances)),l?e.createElement(Js,jd({},n,{context:l.value,helmetData:void 0})):e.createElement(Ss.Consumer,null,(function(g){return e.createElement(Js,jd({},n,{context:g}))}))},I}(e.Component);function Ns(g){return(0,fg.Z)("MuiAlert",g)}ws.propTypes={base:dr().object,bodyAttributes:dr().object,children:dr().oneOfType([dr().arrayOf(dr().node),dr().node]),defaultTitle:dr().string,defer:dr().bool,encodeSpecialCharacters:dr().bool,htmlAttributes:dr().object,link:dr().arrayOf(dr().object),meta:dr().arrayOf(dr().object),noscript:dr().arrayOf(dr().object),onChangeClientState:dr().func,script:dr().arrayOf(dr().object),style:dr().arrayOf(dr().object),title:dr().string,titleAttributes:dr().object,titleTemplate:dr().string,prioritizeSeoTags:dr().bool,helmetData:dr().object},ws.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},ws.displayName="Helmet";var Fs=(0,vg.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ks=(0,Ql.Z)((0,m.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),xs=(0,Ql.Z)((0,m.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),zs=(0,Ql.Z)((0,m.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Ms=(0,Ql.Z)((0,m.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");const Es=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Ls=(0,l.ZP)(qg,{name:"MuiAlert",slot:"Root",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.root,e[I.variant],e[`${I.variant}${(0,$g.Z)(I.color||I.severity)}`]]}})((({theme:g,ownerState:e})=>{const I="light"===g.palette.mode?Tg._j:Tg.$n,t="light"===g.palette.mode?Tg.$n:Tg._j,n=e.color||e.severity;return(0,c.Z)({},g.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},n&&"standard"===e.variant&&{color:g.vars?g.vars.palette.Alert[`${n}Color`]:I(g.palette[n].light,.6),backgroundColor:g.vars?g.vars.palette.Alert[`${n}StandardBg`]:t(g.palette[n].light,.9),[`& .${Fs.icon}`]:g.vars?{color:g.vars.palette.Alert[`${n}IconColor`]}:{color:g.palette[n].main}},n&&"outlined"===e.variant&&{color:g.vars?g.vars.palette.Alert[`${n}Color`]:I(g.palette[n].light,.6),border:`1px solid ${(g.vars||g).palette[n].light}`,[`& .${Fs.icon}`]:g.vars?{color:g.vars.palette.Alert[`${n}IconColor`]}:{color:g.palette[n].main}},n&&"filled"===e.variant&&(0,c.Z)({fontWeight:g.typography.fontWeightMedium},g.vars?{color:g.vars.palette.Alert[`${n}FilledColor`],backgroundColor:g.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===g.palette.mode?g.palette[n].dark:g.palette[n].main,color:g.palette.getContrastText(g.palette[n].main)}))})),Us=(0,l.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(g,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Qs=(0,l.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(g,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ts=(0,l.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(g,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ds={success:(0,m.jsx)(Ks,{fontSize:"inherit"}),warning:(0,m.jsx)(xs,{fontSize:"inherit"}),error:(0,m.jsx)(zs,{fontSize:"inherit"}),info:(0,m.jsx)(Ms,{fontSize:"inherit"})};var js=e.forwardRef((function(g,e){var I,t,n,l,C,o;const a=(0,rg.Z)({props:g,name:"MuiAlert"}),{action:r,children:i,className:d,closeText:s="Close",color:u,components:b={},componentsProps:Z={},icon:p,iconMapping:G=Ds,onClose:h,role:y="alert",severity:B="success",slotProps:S={},slots:V={},variant:R="standard"}=a,v=(0,A.Z)(a,Es),f=(0,c.Z)({},a,{color:u,severity:B,variant:R}),X=(g=>{const{variant:e,color:I,severity:t,classes:n}=g,l={root:["root",`${e}${(0,$g.Z)(I||t)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return(0,F.Z)(l,Ns,n)})(f),k=null!=(I=null!=(t=V.closeButton)?t:b.CloseButton)?I:dI,J=null!=(n=null!=(l=V.closeIcon)?l:b.CloseIcon)?n:Ni,Y=null!=(C=S.closeButton)?C:Z.closeButton,H=null!=(o=S.closeIcon)?o:Z.closeIcon;return(0,m.jsxs)(Ls,(0,c.Z)({role:y,elevation:0,ownerState:f,className:(0,W.Z)(X.root,d),ref:e},v,{children:[!1!==p?(0,m.jsx)(Us,{ownerState:f,className:X.icon,children:p||G[B]||Ds[B]}):null,(0,m.jsx)(Qs,{ownerState:f,className:X.message,children:i}),null!=r?(0,m.jsx)(Ts,{ownerState:f,className:X.action,children:r}):null,null==r&&h?(0,m.jsx)(Ts,{ownerState:f,className:X.action,children:(0,m.jsx)(k,(0,c.Z)({size:"small","aria-label":s,title:s,color:"inherit",onClick:h},Y,{children:(0,m.jsx)(J,(0,c.Z)({fontSize:"small"},H))}))}):null]}))}));const Ps=(0,l.ZP)((({className:g,...e})=>(0,m.jsx)(Yl,{...e,classes:{popper:g}})))((({theme:g})=>({[`& .${Sl.tooltip}`]:{backgroundColor:g.palette.background.paper,color:g.palette.text.primary,boxShadow:g.shadows[1],fontSize:11,textAlign:"justify"}}))),Os={count:1,results:[{id:0,nombre:"",genero_nombre:["Ninguno"],promedio_puntuaciones:0,sinopsis:"",fecha_salida:"1990",cantidad_episodios:0,color_carta:"grey",image:"/media/none.png",link:"",sizeCards:"small"}]},qs=g=>{let e=kt();const{id:I,nombre:t,puntuacion:n,descripcion:C,fecha_inicio:o,genero:a,cantidad_episodios:r,color_carta:i,img:c,apiURL:A,sizeCards:d}=g,s=A+I,u=(0,l.ZP)("img")({display:"block",width:240,height:350});return(0,m.jsx)(cr,{item:!0,sx:{margin:"auto",marginTop:"15px",overflow:"hidden"},children:0==I?(0,m.jsx)(u,{alt:"complex",src:"/media/cards/back.jpg"}):(0,m.jsx)(zd,{component:"label",onClick:()=>{const g={id:I,nombre:t,genero_nombre:a,sinopsis:C,emision:"",fecha_salida:o,temporada:"Temporada del "+o,promedio_puntuaciones:n,link_imdb:"https://www.imdb.com/",cantidad_episodios:r,color_carta:i,image:c};localStorage.setItem("SerieData"+I.toString(),JSON.stringify(g)),e(s,{replace:!0})},children:(0,m.jsx)(fd,{nombre:t,puntuacion:n,descripcion:C,fecha_inicio:o,genero:a,cantidad:r,color:i,img:c,size:d},I)})})},$s=({apiURL:g,titulo:I,descripcion:t,url:n,filtro:l,update:C})=>{const[o,a]=(0,e.useState)(""),[r,i]=(0,e.useState)(!1),[c,A]=(0,e.useState)(Os),d=g=>{g?(i(!1),A(g)):i(!0)},[s,u]=(0,e.useState)(parseInt(localStorage.getItem("page")||"0",10)),[b,Z]=(0,e.useState)(parseInt(localStorage.getItem("rowsPerPage")||"12",10)),p=(e,I=o)=>{u(0),localStorage.setItem("page","0"),eA("/principal"+g+"?entrada="+I,l,d,1,b)};(0,e.useEffect)((()=>{p()}),[C]);const[G,h]=(0,e.useState)(localStorage.getItem("SizeCards")||"small"),[y,B]=(0,e.useState)(localStorage.getItem("SizeCardsIcons")||"white");return(0,m.jsx)(N,{sx:{width:"100%"},children:(0,m.jsxs)(qg,{sx:{width:"100%",mb:2},children:[(0,m.jsxs)(ws,{children:[(0,m.jsx)("title",{children:I}),(0,m.jsx)("meta",{name:"description",content:t}),(0,m.jsx)("link",{rel:"canonical",href:n})]}),(0,m.jsx)(Ae,{position:"static",children:(0,m.jsxs)(me,{children:[(0,m.jsx)(YI,{variant:"h6",sx:{flexGrow:1,display:{xs:"none",sm:"flex"}},children:I}),(0,m.jsx)(N,{sx:{flexGrow:0,marginRight:2,display:{xs:"none",sm:"flex"}},children:(0,m.jsx)(Ps,{title:"Change the size of the cards",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{"aria-label":"open drawer",edge:"end",sx:{color:y},onClick:()=>{var g="small",e="white";"small"===G?(g="medium",e="#64b5f6"):"large"===G?(g="small",e="white"):"medium"===G&&(g="large",e="#9575cd"),localStorage.setItem("SizeCards",g),h(g),localStorage.setItem("SizeCardsIcons",e),B(e)},children:(0,m.jsx)(Md.Z,{})})})}),(0,m.jsx)(N,{sx:{flexGrow:0},children:(0,m.jsx)(zA,{handleEntradaBuscador:g=>{a(g),p(0,g)}})}),(0,m.jsx)(N,{children:(0,m.jsx)(Ps,{title:"Search with filters",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{color:"inherit","aria-label":"Sync",onClick:p,edge:"start",sx:{margin:"1px"},children:(0,m.jsx)(XA.Z,{})})})})]})}),(0,m.jsx)(SC,{sx:{width:"100%"},spacing:2,children:(0,m.jsx)(Ul,{in:r,children:(0,m.jsx)(js,{variant:"filled",severity:"error",children:"No cards were found"})})}),(0,m.jsx)(cr,{container:!0,children:c.results.map((e=>(0,m.jsx)(qs,{id:e.id,nombre:e.nombre,puntuacion:e.promedio_puntuaciones,descripcion:e.sinopsis,fecha_inicio:e.fecha_salida,genero:e.genero_nombre,cantidad_episodios:e.cantidad_episodios,color_carta:e.color_carta,img:e.image,apiURL:g,sizeCards:G},e.id)))},G),(0,m.jsx)(N,{sx:{p:1},children:(0,m.jsx)(Vd,{rowsPerPageOptions:[12,24,48,96],component:"div",count:!c.count||c.count<=0?1024:c.count,page:!c.count||c.count<=0?0:s,onPageChange:(e,I)=>{u(I),localStorage.setItem("page",I),eA("/principal"+g+"?entrada="+o,l,d,I+1,b)},rowsPerPage:b,onRowsPerPageChange:e=>{var I=parseInt(e.target.value,10);Z(I),u(0),localStorage.setItem("rowsPerPage",e.target.value),localStorage.setItem("page","0"),eA("/principal"+g+"?entrada="+o,l,d,1,I)},labelRowsPerPage:"Cards per page:"})})]})})};var _s=(0,e.memo)($s);const gu="%[a-f0-9]{2}",eu=new RegExp("("+gu+")|([^%]+?)","gi"),Iu=new RegExp("("+gu+")+","gi");function tu(g,e){try{return[decodeURIComponent(g.join(""))]}catch{}if(1===g.length)return g;e=e||1;const I=g.slice(0,e),t=g.slice(e);return Array.prototype.concat.call([],tu(I),tu(t))}function nu(g){try{return decodeURIComponent(g)}catch{let e=g.match(eu)||[];for(let I=1;I<e.length;I++)e=(g=tu(e,I).join("")).match(eu)||[];return g}}function lu(g,e){if("string"!=typeof g||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===g||""===e)return[];const I=g.indexOf(e);return-1===I?[]:[g.slice(0,I),g.slice(I+e.length)]}function Cu(g,e){const I={};if(Array.isArray(e))for(const t of e){const e=Object.getOwnPropertyDescriptor(g,t);e?.enumerable&&Object.defineProperty(I,t,e)}else for(const t of Reflect.ownKeys(g)){const n=Object.getOwnPropertyDescriptor(g,t);n.enumerable&&e(t,g[t],g)&&Object.defineProperty(I,t,n)}return I}const ou=g=>null==g,au=g=>encodeURIComponent(g).replace(/[!'()*]/g,(g=>`%${g.charCodeAt(0).toString(16).toUpperCase()}`)),ru=Symbol("encodeFragmentIdentifier");function iu(g){if("string"!=typeof g||1!==g.length)throw new TypeError("arrayFormatSeparator must be single character string")}function cu(g,e){return e.encode?e.strict?au(g):encodeURIComponent(g):g}function Au(g,e){return e.decode?function(g){if("string"!=typeof g)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof g+"`");try{return decodeURIComponent(g)}catch{return function(g){const e={"%FE%FF":"��","%FF%FE":"��"};let I=Iu.exec(g);for(;I;){try{e[I[0]]=decodeURIComponent(I[0])}catch{const g=nu(I[0]);g!==I[0]&&(e[I[0]]=g)}I=Iu.exec(g)}e["%C2"]="�";const t=Object.keys(e);for(const I of t)g=g.replace(new RegExp(I,"g"),e[I]);return g}(g)}}(g):g}function du(g){return Array.isArray(g)?g.sort():"object"==typeof g?du(Object.keys(g)).sort(((g,e)=>Number(g)-Number(e))).map((e=>g[e])):g}function su(g){const e=g.indexOf("#");return-1!==e&&(g=g.slice(0,e)),g}function uu(g,e){return e.parseNumbers&&!Number.isNaN(Number(g))&&"string"==typeof g&&""!==g.trim()?g=Number(g):!e.parseBooleans||null===g||"true"!==g.toLowerCase()&&"false"!==g.toLowerCase()||(g="true"===g.toLowerCase()),g}function mu(g){const e=(g=su(g)).indexOf("?");return-1===e?"":g.slice(e+1)}function bu(g,e){iu((e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e}).arrayFormatSeparator);const I=function(g){let e;switch(g.arrayFormat){case"index":return(g,I,t)=>{e=/\[(\d*)]$/.exec(g),g=g.replace(/\[\d*]$/,""),e?(void 0===t[g]&&(t[g]={}),t[g][e[1]]=I):t[g]=I};case"bracket":return(g,I,t)=>{e=/(\[])$/.exec(g),g=g.replace(/\[]$/,""),e?void 0!==t[g]?t[g]=[...t[g],I]:t[g]=[I]:t[g]=I};case"colon-list-separator":return(g,I,t)=>{e=/(:list)$/.exec(g),g=g.replace(/:list$/,""),e?void 0!==t[g]?t[g]=[...t[g],I]:t[g]=[I]:t[g]=I};case"comma":case"separator":return(e,I,t)=>{const n="string"==typeof I&&I.includes(g.arrayFormatSeparator),l="string"==typeof I&&!n&&Au(I,g).includes(g.arrayFormatSeparator);I=l?Au(I,g):I;const C=n||l?I.split(g.arrayFormatSeparator).map((e=>Au(e,g))):null===I?I:Au(I,g);t[e]=C};case"bracket-separator":return(e,I,t)=>{const n=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!n)return void(t[e]=I?Au(I,g):I);const l=null===I?[]:I.split(g.arrayFormatSeparator).map((e=>Au(e,g)));void 0!==t[e]?t[e]=[...t[e],...l]:t[e]=l};default:return(g,e,I)=>{void 0!==I[g]?I[g]=[...[I[g]].flat(),e]:I[g]=e}}}(e),t=Object.create(null);if("string"!=typeof g)return t;if(!(g=g.trim().replace(/^[?#&]/,"")))return t;for(const n of g.split("&")){if(""===n)continue;const g=e.decode?n.replace(/\+/g," "):n;let[l,C]=lu(g,"=");void 0===l&&(l=g),C=void 0===C?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?C:Au(C,e),I(Au(l,e),C,t)}for(const[g,I]of Object.entries(t))if("object"==typeof I&&null!==I)for(const[g,t]of Object.entries(I))I[g]=uu(t,e);else t[g]=uu(I,e);return!1===e.sort?t:(!0===e.sort?Object.keys(t).sort():Object.keys(t).sort(e.sort)).reduce(((g,e)=>{const I=t[e];return Boolean(I)&&"object"==typeof I&&!Array.isArray(I)?g[e]=du(I):g[e]=I,g}),Object.create(null))}function Zu(g,e){if(!g)return"";iu((e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e}).arrayFormatSeparator);const I=I=>e.skipNull&&ou(g[I])||e.skipEmptyString&&""===g[I],t=function(g){switch(g.arrayFormat){case"index":return e=>(I,t)=>{const n=I.length;return void 0===t||g.skipNull&&null===t||g.skipEmptyString&&""===t?I:null===t?[...I,[cu(e,g),"[",n,"]"].join("")]:[...I,[cu(e,g),"[",cu(n,g),"]=",cu(t,g)].join("")]};case"bracket":return e=>(I,t)=>void 0===t||g.skipNull&&null===t||g.skipEmptyString&&""===t?I:null===t?[...I,[cu(e,g),"[]"].join("")]:[...I,[cu(e,g),"[]=",cu(t,g)].join("")];case"colon-list-separator":return e=>(I,t)=>void 0===t||g.skipNull&&null===t||g.skipEmptyString&&""===t?I:null===t?[...I,[cu(e,g),":list="].join("")]:[...I,[cu(e,g),":list=",cu(t,g)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===g.arrayFormat?"[]=":"=";return I=>(t,n)=>void 0===n||g.skipNull&&null===n||g.skipEmptyString&&""===n?t:(n=null===n?"":n,0===t.length?[[cu(I,g),e,cu(n,g)].join("")]:[[t,cu(n,g)].join(g.arrayFormatSeparator)])}default:return e=>(I,t)=>void 0===t||g.skipNull&&null===t||g.skipEmptyString&&""===t?I:null===t?[...I,cu(e,g)]:[...I,[cu(e,g),"=",cu(t,g)].join("")]}}(e),n={};for(const[e,t]of Object.entries(g))I(e)||(n[e]=t);const l=Object.keys(n);return!1!==e.sort&&l.sort(e.sort),l.map((I=>{const n=g[I];return void 0===n?"":null===n?cu(I,e):Array.isArray(n)?0===n.length&&"bracket-separator"===e.arrayFormat?cu(I,e)+"[]":n.reduce(t(I),[]).join("&"):cu(I,e)+"="+cu(n,e)})).filter((g=>g.length>0)).join("&")}function pu(g,e){e={decode:!0,...e};let[I,t]=lu(g,"#");return void 0===I&&(I=g),{url:I?.split("?")?.[0]??"",query:bu(mu(g),e),...e&&e.parseFragmentIdentifier&&t?{fragmentIdentifier:Au(t,e)}:{}}}function Gu(g,e){e={encode:!0,strict:!0,[ru]:!0,...e};const I=su(g.url).split("?")[0]||"";let t=Zu({...bu(mu(g.url),{sort:!1}),...g.query},e);t&&(t=`?${t}`);let n=function(g){let e="";const I=g.indexOf("#");return-1!==I&&(e=g.slice(I)),e}(g.url);if(g.fragmentIdentifier){const t=new URL(I);t.hash=g.fragmentIdentifier,n=e[ru]?t.hash:`#${g.fragmentIdentifier}`}return`${I}${t}${n}`}function hu(g,e,I){I={parseFragmentIdentifier:!0,[ru]:!1,...I};const{url:t,query:n,fragmentIdentifier:l}=pu(g,I);return Gu({url:t,query:Cu(n,e),fragmentIdentifier:l},I)}function yu(g,e,I){return hu(g,Array.isArray(e)?g=>!e.includes(g):(g,I)=>!e(g,I),I)}var Bu=g;const Su=g=>{localStorage.setItem("access",g.access),localStorage.setItem("refresh",g.refresh),localStorage.setItem("username",g.user),window.location.reload(!0)},Wu=g=>{window.location.replace(g.authorization_url)},Vu=()=>{IA("/usuario/auth/o/google-oauth2/?redirect_uri="+ab,Wu)},Ru=()=>{const g=ft();return(0,e.useEffect)((()=>{var e=Bu.parse(g.search);e.state&&e.code&&!localStorage.getItem("access")&&((g,e,I={})=>{const t=ab+"/usuario/auth/o/google-oauth2/";var n=[];for(var l in I){var C=encodeURIComponent(l),o=encodeURIComponent(I[l]);n.push(C+"="+o)}n=n.join("&");var a={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("access")?"JWT "+localStorage.getItem("access"):null,"X-CSRFToken":_c},withCredentials:!0,body:n};fetch(t,a).then((g=>200===g.status||201===g.status?g.json():401===g.status||g.status>400?(void 0).setState((()=>({placeholder:"Error"}))):void 0)).then((g=>{g&&e(g)}))})(0,Su,e)}),[g]),(0,m.jsx)(aI,{variant:"contained",onClick:Vu,color:"success",children:(0,m.jsx)(YI,{variant:"h6",children:localStorage.getItem("access")?localStorage.getItem("username"):"Log in"})})};var vu=(0,e.memo)(Ru),fu=n(4613),Xu=n(6818);const ku=(()=>{let g=0;return()=>(g+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${g}`)})();function Ju(g){const e=[];for(let I=0,t=g.length;I<t;I++)e.push(g[I]);return e}function Yu(g,e){const I=(g.ownerDocument.defaultView||window).getComputedStyle(g).getPropertyValue(e);return I?parseFloat(I.replace("px","")):0}function Hu(g,e={}){return{width:e.width||function(g){const e=Yu(g,"border-left-width"),I=Yu(g,"border-right-width");return g.clientWidth+e+I}(g),height:e.height||function(g){const e=Yu(g,"border-top-width"),I=Yu(g,"border-bottom-width");return g.clientHeight+e+I}(g)}}const wu=16384;function Nu(g){return new Promise(((e,I)=>{const t=new Image;t.decode=()=>e(t),t.onload=()=>e(t),t.onerror=I,t.crossOrigin="anonymous",t.decoding="async",t.src=g}))}const Fu=(g,e)=>{if(g instanceof e)return!0;const I=Object.getPrototypeOf(g);return null!==I&&(I.constructor.name===e.name||Fu(I,e))};function Ku(g,e,I){const t=window.getComputedStyle(g,I),n=t.getPropertyValue("content");if(""===n||"none"===n)return;const l=ku();try{e.className=`${e.className} ${l}`}catch(g){return}const C=document.createElement("style");C.appendChild(function(g,e,I){const t=`.${g}:${e}`,n=I.cssText?function(g){const e=g.getPropertyValue("content");return`${g.cssText} content: '${e.replace(/'|"/g,"")}';`}(I):function(g){return Ju(g).map((e=>`${e}: ${g.getPropertyValue(e)}${g.getPropertyPriority(e)?" !important":""};`)).join(" ")}(I);return document.createTextNode(`${t}{${n}}`)}(l,I,t)),e.appendChild(C)}const xu="application/font-woff",zu="image/jpeg",Mu={woff:xu,woff2:xu,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:zu,jpeg:zu,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Eu(g){const e=function(g){const e=/\.([^./]*?)$/g.exec(g);return e?e[1]:""}(g).toLowerCase();return Mu[e]||""}function Lu(g){return-1!==g.search(/^(data:)/)}function Uu(g,e){return`data:${e};base64,${g}`}async function Qu(g,e,I){const t=await fetch(g,e);if(404===t.status)throw new Error(`Resource "${t.url}" not found`);const n=await t.blob();return new Promise(((g,e)=>{const l=new FileReader;l.onerror=e,l.onloadend=()=>{try{g(I({res:t,result:l.result}))}catch(g){e(g)}},l.readAsDataURL(n)}))}const Tu={};async function Du(g,e,I){const t=function(g,e,I){let t=g.replace(/\?.*/,"");return I&&(t=g),/ttf|otf|eot|woff2?/i.test(t)&&(t=t.replace(/.*\//,"")),e?`[${e}]${t}`:t}(g,e,I.includeQueryParams);if(null!=Tu[t])return Tu[t];let n;I.cacheBust&&(g+=(/\?/.test(g)?"&":"?")+(new Date).getTime());try{const t=await Qu(g,I.fetchRequestInit,(({res:g,result:I})=>(e||(e=g.headers.get("Content-Type")||""),function(g){return g.split(/,/)[1]}(I))));n=Uu(t,e)}catch(e){n=I.imagePlaceholder||"";let t=`Failed to fetch resource: ${g}`;e&&(t="string"==typeof e?e:e.message),t&&console.warn(t)}return Tu[t]=n,n}const ju=g=>null!=g.tagName&&"SLOT"===g.tagName.toUpperCase();async function Pu(g,e,I){return I||!e.filter||e.filter(g)?Promise.resolve(g).then((g=>async function(g,e){return Fu(g,HTMLCanvasElement)?async function(g){const e=g.toDataURL();return"data:,"===e?g.cloneNode(!1):Nu(e)}(g):Fu(g,HTMLVideoElement)?async function(g,e){if(g.currentSrc){const e=document.createElement("canvas"),I=e.getContext("2d");return e.width=g.clientWidth,e.height=g.clientHeight,null==I||I.drawImage(g,0,0,e.width,e.height),Nu(e.toDataURL())}const I=g.poster,t=Eu(I);return Nu(await Du(I,t,e))}(g,e):Fu(g,HTMLIFrameElement)?async function(g){var e;try{if(null===(e=null==g?void 0:g.contentDocument)||void 0===e?void 0:e.body)return await Pu(g.contentDocument.body,{},!0)}catch(g){}return g.cloneNode(!1)}(g):g.cloneNode(!1)}(g,e))).then((I=>async function(g,e,I){var t,n;let l=[];return l=ju(g)&&g.assignedNodes?Ju(g.assignedNodes()):Fu(g,HTMLIFrameElement)&&(null===(t=g.contentDocument)||void 0===t?void 0:t.body)?Ju(g.contentDocument.body.childNodes):Ju((null!==(n=g.shadowRoot)&&void 0!==n?n:g).childNodes),0===l.length||Fu(g,HTMLVideoElement)||await l.reduce(((g,t)=>g.then((()=>Pu(t,I))).then((g=>{g&&e.appendChild(g)}))),Promise.resolve()),e}(g,I,e))).then((e=>function(g,e){return Fu(e,Element)&&(function(g,e){const I=e.style;if(!I)return;const t=window.getComputedStyle(g);t.cssText?(I.cssText=t.cssText,I.transformOrigin=t.transformOrigin):Ju(t).forEach((n=>{let l=t.getPropertyValue(n);if("font-size"===n&&l.endsWith("px")){const g=Math.floor(parseFloat(l.substring(0,l.length-2)))-.1;l=`${g}px`}Fu(g,HTMLIFrameElement)&&"display"===n&&"inline"===l&&(l="block"),"d"===n&&e.getAttribute("d")&&(l=`path(${e.getAttribute("d")})`),I.setProperty(n,l,t.getPropertyPriority(n))}))}(g,e),function(g,e){Ku(g,e,":before"),Ku(g,e,":after")}(g,e),function(g,e){Fu(g,HTMLTextAreaElement)&&(e.innerHTML=g.value),Fu(g,HTMLInputElement)&&e.setAttribute("value",g.value)}(g,e),function(g,e){if(Fu(g,HTMLSelectElement)){const I=e,t=Array.from(I.children).find((e=>g.value===e.getAttribute("value")));t&&t.setAttribute("selected","")}}(g,e)),e}(g,e))).then((g=>async function(g,e){const I=g.querySelectorAll?g.querySelectorAll("use"):[];if(0===I.length)return g;const t={};for(let n=0;n<I.length;n++){const l=I[n].getAttribute("xlink:href");if(l){const I=g.querySelector(l),n=document.querySelector(l);I||!n||t[l]||(t[l]=await Pu(n,e,!0))}}const n=Object.values(t);if(n.length){const e="http://www.w3.org/1999/xhtml",I=document.createElementNS(e,"svg");I.setAttribute("xmlns",e),I.style.position="absolute",I.style.width="0",I.style.height="0",I.style.overflow="hidden",I.style.display="none";const t=document.createElementNS(e,"defs");I.appendChild(t);for(let g=0;g<n.length;g++)t.appendChild(n[g]);g.appendChild(I)}return g}(g,e))):null}const Ou=/url\((['"]?)([^'"]+?)\1\)/g,qu=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,$u=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function _u(g){return-1!==g.search(Ou)}async function gm(g,e,I){if(!_u(g))return g;const t=function(g,{preferredFontFormat:e}){return e?g.replace($u,(g=>{for(;;){const[I,,t]=qu.exec(g)||[];if(!t)return"";if(t===e)return`src: ${I};`}})):g}(g,I),n=function(g){const e=[];return g.replace(Ou,((g,I,t)=>(e.push(t),g))),e.filter((g=>!Lu(g)))}(t);return n.reduce(((g,t)=>g.then((g=>async function(g,e,I,t,n){try{const l=I?function(g,e){if(g.match(/^[a-z]+:\/\//i))return g;if(g.match(/^\/\//))return window.location.protocol+g;if(g.match(/^[a-z]+:/i))return g;const I=document.implementation.createHTMLDocument(),t=I.createElement("base"),n=I.createElement("a");return I.head.appendChild(t),I.body.appendChild(n),e&&(t.href=e),n.href=g,n.href}(e,I):e,C=Eu(e);let o;return o=n?Uu(await n(l),C):await Du(l,C,t),g.replace(function(g){const e=g.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${o}$3`)}catch(g){}return g}(g,t,e,I)))),Promise.resolve(t))}async function em(g,e,I){var t;const n=null===(t=e.style)||void 0===t?void 0:t.getPropertyValue(g);if(n){const t=await gm(n,null,I);return e.style.setProperty(g,t,e.style.getPropertyPriority(g)),!0}return!1}async function Im(g,e){Fu(g,Element)&&(await async function(g,e){await em("background",g,e)||await em("background-image",g,e),await em("mask",g,e)||await em("mask-image",g,e)}(g,e),await async function(g,e){const I=Fu(g,HTMLImageElement);if((!I||Lu(g.src))&&(!Fu(g,SVGImageElement)||Lu(g.href.baseVal)))return;const t=I?g.src:g.href.baseVal,n=await Du(t,Eu(t),e);await new Promise(((e,t)=>{g.onload=e,g.onerror=t;const l=g;l.decode&&(l.decode=e),"lazy"===l.loading&&(l.loading="eager"),I?(g.srcset="",g.src=n):g.href.baseVal=n}))}(g,e),await async function(g,e){const I=Ju(g.childNodes).map((g=>Im(g,e)));await Promise.all(I).then((()=>g))}(g,e))}const tm={};async function nm(g){let e=tm[g];if(null!=e)return e;const I=await fetch(g);return e={url:g,cssText:await I.text()},tm[g]=e,e}async function lm(g,e){let I=g.cssText;const t=/url\(["']?([^"')]+)["']?\)/g,n=(I.match(/url\([^)]+\)/g)||[]).map((async n=>{let l=n.replace(t,"$1");return l.startsWith("https://")||(l=new URL(l,g.url).href),Qu(l,e.fetchRequestInit,(({result:g})=>(I=I.replace(n,`url(${g})`),[n,g])))}));return Promise.all(n).then((()=>I))}function Cm(g){if(null==g)return[];const e=[];let I=g.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const t=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const g=t.exec(I);if(null===g)break;e.push(g[0])}I=I.replace(t,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let g=n.exec(I);if(null===g){if(g=l.exec(I),null===g)break;n.lastIndex=l.lastIndex}else l.lastIndex=n.lastIndex;e.push(g[0])}return e}async function om(g,e){const I=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:await async function(g,e){const I=await async function(g,e){if(null==g.ownerDocument)throw new Error("Provided element is not within a Document");const I=Ju(g.ownerDocument.styleSheets),t=await async function(g,e){const I=[],t=[];return g.forEach((I=>{if("cssRules"in I)try{Ju(I.cssRules||[]).forEach(((g,n)=>{if(g.type===CSSRule.IMPORT_RULE){let l=n+1;const C=nm(g.href).then((g=>lm(g,e))).then((g=>Cm(g).forEach((g=>{try{I.insertRule(g,g.startsWith("@import")?l+=1:I.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:g,error:e})}})))).catch((g=>{console.error("Error loading remote css",g.toString())}));t.push(C)}}))}catch(n){const l=g.find((g=>null==g.href))||document.styleSheets[0];null!=I.href&&t.push(nm(I.href).then((g=>lm(g,e))).then((g=>Cm(g).forEach((g=>{l.insertRule(g,I.cssRules.length)})))).catch((g=>{console.error("Error loading remote stylesheet",g)}))),console.error("Error inlining remote css file",n)}})),Promise.all(t).then((()=>(g.forEach((g=>{if("cssRules"in g)try{Ju(g.cssRules||[]).forEach((g=>{I.push(g)}))}catch(e){console.error(`Error while reading CSS rules from ${g.href}`,e)}})),I)))}(I,e);return function(g){return g.filter((g=>g.type===CSSRule.FONT_FACE_RULE)).filter((g=>_u(g.style.getPropertyValue("src"))))}(t)}(g,e);return(await Promise.all(I.map((g=>{const I=g.parentStyleSheet?g.parentStyleSheet.href:null;return gm(g.cssText,I,e)})))).join("\n")}(g,e);if(I){const e=document.createElement("style"),t=document.createTextNode(I);e.appendChild(t),g.firstChild?g.insertBefore(e,g.firstChild):g.appendChild(e)}}async function am(g,e={}){const{width:I,height:t}=Hu(g,e),n=await Pu(g,e,!0);return await om(n,e),await Im(n,e),function(g,e){const{style:I}=g;e.backgroundColor&&(I.backgroundColor=e.backgroundColor),e.width&&(I.width=`${e.width}px`),e.height&&(I.height=`${e.height}px`);const t=e.style;null!=t&&Object.keys(t).forEach((g=>{I[g]=t[g]}))}(n,e),await async function(g,e,I){const t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg"),l=document.createElementNS(t,"foreignObject");return n.setAttribute("width",`${e}`),n.setAttribute("height",`${I}`),n.setAttribute("viewBox",`0 0 ${e} ${I}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),n.appendChild(l),l.appendChild(g),async function(g){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(g))).then(encodeURIComponent).then((g=>`data:image/svg+xml;charset=utf-8,${g}`))}(n)}(n,I,t)}const rm=(0,l.ZP)((({className:g,...e})=>(0,m.jsx)(Yl,{...e,classes:{popper:g}})))((({theme:g})=>({[`& .${Sl.tooltip}`]:{backgroundColor:g.palette.background.paper,color:g.palette.text.primary,boxShadow:g.shadows[1],fontSize:11,textAlign:"justify"}}))),im={id:0,nombre:"",genero_nombre:[""],sinopsis:"",emision:"",fecha_salida:"1990",temporada:"Temporada del 1990",promedio_puntuaciones:0,link_imdb:"https://www.imdb.com/",cantidad_episodios:0,color_carta:"grey",image:"/media/none.png"},cm=({apiURL:g})=>{let I=kt(),t=function(){let{matches:g}=e.useContext(Vt),I=g[g.length-1];return I?I.params:{}}();const[n,C]=(0,e.useState)(JSON.parse(localStorage.getItem("SerieData"+t.id))||im),o=n.image,a=g=>{g&&C(g)},r="/principal/puntuacion/?serie="+t.id,[i,c]=(0,e.useState)([{puntuacion:"0"}]),[A,d]=(0,e.useState)(0),s=g=>{g.length>0&&c(g)},u=g=>{if(localStorage.getItem("access")){var e={puntuacion:g,serie:t.id};((g,e,I={})=>{const t=ab+g;var n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("access")?"JWT "+localStorage.getItem("access"):null,"X-CSRFToken":_c},withCredentials:!0,body:JSON.stringify(I)};fetch(t,n).then((g=>200===g.status||201===g.status?g.json():401===g.status||g.status>400?(void 0).setState((()=>({placeholder:"Error"}))):void 0)).then((g=>{g&&e(g)}))})(r,s,e),d(g)}else Vu()};(0,e.useEffect)((()=>{IA("/principal"+g+t.id,a),localStorage.getItem("access")&&IA(r,s,!1)}),[]),(0,e.useEffect)((()=>{i&&d(parseInt(i[0].puntuacion))}),[i]);const b=(0,l.ZP)("img")({display:"block"}),Z=(0,e.useRef)(null);return(0,m.jsxs)(qg,{sx:{p:2,margin:"auto",maxWidth:1e3,flexGrow:1},children:[(0,m.jsxs)(ws,{children:[(0,m.jsx)("title",{children:n.nombre}),(0,m.jsx)("meta",{name:"description",content:n.sinopsis}),(0,m.jsx)("link",{rel:"canonical",href:g+t.id})]}),(0,m.jsx)(Ae,{position:"static",children:(0,m.jsxs)(me,{children:[(0,m.jsx)(YI,{variant:"h6",sx:{flexGrow:1},children:n.nombre}),(0,m.jsx)(N,{children:(0,m.jsx)(rm,{title:"Back to list",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{color:"inherit","aria-label":"Sync",onClick:()=>{I("/serie",{replace:!0})},edge:"start",sx:{margin:"1px"},children:(0,m.jsx)(fu.Z,{})})})}),(0,m.jsx)(N,{sx:{display:A>0?"flex":"none"},children:(0,m.jsx)(rm,{title:"Save",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{color:"inherit","aria-label":"Sync",onClick:()=>{(async function(g,e={}){return(await async function(g,e={}){const{width:I,height:t}=Hu(g,e),n=await am(g,e),l=await Nu(n),C=document.createElement("canvas"),o=C.getContext("2d"),a=e.pixelRatio||function(){let g,e;try{e=process}catch(g){}const I=e&&e.env?e.env.devicePixelRatio:null;return I&&(g=parseInt(I,10),Number.isNaN(g)&&(g=1)),g||window.devicePixelRatio||1}(),r=e.canvasWidth||I,i=e.canvasHeight||t;return C.width=r*a,C.height=i*a,e.skipAutoScale||function(g){(g.width>wu||g.height>wu)&&(g.width>wu&&g.height>wu?g.width>g.height?(g.height*=wu/g.width,g.width=wu):(g.width*=wu/g.height,g.height=wu):g.width>wu?(g.height*=wu/g.width,g.width=wu):(g.width*=wu/g.height,g.height=wu))}(C),C.style.width=`${r}`,C.style.height=`${i}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,C.width,C.height)),o.drawImage(l,0,0,C.width,C.height),C}(g,e)).toDataURL()})(Z.current,{cacheBust:!1}).then((g=>{const e=document.createElement("a");e.download=n.nombre,e.href=g,e.click()})).catch((g=>{console.log(g)}))},edge:"start",sx:{margin:"1px"},children:(0,m.jsx)(Xu.Z,{})})})})]})}),(0,m.jsxs)(cr,{container:!0,spacing:2,sx:{marginTop:"10px"},children:[(0,m.jsx)(cr,{item:!0,sx:{margin:"auto"},children:0==n.id?(0,m.jsxs)(N,{children:[(0,m.jsx)(b,{alt:"complex",src:"/media/cards/back.jpg",sx:{display:{xs:"none",sm:"none",md:"flex"},width:460,height:671}}),(0,m.jsx)(b,{alt:"complex",src:"/media/cards/back.jpg",sx:{display:{xs:"none",sm:"flex",md:"none"},width:350,height:511}}),(0,m.jsx)(b,{alt:"complex",src:"/media/cards/back.jpg",sx:{display:{xs:"flex",sm:"none"},width:240,height:350}})]}):(0,m.jsxs)(zd,{component:"label",onClick:()=>{window.open(n.link_imdb)},children:[(0,m.jsx)(N,{ref:Z,sx:{display:{xs:"none",sm:"none",md:"flex"}},children:(0,m.jsx)(fd,{nombre:n.nombre,puntuacion:n.promedio_puntuaciones,descripcion:n.sinopsis,fecha_inicio:n.fecha_salida,genero:n.genero_nombre,cantidad:n.cantidad_episodios,color:n.color_carta,img:o,size:"large"},n.id)}),(0,m.jsx)(N,{sx:{display:{xs:"none",sm:"flex",md:"none"}},children:(0,m.jsx)(fd,{nombre:n.nombre,puntuacion:n.promedio_puntuaciones,descripcion:n.sinopsis,fecha_inicio:n.fecha_salida,genero:n.genero_nombre,cantidad:n.cantidad_episodios,color:n.color_carta,img:o,size:"medium"},n.id)}),(0,m.jsx)(N,{sx:{display:{xs:"flex",sm:"none"}},children:(0,m.jsx)(fd,{nombre:n.nombre,puntuacion:n.promedio_puntuaciones,descripcion:n.sinopsis,fecha_inicio:n.fecha_salida,genero:n.genero_nombre,cantidad:n.cantidad_episodios,color:n.color_carta,img:o,size:"small"},n.id)})]})}),(0,m.jsxs)(cr,{item:!0,xs:!0,children:[(0,m.jsxs)(N,{sx:{display:"flex",alignItems:"center",marginTop:1},children:[(0,m.jsx)(YI,{variant:"subtitle1",component:"div",sx:{flexGrow:1},children:"Your Score:"}),(0,m.jsx)(BA,{name:"simple-controlled",sx:{flexGrow:0,display:{xs:"none",sm:"flex"}},value:A,onChange:(g,e)=>{u(e)},emptyIcon:(0,m.jsx)(SA.Z,{style:{opacity:.55},fontSize:"inherit"}),max:10}),(0,m.jsx)(BA,{name:"simple-controlled",sx:{flexGrow:0,display:{xs:"flex",sm:"none"}},value:A,onChange:(g,e)=>{u(e)},emptyIcon:(0,m.jsx)(SA.Z,{style:{opacity:.55},fontSize:"inherit"}),size:"small",max:10})]}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(N,{children:(0,m.jsx)(YI,{variant:"body1",sx:{textAlign:"justify"},children:n.genero_nombre.join(", ")})}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsxs)(N,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsxs)(YI,{variant:"body1",sx:{textAlign:"justify",flexGrow:1},children:["Episodes: ",n.cantidad_episodios]}),(0,m.jsx)(YI,{variant:"body1",sx:{textAlign:"justify",flexGrow:0},children:n.emision})]}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(N,{children:(0,m.jsx)(YI,{variant:"body1",sx:{textAlign:"justify"},children:n.temporada})}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(N,{children:(0,m.jsx)(YI,{variant:"body1",sx:{textAlign:"justify",overflow:"auto",maxHeight:460},children:n.sinopsis})})]})]})]})};var Am=(0,e.memo)(cm);const dm=(0,l.ZP)("img")({display:"block",maxWidth:"100%"}),sm=({content:g,titulo:e,descripcion:I,url:t,image:n})=>(0,m.jsx)(N,{sx:{width:"100%"},children:(0,m.jsxs)(qg,{sx:{p:2,margin:"auto",maxWidth:1e3,flexGrow:1},children:[(0,m.jsxs)(ws,{children:[(0,m.jsx)("title",{children:e}),(0,m.jsx)("meta",{name:"description",content:I}),(0,m.jsx)("link",{rel:"canonical",href:t})]}),(0,m.jsx)(Ae,{position:"static",children:(0,m.jsx)(me,{children:(0,m.jsx)(YI,{variant:"h6",sx:{flexGrow:1},children:e})})}),(0,m.jsxs)(qg,{sx:{p:2,margin:2,flexGrow:1},children:[(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:g}}),(0,m.jsx)(dm,{src:`${n}`})]}),(0,m.jsx)(N,{sx:{p:1}})]})});var um=(0,e.memo)(sm),mm=n(3137),bm=()=>{const[g,I]=(0,e.useState)([]);return(0,e.useEffect)((()=>{IA("/frontend/ip_address_map/",I)}),[]),(0,m.jsxs)(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,m.jsx)(N,{sx:{width:"auto",display:{xs:"none",sm:"none",md:"flex"}},children:(0,m.jsx)(N,{sx:{width:0,marginLeft:-35},children:(0,m.jsx)(mm.ZP,{color:"red","value-suffix":"people",size:"lg",data:g})})}),(0,m.jsx)(N,{sx:{width:"auto",display:{xs:"none",sm:"flex",md:"none"}},children:(0,m.jsx)(N,{sx:{width:0,marginLeft:-25},children:(0,m.jsx)(mm.ZP,{color:"red","value-suffix":"people",size:"md",data:g})})}),(0,m.jsx)(N,{sx:{width:"auto",display:{xs:"flex",sm:"none"},marginLeft:-50},children:(0,m.jsx)(N,{sx:{width:0},children:(0,m.jsx)(mm.ZP,{color:"red","value-suffix":"people",size:"md",data:g})})})]})};const Zm=({apiURL:g,content:e,titulo:I,descripcion:t,url:n})=>(0,m.jsx)(N,{sx:{width:"100%"},children:(0,m.jsxs)(qg,{sx:{p:2,margin:"auto",maxWidth:1e3,flexGrow:1},children:[(0,m.jsxs)(ws,{children:[(0,m.jsx)("title",{children:I}),(0,m.jsx)("meta",{name:"description",content:t}),(0,m.jsx)("link",{rel:"canonical",href:n})]}),(0,m.jsx)(Ae,{position:"static",children:(0,m.jsx)(me,{children:(0,m.jsx)(YI,{variant:"h6",sx:{flexGrow:1},children:I})})}),(0,m.jsxs)(qg,{sx:{p:2,margin:2,flexGrow:1},children:[(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:e}}),(0,m.jsx)(N,{sx:{margin:"auto",padding:3},children:(0,m.jsx)(bm,{})})]}),(0,m.jsx)(N,{sx:{p:1}})]})});var pm=e.memo(Zm),Gm=n(7447),hm=n(9879),ym=n(7289),Bm=n(265),Sm=n(4518),Wm=n(7327),Vm=n(8394);function Rm(g){return(0,fg.Z)("MuiDialog",g)}var vm=(0,vg.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),fm=e.createContext({});const Xm=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],km=(0,l.ZP)(Yg,{name:"MuiDialog",slot:"Backdrop",overrides:(g,e)=>e.backdrop})({zIndex:-1}),Jm=(0,l.ZP)(xg,{name:"MuiDialog",slot:"Root",overridesResolver:(g,e)=>e.root})({"@media print":{position:"absolute !important"}}),Ym=(0,l.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.container,e[`scroll${(0,$g.Z)(I.scroll)}`]]}})((({ownerState:g})=>(0,c.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===g.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===g.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),Hm=(0,l.ZP)(qg,{name:"MuiDialog",slot:"Paper",overridesResolver:(g,e)=>{const{ownerState:I}=g;return[e.paper,e[`scrollPaper${(0,$g.Z)(I.scroll)}`],e[`paperWidth${(0,$g.Z)(String(I.maxWidth))}`],I.fullWidth&&e.paperFullWidth,I.fullScreen&&e.paperFullScreen]}})((({theme:g,ownerState:e})=>(0,c.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===e.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===e.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===e.maxWidth&&{maxWidth:"px"===g.breakpoints.unit?Math.max(g.breakpoints.values.xs,444):`max(${g.breakpoints.values.xs}${g.breakpoints.unit}, 444px)`,[`&.${vm.paperScrollBody}`]:{[g.breakpoints.down(Math.max(g.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&"xs"!==e.maxWidth&&{maxWidth:`${g.breakpoints.values[e.maxWidth]}${g.breakpoints.unit}`,[`&.${vm.paperScrollBody}`]:{[g.breakpoints.down(g.breakpoints.values[e.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${vm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})));var wm=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiDialog"}),n=r(),l={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":C,"aria-labelledby":o,BackdropComponent:a,BackdropProps:i,children:d,className:s,disableEscapeKeyDown:u=!1,fullScreen:b=!1,fullWidth:Z=!1,maxWidth:p="sm",onBackdropClick:G,onClose:h,open:y,PaperComponent:B=qg,PaperProps:S={},scroll:V="paper",TransitionComponent:R=Rg,transitionDuration:v=l,TransitionProps:f}=t,X=(0,A.Z)(t,Xm),k=(0,c.Z)({},t,{disableEscapeKeyDown:u,fullScreen:b,fullWidth:Z,maxWidth:p,scroll:V}),J=(g=>{const{classes:e,scroll:I,maxWidth:t,fullWidth:n,fullScreen:l}=g,C={root:["root"],container:["container",`scroll${(0,$g.Z)(I)}`],paper:["paper",`paperScroll${(0,$g.Z)(I)}`,`paperWidth${(0,$g.Z)(String(t))}`,n&&"paperFullWidth",l&&"paperFullScreen"]};return(0,F.Z)(C,Rm,e)})(k),Y=e.useRef(),H=(0,JC.Z)(o),w=e.useMemo((()=>({titleId:H})),[H]);return(0,m.jsx)(Jm,(0,c.Z)({className:(0,W.Z)(J.root,s),closeAfterTransition:!0,components:{Backdrop:km},componentsProps:{backdrop:(0,c.Z)({transitionDuration:v,as:a},i)},disableEscapeKeyDown:u,onClose:h,open:y,ref:I,onClick:g=>{Y.current&&(Y.current=null,G&&G(g),h&&h(g,"backdropClick"))},ownerState:k},X,{children:(0,m.jsx)(R,(0,c.Z)({appear:!0,in:y,timeout:v,role:"presentation"},f,{children:(0,m.jsx)(Ym,{className:(0,W.Z)(J.container),onMouseDown:g=>{Y.current=g.target===g.currentTarget},ownerState:k,children:(0,m.jsx)(Hm,(0,c.Z)({as:B,elevation:24,role:"dialog","aria-describedby":C,"aria-labelledby":H},S,{className:(0,W.Z)(J.paper,S.className),ownerState:k,children:(0,m.jsx)(fm.Provider,{value:w,children:d})}))})}))}))}));function Nm(g){return(0,fg.Z)("MuiDialogTitle",g)}(0,vg.Z)("MuiDialogTitle",["root"]);const Fm=["className","id"],Km=(0,l.ZP)(YI,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(g,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"});var xm=e.forwardRef((function(g,I){const t=(0,rg.Z)({props:g,name:"MuiDialogTitle"}),{className:n,id:l}=t,C=(0,A.Z)(t,Fm),o=t,a=(g=>{const{classes:e}=g;return(0,F.Z)({root:["root"]},Nm,e)})(o),{titleId:r=l}=e.useContext(fm);return(0,m.jsx)(Km,(0,c.Z)({component:"h2",className:(0,W.Z)(a.root,n),ownerState:o,ref:I,variant:"h6",id:null!=l?l:r},C))})),zm=n(2090),Mm=n.n(zm);const Em=(0,e.createContext)(null),Lm={didCatch:!1,error:null};class Um extends e.Component{constructor(g){super(g),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Lm}static getDerivedStateFromError(g){return{didCatch:!0,error:g}}resetErrorBoundary(){const{error:g}=this.state;if(null!==g){for(var e,I,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];null===(e=(I=this.props).onReset)||void 0===e||e.call(I,{args:n,reason:"imperative-api"}),this.setState(Lm)}}componentDidCatch(g,e){var I,t;null===(I=(t=this.props).onError)||void 0===I||I.call(t,g,e)}componentDidUpdate(g,e){const{didCatch:I}=this.state,{resetKeys:t}=this.props;var n,l;I&&null!==e.error&&function(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return g.length!==e.length||g.some(((g,I)=>!Object.is(g,e[I])))}(g.resetKeys,t)&&(null===(n=(l=this.props).onReset)||void 0===n||n.call(l,{next:t,prev:g.resetKeys,reason:"keys"}),this.setState(Lm))}render(){const{children:g,fallbackRender:I,FallbackComponent:t,fallback:n}=this.props,{didCatch:l,error:C}=this.state;let o=g;if(l){const g={error:C,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof I)o=I(g);else if(t)o=(0,e.createElement)(t,g);else{if(null!==n&&!(0,e.isValidElement)(n))throw C;o=n}}return(0,e.createElement)(Em.Provider,{value:{didCatch:l,error:C,resetErrorBoundary:this.resetErrorBoundary}},o)}}function Qm({error:g,resetErrorBoundary:I}){const[t,n]=(0,e.useState)(!0);return(0,m.jsx)(wm,{onClose:()=>{n(!1)},open:t,children:(0,m.jsxs)(N,{sx:{p:2},children:[(0,m.jsxs)(N,{sx:{display:"flex"},children:[(0,m.jsx)(YI,{variant:"h6",sx:{flexGrow:1},children:"Something went wrong:"}),(0,m.jsx)(zd,{variant:"contained",sx:{flexGrow:0},endIcon:(0,m.jsx)(XA.Z,{}),children:"Try again"})]}),(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(YI,{variant:"subtitle2",children:g.message})]})})}class Tm extends e.Component{render(){const{children:g}=this.props;return(0,m.jsx)(Um,{FallbackComponent:Qm,onReset:()=>{},resetKeys:["someKey"],children:g})}}var Dm=(0,e.memo)(Tm);const jm={height:240,width:320},Pm=({data:g})=>{const[I,t]=(0,e.useState)(!1);return(0,m.jsxs)(N,{children:[(0,m.jsx)(dI,{color:"inherit","aria-label":"QR",onClick:()=>{t(!0)},sx:{flexGrow:0},children:(0,m.jsx)(Vm.Z,{})}),(0,m.jsx)(Dm,{children:(0,m.jsxs)(wm,{onClose:()=>{t(!1)},open:I,children:[(0,m.jsx)(xm,{sx:{margin:"auto"},children:"QR Scanner"}),(0,m.jsx)(Mm(),{delay:300,style:jm,onError:g=>{console.log({QR_err:g})},onScan:e=>{e&&(g(e.text),console.log({QR:e.text}),t(!1))},constraints:{audio:!1,video:{facingMode:"environment"}}})]})})]})};var Om=(0,e.memo)(Pm);const qm=(0,e.createContext)({toggleColorMode:()=>{}}),$m=70,_m=(0,l.ZP)((({className:g,...e})=>(0,m.jsx)(Yl,{...e,classes:{popper:g}})))((({theme:g})=>({[`& .${Sl.tooltip}`]:{backgroundColor:g.palette.background.paper,color:g.palette.text.primary,boxShadow:g.shadows[1],fontSize:11,textAlign:"justify"}}))),gb=g=>({width:210,transition:g.transitions.create("width",{easing:g.transitions.easing.sharp,duration:g.transitions.duration.enteringScreen}),overflowX:"hidden"}),eb=g=>({transition:g.transitions.create("width",{easing:g.transitions.easing.sharp,duration:g.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${g.spacing(7)} + 1px)`}),Ib=(0,l.ZP)("main",{shouldForwardProp:g=>"open"!==g})((({theme:g,open:e})=>({flexGrow:1,padding:g.spacing(3),transition:g.transitions.create("margin",{easing:g.transitions.easing.sharp,duration:g.transitions.duration.leavingScreen}),marginTop:$m-70,...!e&&{transition:g.transitions.create("margin",{easing:g.transitions.easing.easeOut,duration:g.transitions.duration.enteringScreen}),marginRight:0}}))),tb=(0,l.ZP)("div")((({theme:g})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:g.spacing(0,1),...g.mixins.toolbar}))),nb=(0,l.ZP)(Ae,{shouldForwardProp:g=>"open"!==g})((({theme:g,open:e})=>({zIndex:g.zIndex.drawer+1,transition:g.transitions.create(["width","margin"],{easing:g.transitions.easing.sharp,duration:g.transitions.duration.leavingScreen}),...e&&{marginLeft:210,width:"calc(100% - 210px)",transition:g.transitions.create(["width","margin"],{easing:g.transitions.easing.sharp,duration:g.transitions.duration.enteringScreen})},...!e&&{width:"100%",transition:g.transitions.create(["margin","width"],{easing:g.transitions.easing.easeOut,duration:g.transitions.duration.enteringScreen})}}))),lb=(0,l.ZP)(oe,{shouldForwardProp:g=>"open"!==g})((({theme:g,open:e})=>({width:210,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...e&&{...gb(g),"& .MuiDrawer-paper":gb(g)},...!e&&{...eb(g),"& .MuiDrawer-paper":eb(g)}})));function Cb(){let g=kt();const I=(0,e.useContext)(qm),t=r(),[n,l]=(0,e.useState)("true"===localStorage.getItem("open")),C=ab+"/media/logo.png",o=ab+"/media/minilogo.png",[a,i]=(0,e.useState)([{id:0,url:"inicio",nombre:"Inicio",clasificacion:"INFO"}]),[c,A]=(0,e.useState)([{id:0,url:"fecha",nombre:"Fecha",clasificacion:"FECHA"}]),[d,s]=(0,e.useState)(0),u=()=>{l(!0),localStorage.setItem("open","true")};(0,e.useEffect)((()=>{IA("/frontend/menu/",i),IA("/frontend/filtro/",A)}),[]);const[b,Z]=(0,e.useState)(!1),[p,G]=(0,e.useState)("");return(0,m.jsxs)(N,{sx:{display:"flex"},children:[(0,m.jsx)(ve,{}),(0,m.jsx)(nb,{position:"fixed",open:n,children:(0,m.jsxs)(me,{sx:{height:$m},children:[(0,m.jsx)(_m,{title:"Open and close the menu",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{color:"inherit","aria-label":"open drawer",onClick:u,edge:"start",sx:{marginRight:"36px",...n&&{display:"none"}},children:(0,m.jsx)(Gm.Z,{})})}),(0,m.jsx)(N,{sx:{flexGrow:1},children:(0,m.jsxs)(aI,{onClick:()=>{g("/serie",{replace:!0})},children:[(0,m.jsx)(N,{sx:{display:{xs:"none",sm:"flex"}},children:(0,m.jsx)("img",{src:C,height:$m-7})}),(0,m.jsx)(N,{sx:{display:{xs:"flex",sm:"none"}},children:(0,m.jsx)("img",{src:o,height:$m-10})})]})}),(0,m.jsx)(N,{sx:{flexGrow:0,marginRight:1},children:(0,m.jsx)(_m,{title:"Toggles between dark and light mode",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{onClick:I.toggleColorMode,color:"inherit",children:"dark"===t.palette.mode?(0,m.jsx)(hm.Z,{}):(0,m.jsx)(ym.Z,{})})})}),(0,m.jsx)(_m,{title:"Sign out, clear the cache and refresh the page.",placement:"right-start",followCursor:!0,children:(0,m.jsx)(dI,{sx:{marginRight:1},onClick:()=>{rb()},color:"inherit",children:(0,m.jsx)(Wm.Z,{})})}),(0,m.jsx)(_m,{title:"QR Scanner.",placement:"right-start",followCursor:!0,children:(0,m.jsx)(N,{sx:{marginRight:1},children:(0,m.jsx)(Om,{data:g=>{G(g),Z(!0)}})})}),(0,m.jsxs)(wm,{onClose:()=>{Z(!1)},open:b,children:[(0,m.jsx)(xm,{sx:{margin:"auto"},children:"QR Scanner"}),(0,m.jsxs)(N,{sx:{p:2},children:[(0,m.jsx)(we,{sx:{marginTop:1,marginBottom:1}}),(0,m.jsx)(YI,{variant:"subtitle2",children:p})]})]}),(0,m.jsx)(vu,{})]})}),(0,m.jsxs)(lb,{variant:"permanent",open:n,children:[(0,m.jsx)(tb,{sx:{height:$m},children:(0,m.jsxs)(dI,{onClick:()=>{l(!1),localStorage.setItem("open","false")},children:["rtl"===t.direction?(0,m.jsx)(uI.Z,{}):(0,m.jsx)(sI.Z,{}),(0,m.jsx)(Gm.Z,{})]})}),(0,m.jsx)(we,{}),(0,m.jsx)(Nl,{items:a}),(0,m.jsx)(we,{}),(0,m.jsx)(JA,{items:c,handleDrawerOpen:u,openDrawer:n,requestSync:()=>{"/serie"===window.location.pathname?s(d+1):g("/serie",{replace:!0})}})]}),(0,m.jsxs)(Ib,{open:n,children:[(0,m.jsx)(tb,{}),(0,m.jsxs)(Et,{children:[a.map((g=>"LISTAR"===g.clasificacion?(0,m.jsx)(zt,{path:g.url,element:(0,m.jsx)(_s,{apiURL:"/"+g.url+"/",titulo:g.nombre,descripcion:g.descripcion,url:"/"+g.url,filtro:c,update:d},g.url)},g.id):"INFO"===g.clasificacion?(0,m.jsx)(zt,{path:g.url,element:(0,m.jsx)(um,{content:g.content,titulo:g.nombre,descripcion:g.descripcion,url:"/"+g.url,image:g.image_body},g.url)},g.id):"GRAPHIC"===g.clasificacion?(0,m.jsx)(zt,{path:g.url,element:(0,m.jsx)(pm,{apiURL:"/"+g.url+"/",content:g.content,titulo:g.nombre,descripcion:g.descripcion,url:"/"+g.url},g.url)},g.id):void 0)),a.map((g=>{if("LISTAR"===g.clasificacion)return(0,m.jsx)(zt,{path:"/"+g.url+"/:id",element:(0,m.jsx)(Am,{apiURL:"/"+g.url+"/"})},g.url+g.id)})),(0,m.jsx)(zt,{path:"",element:(0,m.jsx)(HA,{})})]})]})]})}function ob(){const[g,I]=(0,e.useState)(localStorage.getItem("mode")||"dark"),t=(0,e.useMemo)((()=>({toggleColorMode:()=>{I((g=>"light"===g?"dark":"light"))}})),[]),n=(0,e.useMemo)((()=>(0,i.Z)({palette:{primary:{light:Bm.Z[500],main:Bm.Z[700],dark:Bm.Z[900],contrastText:"#fff"},secondary:{light:Sm.Z[500],main:Sm.Z[700],dark:Sm.Z[900],contrastText:"#000"},mode:g}})),[g]);return(0,m.jsxs)(qm.Provider,{value:t,children:[localStorage.setItem("mode",g),(0,m.jsx)(S,{theme:n,children:(0,m.jsx)(Cb,{})})]})}const ab=window.location.origin,rb=()=>{var g=localStorage.getItem("mode");localStorage.clear(),localStorage.setItem("mode",g),caches.keys().then((g=>{g.forEach((g=>{caches.delete(g)}))})),window.location.reload(!0)};var ib=function(){return(0,m.jsx)(N,{children:(0,m.jsx)(Et,{children:(0,m.jsx)(zt,{path:"/*",element:(0,m.jsx)(ob,{})})})})};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const cb=I.startTransition;function Ab(g){let{basename:I,children:t,future:n,window:l}=g,C=e.useRef();var o;null==C.current&&(C.current=(void 0===(o={window:l,v5Compat:!0})&&(o={}),function(g,e,I,t){void 0===t&&(t={});let{window:n=document.defaultView,v5Compat:l=!1}=t,C=n.history,o=EI.Pop,a=null,r=i();function i(){return(C.state||{idx:null}).idx}function c(){o=EI.Pop;let g=i(),e=null==g?null:g-r;r=g,a&&a({action:o,location:d.location,delta:e})}function A(g){let e="null"!==n.location.origin?n.location.origin:n.location.href,I="string"==typeof g?g:OI(g);return TI(e,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,e)}null==r&&(r=0,C.replaceState(UI({},C.state,{idx:r}),""));let d={get action(){return o},get location(){return g(n,C)},listen(g){if(a)throw new Error("A history only accepts one active listener");return n.addEventListener(QI,c),a=g,()=>{n.removeEventListener(QI,c),a=null}},createHref(g){return e(n,g)},createURL:A,encodeLocation(g){let e=A(g);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(g,e){o=EI.Push;let t=PI(d.location,g,e);I&&I(t,g),r=i()+1;let c=jI(t,r),A=d.createHref(t);try{C.pushState(c,"",A)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;n.location.assign(A)}l&&a&&a({action:o,location:d.location,delta:1})},replace:function(g,e){o=EI.Replace;let t=PI(d.location,g,e);I&&I(t,g),r=i();let n=jI(t,r),c=d.createHref(t);C.replaceState(n,"",c),l&&a&&a({action:o,location:d.location,delta:0})},go(g){return C.go(g)}};return d}((function(g,e){let{pathname:I,search:t,hash:n}=g.location;return PI("",{pathname:I,search:t,hash:n},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(g,e){return"string"==typeof e?e:OI(e)}),null,o)));let a=C.current,[r,i]=e.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},A=e.useCallback((g=>{c&&cb?cb((()=>i(g))):i(g)}),[i,c]);return e.useLayoutEffect((()=>a.listen(A)),[a,A]),e.createElement(Mt,{basename:I,children:t,location:r.location,navigationType:r.action,navigator:a})}var db,sb;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,function(g){g.UseScrollRestoration="useScrollRestoration",g.UseSubmit="useSubmit",g.UseSubmitFetcher="useSubmitFetcher",g.UseFetcher="useFetcher"}(db||(db={})),function(g){g.UseFetchers="useFetchers",g.UseScrollRestoration="useScrollRestoration"}(sb||(sb={})),t.createRoot(document.getElementById("root")).render((0,m.jsx)(e.StrictMode,{children:(0,m.jsx)(Ab,{children:(0,m.jsx)(Rs,{children:(0,m.jsx)(ib,{})})})}))}()}();